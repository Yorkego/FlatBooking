  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (14.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (8.3ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
Migrating to CreateFlats (20180727140304)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "flats" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "address" varchar, "image" varchar, "description" varchar, "capacity" integer, "price" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ db/migrate/20180727140304_create_flats.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180727140304"]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (10.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2018-07-27 14:50:47.010622"], ["updated_at", "2018-07-27 14:50:47.010622"]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (8.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
Started GET "/" for 127.0.0.1 at 2018-07-27 17:56:22 +0300
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  
ActionController::RoutingError (uninitialized constant FlatsController):
  
bootsnap (1.3.1) lib/bootsnap/load_path_cache/core_ext/active_support.rb:53:in `block in load_missing_constant'
bootsnap (1.3.1) lib/bootsnap/load_path_cache/core_ext/active_support.rb:8:in `without_bootsnap_cache'
bootsnap (1.3.1) lib/bootsnap/load_path_cache/core_ext/active_support.rb:53:in `rescue in load_missing_constant'
bootsnap (1.3.1) lib/bootsnap/load_path_cache/core_ext/active_support.rb:42:in `load_missing_constant'
activesupport (5.2.0) lib/active_support/inflector/methods.rb:283:in `const_get'
activesupport (5.2.0) lib/active_support/inflector/methods.rb:283:in `block in constantize'
activesupport (5.2.0) lib/active_support/inflector/methods.rb:281:in `each'
activesupport (5.2.0) lib/active_support/inflector/methods.rb:281:in `inject'
activesupport (5.2.0) lib/active_support/inflector/methods.rb:281:in `constantize'
actionpack (5.2.0) lib/action_dispatch/http/request.rb:88:in `controller_class_for'
actionpack (5.2.0) lib/action_dispatch/http/request.rb:81:in `controller_class'
actionpack (5.2.0) lib/action_dispatch/routing/route_set.rb:46:in `controller'
actionpack (5.2.0) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (5.2.0) lib/action_dispatch/journey/router.rb:52:in `block in serve'
actionpack (5.2.0) lib/action_dispatch/journey/router.rb:35:in `each'
actionpack (5.2.0) lib/action_dispatch/journey/router.rb:35:in `serve'
actionpack (5.2.0) lib/action_dispatch/routing/route_set.rb:840:in `call'
rack (2.0.5) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.0.5) lib/rack/etag.rb:25:in `call'
rack (2.0.5) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.5) lib/rack/head.rb:12:in `call'
actionpack (5.2.0) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.0.5) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.5) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/cookies.rb:670:in `call'
activerecord (5.2.0) lib/active_record/migration.rb:559:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
activesupport (5.2.0) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (5.2.0) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:61:in `call'
web-console (3.6.2) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.6.2) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `catch'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.0) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2018-07-27 17:56:54 +0300
Started GET "/" for 127.0.0.1 at 2018-07-27 17:57:04 +0300
  
ActionController::RoutingError (uninitialized constant FlatsController):
  
bootsnap (1.3.1) lib/bootsnap/load_path_cache/core_ext/active_support.rb:53:in `block in load_missing_constant'
bootsnap (1.3.1) lib/bootsnap/load_path_cache/core_ext/active_support.rb:8:in `without_bootsnap_cache'
bootsnap (1.3.1) lib/bootsnap/load_path_cache/core_ext/active_support.rb:53:in `rescue in load_missing_constant'
bootsnap (1.3.1) lib/bootsnap/load_path_cache/core_ext/active_support.rb:42:in `load_missing_constant'
activesupport (5.2.0) lib/active_support/inflector/methods.rb:283:in `const_get'
activesupport (5.2.0) lib/active_support/inflector/methods.rb:283:in `block in constantize'
activesupport (5.2.0) lib/active_support/inflector/methods.rb:281:in `each'
activesupport (5.2.0) lib/active_support/inflector/methods.rb:281:in `inject'
activesupport (5.2.0) lib/active_support/inflector/methods.rb:281:in `constantize'
actionpack (5.2.0) lib/action_dispatch/http/request.rb:88:in `controller_class_for'
actionpack (5.2.0) lib/action_dispatch/http/request.rb:81:in `controller_class'
actionpack (5.2.0) lib/action_dispatch/routing/route_set.rb:46:in `controller'
actionpack (5.2.0) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (5.2.0) lib/action_dispatch/journey/router.rb:52:in `block in serve'
actionpack (5.2.0) lib/action_dispatch/journey/router.rb:35:in `each'
actionpack (5.2.0) lib/action_dispatch/journey/router.rb:35:in `serve'
actionpack (5.2.0) lib/action_dispatch/routing/route_set.rb:840:in `call'
rack (2.0.5) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.0.5) lib/rack/etag.rb:25:in `call'
rack (2.0.5) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.5) lib/rack/head.rb:12:in `call'
actionpack (5.2.0) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.0.5) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.5) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/cookies.rb:670:in `call'
activerecord (5.2.0) lib/active_record/migration.rb:559:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
activesupport (5.2.0) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (5.2.0) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:61:in `call'
web-console (3.6.2) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.6.2) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `catch'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.0) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
  
ActionController::RoutingError (uninitialized constant FlatsController):
  
bootsnap (1.3.1) lib/bootsnap/load_path_cache/core_ext/active_support.rb:53:in `block in load_missing_constant'
bootsnap (1.3.1) lib/bootsnap/load_path_cache/core_ext/active_support.rb:8:in `without_bootsnap_cache'
bootsnap (1.3.1) lib/bootsnap/load_path_cache/core_ext/active_support.rb:53:in `rescue in load_missing_constant'
bootsnap (1.3.1) lib/bootsnap/load_path_cache/core_ext/active_support.rb:42:in `load_missing_constant'
activesupport (5.2.0) lib/active_support/inflector/methods.rb:283:in `const_get'
activesupport (5.2.0) lib/active_support/inflector/methods.rb:283:in `block in constantize'
activesupport (5.2.0) lib/active_support/inflector/methods.rb:281:in `each'
activesupport (5.2.0) lib/active_support/inflector/methods.rb:281:in `inject'
activesupport (5.2.0) lib/active_support/inflector/methods.rb:281:in `constantize'
actionpack (5.2.0) lib/action_dispatch/http/request.rb:88:in `controller_class_for'
actionpack (5.2.0) lib/action_dispatch/http/request.rb:81:in `controller_class'
actionpack (5.2.0) lib/action_dispatch/routing/route_set.rb:46:in `controller'
actionpack (5.2.0) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (5.2.0) lib/action_dispatch/journey/router.rb:52:in `block in serve'
actionpack (5.2.0) lib/action_dispatch/journey/router.rb:35:in `each'
actionpack (5.2.0) lib/action_dispatch/journey/router.rb:35:in `serve'
actionpack (5.2.0) lib/action_dispatch/routing/route_set.rb:840:in `call'
rack (2.0.5) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.0.5) lib/rack/etag.rb:25:in `call'
rack (2.0.5) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.5) lib/rack/head.rb:12:in `call'
actionpack (5.2.0) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.0.5) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.5) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/cookies.rb:670:in `call'
activerecord (5.2.0) lib/active_record/migration.rb:559:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
activesupport (5.2.0) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (5.2.0) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:61:in `call'
web-console (3.6.2) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.6.2) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `catch'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.0) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2018-07-27 17:59:35 +0300
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by FlatsController#index as HTML
Completed 406 Not Acceptable in 33ms (ActiveRecord: 0.0ms)


  
ActionController::UnknownFormat (FlatsController#index is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []

NOTE! For XHR/Ajax or API requests, this action would normally respond with 204 No Content: an empty white screen. Since you're loading it in a web browser, we assume that you expected to actually render a template, not nothing, so we're showing an error to be extra-clear. If you expect 204 No Content, carry on. That's what you'll get from an XHR or API request. Give it a shot.):
  
actionpack (5.2.0) lib/action_controller/metal/implicit_render.rb:55:in `default_render'
actionpack (5.2.0) lib/action_controller/metal/basic_implicit_render.rb:6:in `block in send_action'
actionpack (5.2.0) lib/action_controller/metal/basic_implicit_render.rb:6:in `tap'
actionpack (5.2.0) lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
actionpack (5.2.0) lib/abstract_controller/base.rb:194:in `process_action'
actionpack (5.2.0) lib/action_controller/metal/rendering.rb:30:in `process_action'
actionpack (5.2.0) lib/abstract_controller/callbacks.rb:42:in `block in process_action'
activesupport (5.2.0) lib/active_support/callbacks.rb:132:in `run_callbacks'
actionpack (5.2.0) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (5.2.0) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (5.2.0) lib/action_controller/metal/instrumentation.rb:34:in `block in process_action'
activesupport (5.2.0) lib/active_support/notifications.rb:168:in `block in instrument'
activesupport (5.2.0) lib/active_support/notifications/instrumenter.rb:23:in `instrument'
activesupport (5.2.0) lib/active_support/notifications.rb:168:in `instrument'
actionpack (5.2.0) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (5.2.0) lib/action_controller/metal/params_wrapper.rb:256:in `process_action'
activerecord (5.2.0) lib/active_record/railties/controller_runtime.rb:24:in `process_action'
actionpack (5.2.0) lib/abstract_controller/base.rb:134:in `process'
actionview (5.2.0) lib/action_view/rendering.rb:32:in `process'
actionpack (5.2.0) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (5.2.0) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (5.2.0) lib/action_dispatch/routing/route_set.rb:52:in `dispatch'
actionpack (5.2.0) lib/action_dispatch/routing/route_set.rb:34:in `serve'
actionpack (5.2.0) lib/action_dispatch/journey/router.rb:52:in `block in serve'
actionpack (5.2.0) lib/action_dispatch/journey/router.rb:35:in `each'
actionpack (5.2.0) lib/action_dispatch/journey/router.rb:35:in `serve'
actionpack (5.2.0) lib/action_dispatch/routing/route_set.rb:840:in `call'
rack (2.0.5) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.0.5) lib/rack/etag.rb:25:in `call'
rack (2.0.5) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.5) lib/rack/head.rb:12:in `call'
actionpack (5.2.0) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.0.5) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.5) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/cookies.rb:670:in `call'
activerecord (5.2.0) lib/active_record/migration.rb:559:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
activesupport (5.2.0) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (5.2.0) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:61:in `call'
web-console (3.6.2) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.6.2) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `catch'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.0) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2018-07-27 18:00:33 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  Rendered flats/index.html.erb within layouts/application (12.0ms)
Completed 200 OK in 5559ms (Views: 5557.4ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-07-27 18:05:05 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  Rendered flats/index.html.erb within layouts/application (0.7ms)
Completed 200 OK in 176ms (Views: 173.4ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-07-27 18:05:08 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  Rendered flats/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 72ms (Views: 70.5ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-07-27 18:08:46 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  Rendered flats/index.html.erb within layouts/application (0.5ms)
Completed 200 OK in 166ms (Views: 164.6ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-07-27 18:15:13 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  Rendered flats/index.html.erb within layouts/application (1.2ms)
Completed 200 OK in 491ms (Views: 490.0ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-07-27 18:15:54 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  Rendered flats/index.html.erb within layouts/application (0.5ms)
Completed 200 OK in 159ms (Views: 157.5ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-07-27 18:16:03 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  Rendered flats/index.html.erb within layouts/application (2.2ms)
Completed 200 OK in 159ms (Views: 156.8ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-07-27 18:17:12 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  Rendered flats/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 131ms (Views: 129.9ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-07-28 19:27:59 +0300
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  Rendered flats/index.html.erb within layouts/application (0.7ms)
Completed 200 OK in 291ms (Views: 284.3ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-07-28 19:29:10 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  Rendered flats/index.html.erb within layouts/application (0.8ms)
Completed 200 OK in 87ms (Views: 84.6ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-07-28 19:29:32 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  Rendered flats/index.html.erb within layouts/application (1.0ms)
Completed 200 OK in 130ms (Views: 127.6ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-07-28 19:29:42 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  Rendered flats/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 77ms (Views: 75.0ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-07-28 19:29:48 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  Rendered flats/index.html.erb within layouts/application (0.9ms)
Completed 200 OK in 56ms (Views: 53.6ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-07-28 19:29:49 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  Rendered flats/index.html.erb within layouts/application (1.0ms)
Completed 200 OK in 101ms (Views: 97.6ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-07-28 19:29:49 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  Rendered flats/index.html.erb within layouts/application (1.2ms)
Completed 200 OK in 134ms (Views: 130.5ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-07-28 19:29:50 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  Rendered flats/index.html.erb within layouts/application (1.5ms)
Completed 200 OK in 133ms (Views: 130.2ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-07-28 20:01:33 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  Rendered flats/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 64ms (Views: 63.4ms | ActiveRecord: 0.0ms)


Started GET "/flats/new" for 127.0.0.1 at 2018-07-28 20:01:34 +0300
Processing by FlatsController#new as HTML
  Rendering flats/new.html.erb within layouts/application
  Rendered flats/_form.html.erb (19.2ms)
  Rendered flats/new.html.erb within layouts/application (20.0ms)
Completed 200 OK in 86ms (Views: 62.7ms | ActiveRecord: 2.1ms)


Started GET "/flats/new" for 127.0.0.1 at 2018-07-28 20:01:57 +0300
Processing by FlatsController#new as HTML
  Rendering flats/new.html.erb within layouts/application
  Rendered flats/_form.html.erb (31.6ms)
  Rendered flats/new.html.erb within layouts/application (34.9ms)
Completed 200 OK in 126ms (Views: 122.4ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-07-28 20:02:14 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  Rendered flats/index.html.erb within layouts/application (1.1ms)
Completed 200 OK in 119ms (Views: 115.7ms | ActiveRecord: 0.0ms)


Started GET "/flats/new" for 127.0.0.1 at 2018-07-28 20:02:16 +0300
Processing by FlatsController#new as HTML
  Rendering flats/new.html.erb within layouts/application
  Rendered flats/_form.html.erb (4.6ms)
  Rendered flats/new.html.erb within layouts/application (7.2ms)
Completed 200 OK in 66ms (Views: 64.1ms | ActiveRecord: 0.0ms)


Started GET "/flats/new" for 127.0.0.1 at 2018-07-28 20:03:29 +0300
Processing by FlatsController#new as HTML
  Rendering flats/new.html.erb within layouts/application
  Rendered flats/_form.html.erb (13.5ms)
  Rendered flats/new.html.erb within layouts/application (16.4ms)
Completed 200 OK in 124ms (Views: 120.4ms | ActiveRecord: 0.0ms)


Started GET "/flats/new" for 127.0.0.1 at 2018-07-28 20:03:30 +0300
Processing by FlatsController#new as HTML
  Rendering flats/new.html.erb within layouts/application
  Rendered flats/_form.html.erb (11.3ms)
  Rendered flats/new.html.erb within layouts/application (14.9ms)
Completed 200 OK in 116ms (Views: 112.7ms | ActiveRecord: 0.0ms)


Started GET "/flats/new" for 127.0.0.1 at 2018-07-28 20:04:05 +0300
Processing by FlatsController#new as HTML
  Rendering flats/new.html.erb within layouts/application
  Rendered flats/_form.html.erb (12.4ms)
  Rendered flats/new.html.erb within layouts/application (16.0ms)
Completed 200 OK in 120ms (Views: 117.8ms | ActiveRecord: 0.0ms)


Started GET "/flats/new" for 127.0.0.1 at 2018-07-28 20:04:07 +0300
Processing by FlatsController#new as HTML
  Rendering flats/new.html.erb within layouts/application
  Rendered flats/_form.html.erb (12.8ms)
  Rendered flats/new.html.erb within layouts/application (15.4ms)
Completed 200 OK in 96ms (Views: 92.6ms | ActiveRecord: 0.0ms)


Started GET "/flats/new" for 127.0.0.1 at 2018-07-28 20:04:08 +0300
Processing by FlatsController#new as HTML
  Rendering flats/new.html.erb within layouts/application
  Rendered flats/_form.html.erb (15.4ms)
  Rendered flats/new.html.erb within layouts/application (19.5ms)
Completed 200 OK in 132ms (Views: 128.5ms | ActiveRecord: 0.0ms)


Started GET "/flats/new" for 127.0.0.1 at 2018-07-28 20:04:09 +0300
Processing by FlatsController#new as HTML
  Rendering flats/new.html.erb within layouts/application
  Rendered flats/_form.html.erb (12.0ms)
  Rendered flats/new.html.erb within layouts/application (14.9ms)
Completed 200 OK in 110ms (Views: 105.6ms | ActiveRecord: 0.0ms)


Started GET "/flats/new" for 127.0.0.1 at 2018-07-28 20:04:10 +0300
Processing by FlatsController#new as HTML
  Rendering flats/new.html.erb within layouts/application
  Rendered flats/_form.html.erb (11.9ms)
  Rendered flats/new.html.erb within layouts/application (16.2ms)
Completed 200 OK in 133ms (Views: 130.1ms | ActiveRecord: 0.0ms)


Started GET "/flats/new" for 127.0.0.1 at 2018-07-28 20:04:13 +0300
Processing by FlatsController#new as HTML
  Rendering flats/new.html.erb within layouts/application
  Rendered flats/_form.html.erb (10.6ms)
  Rendered flats/new.html.erb within layouts/application (14.3ms)
Completed 200 OK in 113ms (Views: 109.9ms | ActiveRecord: 0.0ms)


Started GET "/flats/new" for 127.0.0.1 at 2018-07-28 20:04:55 +0300
Processing by FlatsController#new as HTML
  Rendering flats/new.html.erb within layouts/application
  Rendered flats/_form.html.erb (13.2ms)
  Rendered flats/new.html.erb within layouts/application (20.9ms)
Completed 200 OK in 135ms (Views: 131.7ms | ActiveRecord: 0.0ms)


Started GET "/flats/new" for 127.0.0.1 at 2018-07-28 20:05:02 +0300
Processing by FlatsController#new as HTML
  Rendering flats/new.html.erb within layouts/application
  Rendered flats/_form.html.erb (11.8ms)
  Rendered flats/new.html.erb within layouts/application (15.5ms)
Completed 200 OK in 94ms (Views: 91.8ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-07-28 20:05:03 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  Rendered flats/index.html.erb within layouts/application (0.7ms)
Completed 200 OK in 94ms (Views: 91.8ms | ActiveRecord: 0.0ms)


Started GET "/flats/new" for 127.0.0.1 at 2018-07-28 20:05:04 +0300
Processing by FlatsController#new as HTML
  Rendering flats/new.html.erb within layouts/application
  Rendered flats/_form.html.erb (5.7ms)
  Rendered flats/new.html.erb within layouts/application (7.5ms)
Completed 200 OK in 66ms (Views: 63.7ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-07-28 20:05:06 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  Rendered flats/index.html.erb within layouts/application (1.8ms)
Completed 200 OK in 123ms (Views: 119.8ms | ActiveRecord: 0.0ms)


Started GET "/flats/new" for 127.0.0.1 at 2018-07-28 20:05:08 +0300
Processing by FlatsController#new as HTML
  Rendering flats/new.html.erb within layouts/application
  Rendered flats/_form.html.erb (14.7ms)
  Rendered flats/new.html.erb within layouts/application (18.0ms)
Completed 200 OK in 102ms (Views: 98.9ms | ActiveRecord: 0.0ms)


Started POST "/flats" for 127.0.0.1 at 2018-07-28 20:05:09 +0300
Processing by FlatsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"PS9m/AZPPO7vYwZEWbmG8jaIrJ3Y/lJwillS1xKfevQAqcxfjFlBAB8jkt/vJe2h3cUN8VkKPIvngGbHA0ce4Q==", "flat"=>{"name"=>"", "address"=>"", "description"=>"", "capacity"=>"", "price"=>""}, "commit"=>"Save"}
No template found for FlatsController#create, rendering head :no_content
Completed 204 No Content in 31ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-07-28 20:05:16 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  Rendered flats/index.html.erb within layouts/application (1.2ms)
Completed 200 OK in 123ms (Views: 119.5ms | ActiveRecord: 0.0ms)


Started GET "/flats/new" for 127.0.0.1 at 2018-07-28 20:05:17 +0300
Processing by FlatsController#new as HTML
  Rendering flats/new.html.erb within layouts/application
  Rendered flats/_form.html.erb (11.5ms)
  Rendered flats/new.html.erb within layouts/application (15.3ms)
Completed 200 OK in 125ms (Views: 121.4ms | ActiveRecord: 0.0ms)


Started GET "/flats/new" for 127.0.0.1 at 2018-07-28 20:05:56 +0300
Processing by FlatsController#new as HTML
  Rendering flats/new.html.erb within layouts/application
  Rendered flats/_form.html.erb (13.5ms)
  Rendered flats/new.html.erb within layouts/application (16.1ms)
Completed 200 OK in 110ms (Views: 106.7ms | ActiveRecord: 0.0ms)


Started POST "/flats" for 127.0.0.1 at 2018-07-28 20:19:29 +0300
Processing by FlatsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"c4WBlkU96zdcZRJszzGW4qh8teGflwbXStYTswIt8frILNr55CdeSgAXjrUu/Q1X9UaS37Ne91TKqjz1t5vQ4g==", "flat"=>{"name"=>"Luxor aparment", "address"=>"Uzhgorod, Str Tolstogo 54", "description"=>"Very nice apartment", "capacity"=>"3", "price"=>"20"}, "commit"=>"Save"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/flats_controller.rb:19
  [1m[36mFlat Create (1.1ms)[0m  [1m[32mINSERT INTO "flats" ("name", "address", "description", "capacity", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Luxor aparment"], ["address", "Uzhgorod, Str Tolstogo 54"], ["description", "Very nice apartment"], ["capacity", 3], ["price", 20], ["created_at", "2018-07-28 17:19:29.722565"], ["updated_at", "2018-07-28 17:19:29.722565"]]
  ↳ app/controllers/flats_controller.rb:19
  [1m[35m (8.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/flats_controller.rb:19
Redirected to 
Completed 500 Internal Server Error in 21ms (ActiveRecord: 10.2ms)


  
ActionController::ActionControllerError (Cannot redirect to nil!):
  
app/controllers/flats_controller.rb:20:in `create'
Started POST "/flats" for 127.0.0.1 at 2018-07-28 20:20:53 +0300
Processing by FlatsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"c4WBlkU96zdcZRJszzGW4qh8teGflwbXStYTswIt8frILNr55CdeSgAXjrUu/Q1X9UaS37Ne91TKqjz1t5vQ4g==", "flat"=>{"name"=>"Luxor aparment", "address"=>"Uzhgorod, Str Tolstogo 54", "description"=>"Very nice apartment", "capacity"=>"3", "price"=>"20"}, "commit"=>"Save"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/flats_controller.rb:19
  [1m[36mFlat Create (0.3ms)[0m  [1m[32mINSERT INTO "flats" ("name", "address", "description", "capacity", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Luxor aparment"], ["address", "Uzhgorod, Str Tolstogo 54"], ["description", "Very nice apartment"], ["capacity", 3], ["price", 20], ["created_at", "2018-07-28 17:20:53.187673"], ["updated_at", "2018-07-28 17:20:53.187673"]]
  ↳ app/controllers/flats_controller.rb:19
  [1m[35m (14.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/flats_controller.rb:19
Redirected to http://localhost:3000/flats/2
Completed 302 Found in 29ms (ActiveRecord: 15.7ms)


Started GET "/flats/2" for 127.0.0.1 at 2018-07-28 20:20:53 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"2"}
  Rendering flats/show.html.erb within layouts/application
  Rendered flats/show.html.erb within layouts/application (0.4ms)
Completed 200 OK in 49ms (Views: 47.9ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-07-28 20:20:54 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT "flats".* FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:3
  Rendered flats/index.html.erb within layouts/application (12.7ms)
Completed 500 Internal Server Error in 20ms (ActiveRecord: 0.5ms)


  
ActionView::Template::Error (Missing partial flats/_flat with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :coffee, :jbuilder]}. Searched in:
  * "/home/york/Документы/Projects/FlatBooking/app/views"
):
    1: <h1>Hello</h1>
    2: 
    3: <%= render @flats %>
  
app/views/flats/index.html.erb:3:in `_app_views_flats_index_html_erb___2845788593383206628_69937752902700'
Started GET "/" for 127.0.0.1 at 2018-07-28 20:21:18 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT "flats".* FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:3
  Rendered collection of flats/_flat.html.erb [2 times] (0.7ms)
  Rendered flats/index.html.erb within layouts/application (3.1ms)
Completed 200 OK in 66ms (Views: 63.7ms | ActiveRecord: 0.3ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-07-28 20:21:24 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  Rendering flats/show.html.erb within layouts/application
  Rendered flats/show.html.erb within layouts/application (0.4ms)
Completed 200 OK in 72ms (Views: 71.0ms | ActiveRecord: 0.0ms)


Started GET "/flats/2" for 127.0.0.1 at 2018-07-28 20:21:27 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"2"}
  Rendering flats/show.html.erb within layouts/application
  Rendered flats/show.html.erb within layouts/application (1.1ms)
Completed 200 OK in 115ms (Views: 111.8ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-07-28 20:21:53 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT "flats".* FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:3
  Rendered collection of flats/_flat.html.erb [2 times] (0.8ms)
  Rendered flats/index.html.erb within layouts/application (3.8ms)
Completed 200 OK in 57ms (Views: 54.7ms | ActiveRecord: 0.3ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-07-28 20:22:02 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  Rendering flats/show.html.erb within layouts/application
  Rendered flats/show.html.erb within layouts/application (1.3ms)
Completed 200 OK in 102ms (Views: 98.6ms | ActiveRecord: 0.0ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-07-28 20:29:02 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  Rendering flats/show.html.erb within layouts/application
  Rendered flats/show.html.erb within layouts/application (3.8ms)
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (undefined method `name' for nil:NilClass):
    1: 
    2: <article class="flat">
    3:   <section class="flat-head">
    4:     <h1><%= @flat.name %></h1>
    5:     <small>
    6:       <time><%= @flat.created_at.to_date.strftime("%d %B, %Y")%></time>
    7:         |
  
app/views/flats/show.html.erb:4:in `_app_views_flats_show_html_erb___4431623154396165244_69937754143080'
Started GET "/" for 127.0.0.1 at 2018-07-28 20:29:08 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT "flats".* FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:3
  Rendered collection of flats/_flat.html.erb [2 times] (2.5ms)
  Rendered flats/index.html.erb within layouts/application (6.6ms)
Completed 200 OK in 83ms (Views: 80.3ms | ActiveRecord: 0.4ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-07-28 20:30:17 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:7
  Rendering flats/show.html.erb within layouts/application
  Rendered flats/show.html.erb within layouts/application (1.2ms)
Completed 200 OK in 73ms (Views: 58.2ms | ActiveRecord: 1.6ms)


Started GET "/" for 127.0.0.1 at 2018-07-28 20:31:52 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT "flats".* FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:3
  Rendered collection of flats/_flat.html.erb [2 times] (1.3ms)
  Rendered flats/index.html.erb within layouts/application (13.6ms)
Completed 200 OK in 62ms (Views: 57.8ms | ActiveRecord: 1.0ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-07-28 20:31:53 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:40
  Rendering flats/show.html.erb within layouts/application
  Rendered flats/show.html.erb within layouts/application (3.9ms)
Completed 200 OK in 147ms (Views: 139.5ms | ActiveRecord: 0.6ms)


Started DELETE "/flats/1" for 127.0.0.1 at 2018-07-28 20:31:57 +0300
Processing by FlatsController#destroy as HTML
  Parameters: {"authenticity_token"=>"V6WeeeukFNrlQ5HieeSSZ5B2cX4nIIxZECY8zq1CCnzsDMUWSr6hp7kxDTuYKAnSzUxWQAvpfdqQWhOIGPQrZA==", "id"=>"1"}
  [1m[36mFlat Load (0.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:40
No template found for FlatsController#destroy, rendering head :no_content
Completed 204 No Content in 23ms (ActiveRecord: 0.1ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-07-28 20:33:00 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:42
  Rendering flats/show.html.erb within layouts/application
  Rendered flats/show.html.erb within layouts/application (1.8ms)
Completed 200 OK in 109ms (Views: 87.1ms | ActiveRecord: 0.9ms)


Started DELETE "/flats/1" for 127.0.0.1 at 2018-07-28 20:33:02 +0300
Processing by FlatsController#destroy as HTML
  Parameters: {"authenticity_token"=>"lVZpSikdnsU0JLB9Jzpz7wlGjYwUCGOpqAjNe4DKmvku/zIliAcruGhWLKTG9uhaVHyqsjjBkioodOI9NXy74Q==", "id"=>"1"}
  [1m[36mFlat Load (0.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:42
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/flats_controller.rb:31
  [1m[36mFlat Destroy (0.4ms)[0m  [1m[31mDELETE FROM "flats" WHERE "flats"."id" = ?[0m  [["id", 1]]
  ↳ app/controllers/flats_controller.rb:31
  [1m[35m (8.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/flats_controller.rb:31
Redirected to http://localhost:3000/flats
Completed 302 Found in 13ms (ActiveRecord: 9.1ms)


Started GET "/flats" for 127.0.0.1 at 2018-07-28 20:33:02 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.2ms)[0m  [1m[34mSELECT "flats".* FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:3
  Rendered collection of flats/_flat.html.erb [1 times] (0.6ms)
  Rendered flats/index.html.erb within layouts/application (2.5ms)
Completed 200 OK in 67ms (Views: 64.9ms | ActiveRecord: 0.2ms)


Started GET "/flats/2" for 127.0.0.1 at 2018-07-28 20:34:37 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:42
  Rendering flats/show.html.erb within layouts/application
  Rendered flats/show.html.erb within layouts/application (1.7ms)
Completed 200 OK in 72ms (Views: 68.3ms | ActiveRecord: 0.3ms)


  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
Migrating to DeleteImageFromFlat (20180728175145)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ db/migrate/20180728175145_delete_image_from_flat.rb:3
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aflats" ("id" integer NOT NULL PRIMARY KEY, "name" varchar DEFAULT NULL, "address" varchar DEFAULT NULL, "image" varchar DEFAULT NULL, "description" varchar DEFAULT NULL, "capacity" integer DEFAULT NULL, "price" integer DEFAULT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ db/migrate/20180728175145_delete_image_from_flat.rb:3
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aflats" ("id","name","address","image","description","capacity","price","created_at","updated_at")
                     SELECT "id","name","address","image","description","capacity","price","created_at","updated_at" FROM "flats"[0m
  ↳ db/migrate/20180728175145_delete_image_from_flat.rb:3
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "flats"[0m
  ↳ db/migrate/20180728175145_delete_image_from_flat.rb:3
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "flats" ("id" integer NOT NULL PRIMARY KEY, "name" varchar DEFAULT NULL, "address" varchar DEFAULT NULL, "description" varchar DEFAULT NULL, "capacity" integer DEFAULT NULL, "price" integer DEFAULT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ db/migrate/20180728175145_delete_image_from_flat.rb:3
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "flats" ("id","name","address","description","capacity","price","created_at","updated_at")
                     SELECT "id","name","address","description","capacity","price","created_at","updated_at" FROM "aflats"[0m
  ↳ db/migrate/20180728175145_delete_image_from_flat.rb:3
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aflats"[0m
  ↳ db/migrate/20180728175145_delete_image_from_flat.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180728175145"]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (5.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
Migrating to AddAttachmentImageToFlats (20180728175530)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "flats" ADD "image_file_name" varchar[0m
  ↳ db/migrate/20180728175530_add_attachment_image_to_flats.rb:4
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "flats" ADD "image_content_type" varchar[0m
  ↳ db/migrate/20180728175530_add_attachment_image_to_flats.rb:4
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "flats" ADD "image_file_size" integer[0m
  ↳ db/migrate/20180728175530_add_attachment_image_to_flats.rb:4
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "flats" ADD "image_updated_at" datetime[0m
  ↳ db/migrate/20180728175530_add_attachment_image_to_flats.rb:4
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180728175530"]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (4.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
Started GET "/flats/new" for 127.0.0.1 at 2018-07-28 20:58:48 +0300
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by FlatsController#new as HTML
  Rendering flats/new.html.erb within layouts/application
  Rendered flats/_form.html.erb (7.5ms)
  Rendered flats/new.html.erb within layouts/application (8.5ms)
Completed 200 OK in 251ms (Views: 219.1ms | ActiveRecord: 0.9ms)


Started GET "/" for 127.0.0.1 at 2018-07-28 20:59:33 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.2ms)[0m  [1m[34mSELECT "flats".* FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:3
  Rendered collection of flats/_flat.html.erb [1 times] (0.5ms)
  Rendered flats/index.html.erb within layouts/application (17.4ms)
Completed 200 OK in 108ms (Views: 106.3ms | ActiveRecord: 0.2ms)


Started POST "/flats" for 127.0.0.1 at 2018-07-28 21:00:56 +0300
Processing by FlatsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"3Xp1g95Km2Amy6fe+XBKtDrboipUIYCSqTjeBbZCNwrg/N8gVFzmjtaLM0VP7CHn0ZYDRtXV7mnE4eoVp5pTHw==", "flat"=>{"name"=>"Greate flat", "address"=>"Uzhgorod, str Masarika 87", "description"=>"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.", "capacity"=>"5", "price"=>"89", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007f23fc301278 @tempfile=#<Tempfile:/tmp/RackMultipart20180728-6295-91ftju.jpg>, @original_filename="flat1.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"flat[image]\"; filename=\"flat1.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "commit"=>"Save"}
[paperclip] Trying to link /tmp/RackMultipart20180728-6295-91ftju.jpg to /tmp/2e4a3458b948e24100f89cba743226b020180728-6295-1qtqcwu.jpg
[paperclip] Trying to link /tmp/2e4a3458b948e24100f89cba743226b020180728-6295-1qtqcwu.jpg to /tmp/2e4a3458b948e24100f89cba743226b020180728-6295-1u8u206.jpg
Command :: file -b --mime '/tmp/2e4a3458b948e24100f89cba743226b020180728-6295-1u8u206.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/2e4a3458b948e24100f89cba743226b020180728-6295-1qtqcwu.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/2e4a3458b948e24100f89cba743226b020180728-6295-1qtqcwu.jpg[0]'
Command :: convert '/tmp/2e4a3458b948e24100f89cba743226b020180728-6295-1qtqcwu.jpg[0]' -auto-orient -resize "300x300>" '/tmp/ab7ee5b1f26f024788597eb7793f96ff20180728-6295-iyz8ai'
[paperclip] Trying to link /tmp/ab7ee5b1f26f024788597eb7793f96ff20180728-6295-iyz8ai to /tmp/dcc9736cbbcf86ace20ae63257595daa20180728-6295-iqa72b
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/2e4a3458b948e24100f89cba743226b020180728-6295-1qtqcwu.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/2e4a3458b948e24100f89cba743226b020180728-6295-1qtqcwu.jpg[0]'
Command :: convert '/tmp/2e4a3458b948e24100f89cba743226b020180728-6295-1qtqcwu.jpg[0]' -auto-orient -resize "100x100>" '/tmp/ab7ee5b1f26f024788597eb7793f96ff20180728-6295-5seuwp'
[paperclip] Trying to link /tmp/ab7ee5b1f26f024788597eb7793f96ff20180728-6295-5seuwp to /tmp/ee61ee4647f1a353ddb9b149469e279320180728-6295-1csbmmp
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/flats_controller.rb:20
[paperclip] Trying to link /tmp/2e4a3458b948e24100f89cba743226b020180728-6295-1qtqcwu.jpg to /tmp/2e4a3458b948e24100f89cba743226b020180728-6295-ck2uyr.jpg
Command :: file -b --mime '/tmp/2e4a3458b948e24100f89cba743226b020180728-6295-ck2uyr.jpg'
  [1m[36mFlat Create (0.3ms)[0m  [1m[32mINSERT INTO "flats" ("name", "address", "description", "capacity", "price", "created_at", "updated_at", "image_file_name", "image_content_type", "image_file_size", "image_updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Greate flat"], ["address", "Uzhgorod, str Masarika 87"], ["description", "Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."], ["capacity", 5], ["price", 89], ["created_at", "2018-07-28 18:00:56.549674"], ["updated_at", "2018-07-28 18:00:56.549674"], ["image_file_name", "flat1.jpg"], ["image_content_type", "image/jpeg"], ["image_file_size", 102190], ["image_updated_at", "2018-07-28 18:00:56.345859"]]
  ↳ app/controllers/flats_controller.rb:20
  [1m[35m (5.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/flats_controller.rb:20
Redirected to http://localhost:3000/flats/3
Completed 302 Found in 226ms (ActiveRecord: 5.4ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-07-28 21:00:56 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (0.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:42
  Rendering flats/show.html.erb within layouts/application
  Rendered flats/show.html.erb within layouts/application (1.6ms)
Completed 200 OK in 52ms (Views: 50.3ms | ActiveRecord: 0.2ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-07-28 21:03:40 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:42
  Rendering flats/show.html.erb within layouts/application
  Rendered flats/show.html.erb within layouts/application (4.3ms)
Completed 200 OK in 1389ms (Views: 1383.9ms | ActiveRecord: 0.3ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-07-28 21:04:42 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (0.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:42
  Rendering flats/show.html.erb within layouts/application
  Rendered flats/show.html.erb within layouts/application (1.6ms)
Completed 200 OK in 65ms (Views: 51.6ms | ActiveRecord: 0.7ms)


Started GET "/system/flats/images/000/000/003/large/flat1.jpg?1532800856" for 127.0.0.1 at 2018-07-28 21:04:52 +0300
  
ActionController::RoutingError (No route matches [GET] "/system/flats/images/000/000/003/large/flat1.jpg"):
  
actionpack (5.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.6.2) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.6.2) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `catch'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.0) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started DELETE "/flats/3" for 127.0.0.1 at 2018-07-28 21:05:01 +0300
Processing by FlatsController#destroy as HTML
  Parameters: {"authenticity_token"=>"MryUtU+NMLUTUkDvA+E+skhpyCLHfnO47oNsfy5Kt3iJFc/a7peFyE8g3DbiLaUHFVPvHOu3gjtu/0M5m/yWYA==", "id"=>"3"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:42
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/flats_controller.rb:31
  [1m[36mFlat Destroy (1.7ms)[0m  [1m[31mDELETE FROM "flats" WHERE "flats"."id" = ?[0m  [["id", 3]]
  ↳ app/controllers/flats_controller.rb:31
  [1m[35m (4.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/flats_controller.rb:31
[paperclip] deleting /home/york/Документы/Projects/FlatBooking/public/system/flats/images/000/000/003/original/flat1.jpg
[paperclip] deleting /home/york/Документы/Projects/FlatBooking/public/system/flats/images/000/000/003/medium/flat1.jpg
[paperclip] deleting /home/york/Документы/Projects/FlatBooking/public/system/flats/images/000/000/003/thumb/flat1.jpg
Redirected to http://localhost:3000/flats
Completed 302 Found in 23ms (ActiveRecord: 6.9ms)


Started GET "/flats" for 127.0.0.1 at 2018-07-28 21:05:01 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT "flats".* FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:3
  Rendered collection of flats/_flat.html.erb [1 times] (0.5ms)
  Rendered flats/index.html.erb within layouts/application (2.9ms)
Completed 200 OK in 66ms (Views: 63.5ms | ActiveRecord: 0.5ms)


Started GET "/flats/new" for 127.0.0.1 at 2018-07-28 21:05:03 +0300
Processing by FlatsController#new as HTML
  Rendering flats/new.html.erb within layouts/application
  Rendered flats/_form.html.erb (7.9ms)
  Rendered flats/new.html.erb within layouts/application (10.0ms)
Completed 200 OK in 65ms (Views: 62.6ms | ActiveRecord: 0.0ms)


Started POST "/flats" for 127.0.0.1 at 2018-07-28 21:06:15 +0300
Processing by FlatsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"wdgN8WyuSH0lSG1SbVKCQAtB+vIqfiN8F/hDvSit1o78XqdS5rg1k9UI+cnbzukT4AxbnquKTYd6IXetOXWymw==", "flat"=>{"name"=>"Greate flat", "address"=>"Uzhgorod, Sqr Petefi 12", "description"=>"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.", "capacity"=>"5", "price"=>"89", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007f24057ab7e8 @tempfile=#<Tempfile:/tmp/RackMultipart20180728-6295-1lqkjt7.jpg>, @original_filename="flat1.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"flat[image]\"; filename=\"flat1.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "commit"=>"Save"}
[paperclip] Trying to link /tmp/RackMultipart20180728-6295-1lqkjt7.jpg to /tmp/2e4a3458b948e24100f89cba743226b020180728-6295-ibfraf.jpg
[paperclip] Trying to link /tmp/2e4a3458b948e24100f89cba743226b020180728-6295-ibfraf.jpg to /tmp/2e4a3458b948e24100f89cba743226b020180728-6295-qzpw8k.jpg
Command :: file -b --mime '/tmp/2e4a3458b948e24100f89cba743226b020180728-6295-qzpw8k.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/2e4a3458b948e24100f89cba743226b020180728-6295-ibfraf.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/2e4a3458b948e24100f89cba743226b020180728-6295-ibfraf.jpg[0]'
Command :: convert '/tmp/2e4a3458b948e24100f89cba743226b020180728-6295-ibfraf.jpg[0]' -auto-orient -resize "800x800>" '/tmp/596c0d2d875728e5e79890f4ba9238a120180728-6295-1eeusmu'
[paperclip] Trying to link /tmp/596c0d2d875728e5e79890f4ba9238a120180728-6295-1eeusmu to /tmp/77bcb693cf9fb1270a6340b2848ea2b320180728-6295-14p1s67
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/2e4a3458b948e24100f89cba743226b020180728-6295-ibfraf.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/2e4a3458b948e24100f89cba743226b020180728-6295-ibfraf.jpg[0]'
Command :: convert '/tmp/2e4a3458b948e24100f89cba743226b020180728-6295-ibfraf.jpg[0]' -auto-orient -resize "300x300>" '/tmp/596c0d2d875728e5e79890f4ba9238a120180728-6295-srjy0'
[paperclip] Trying to link /tmp/596c0d2d875728e5e79890f4ba9238a120180728-6295-srjy0 to /tmp/261a919e08d666521f309336619d58c920180728-6295-i621dm
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/2e4a3458b948e24100f89cba743226b020180728-6295-ibfraf.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/2e4a3458b948e24100f89cba743226b020180728-6295-ibfraf.jpg[0]'
Command :: convert '/tmp/2e4a3458b948e24100f89cba743226b020180728-6295-ibfraf.jpg[0]' -auto-orient -resize "100x100>" '/tmp/596c0d2d875728e5e79890f4ba9238a120180728-6295-1y6j9z9'
[paperclip] Trying to link /tmp/596c0d2d875728e5e79890f4ba9238a120180728-6295-1y6j9z9 to /tmp/e1c7ef84016dfefda37c35ceeef1e74c20180728-6295-1rs6al
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/flats_controller.rb:20
[paperclip] Trying to link /tmp/2e4a3458b948e24100f89cba743226b020180728-6295-ibfraf.jpg to /tmp/2e4a3458b948e24100f89cba743226b020180728-6295-g14xa9.jpg
Command :: file -b --mime '/tmp/2e4a3458b948e24100f89cba743226b020180728-6295-g14xa9.jpg'
  [1m[36mFlat Create (0.6ms)[0m  [1m[32mINSERT INTO "flats" ("name", "address", "description", "capacity", "price", "created_at", "updated_at", "image_file_name", "image_content_type", "image_file_size", "image_updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Greate flat"], ["address", "Uzhgorod, Sqr Petefi 12"], ["description", "Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."], ["capacity", 5], ["price", 89], ["created_at", "2018-07-28 18:06:15.527612"], ["updated_at", "2018-07-28 18:06:15.527612"], ["image_file_name", "flat1.jpg"], ["image_content_type", "image/jpeg"], ["image_file_size", 102190], ["image_updated_at", "2018-07-28 18:06:15.280662"]]
  ↳ app/controllers/flats_controller.rb:20
  [1m[35m (6.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/flats_controller.rb:20
Redirected to http://localhost:3000/flats/3
Completed 302 Found in 270ms (ActiveRecord: 7.3ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-07-28 21:06:15 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (0.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:42
  Rendering flats/show.html.erb within layouts/application
  Rendered flats/show.html.erb within layouts/application (1.0ms)
Completed 200 OK in 63ms (Views: 61.7ms | ActiveRecord: 0.1ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-07-28 21:06:51 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:42
  Rendering flats/show.html.erb within layouts/application
  Rendered flats/show.html.erb within layouts/application (4.5ms)
Completed 200 OK in 105ms (Views: 100.4ms | ActiveRecord: 0.3ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-07-28 21:17:10 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:42
  Rendering flats/show.html.erb within layouts/application
  Rendered flats/show.html.erb within layouts/application (200.1ms)
Completed 200 OK in 320ms (Views: 312.4ms | ActiveRecord: 0.7ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-07-28 21:17:30 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:42
  Rendering flats/show.html.erb within layouts/application
  Rendered flats/show.html.erb within layouts/application (10.4ms)
Completed 200 OK in 109ms (Views: 103.1ms | ActiveRecord: 0.7ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-07-28 21:17:49 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:42
  Rendering flats/show.html.erb within layouts/application
  Rendered flats/show.html.erb within layouts/application (11.7ms)
Completed 200 OK in 126ms (Views: 120.4ms | ActiveRecord: 0.6ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-07-28 21:18:23 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:42
  Rendering flats/show.html.erb within layouts/application
  Rendered flats/show.html.erb within layouts/application (5.5ms)
Completed 200 OK in 90ms (Views: 85.0ms | ActiveRecord: 0.6ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-07-28 21:18:31 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:42
  Rendering flats/show.html.erb within layouts/application
  Rendered flats/show.html.erb within layouts/application (11.1ms)
Completed 200 OK in 115ms (Views: 110.0ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2018-07-30 12:38:42 +0300
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT "flats".* FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:3
  Rendered collection of flats/_flat.html.erb [2 times] (0.5ms)
  Rendered flats/index.html.erb within layouts/application (21.1ms)
Completed 200 OK in 326ms (Views: 315.9ms | ActiveRecord: 1.1ms)


Started GET "/flats/2" for 127.0.0.1 at 2018-07-30 12:38:52 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mFlat Load (0.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:42
  Rendering flats/show.html.erb within layouts/application
  Rendered flats/show.html.erb within layouts/application (8.4ms)
Completed 200 OK in 176ms (Views: 164.7ms | ActiveRecord: 0.8ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-07-30 12:39:06 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:42
  Rendering flats/show.html.erb within layouts/application
  Rendered flats/show.html.erb within layouts/application (15.8ms)
Completed 200 OK in 104ms (Views: 96.8ms | ActiveRecord: 0.4ms)


Started GET "/" for 127.0.0.1 at 2018-07-30 12:43:11 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.8ms)[0m  [1m[34mSELECT "flats".* FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:3
  Rendered collection of flats/_flat.html.erb [2 times] (16.9ms)
  Rendered flats/index.html.erb within layouts/application (25.0ms)
Completed 200 OK in 138ms (Views: 132.8ms | ActiveRecord: 0.8ms)


Started GET "/" for 127.0.0.1 at 2018-07-30 12:55:00 +0300
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.2ms)[0m  [1m[34mSELECT "flats".* FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:3
  Rendered collection of flats/_flat.html.erb [2 times] (278.7ms)
  Rendered flats/index.html.erb within layouts/application (301.6ms)
Completed 200 OK in 392ms (Views: 379.9ms | ActiveRecord: 1.2ms)


Started GET "/" for 127.0.0.1 at 2018-07-30 12:58:09 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT "flats".* FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:3
  Rendered collection of flats/_flat.html.erb [2 times] (11.1ms)
  Rendered flats/index.html.erb within layouts/application (16.5ms)
Completed 500 Internal Server Error in 442ms (ActiveRecord: 0.5ms)


  
ActionView::Template::Error (undefined method `user_signed_in?' for #<#<Class:0x00007f2820a094f8>:0x00007f2814035398>):
    52:             <button type="submit" class="btn btn-default">Submit</button>
    53:           </form>
    54:           <ul class="nav navbar-nav navbar-right">
    55:             <% if user_signed_in? %>
    56:                 <li class="nav-item">
    57:                   <%#= link_to current_user.name, user_path(current_user.id), class: "nav-link"%>
    58:                 </li>
  
app/views/layouts/application.html.erb:55:in `_app_views_layouts_application_html_erb___722112067743940617_69905055615520'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
Migrating to DeviseCreateUsers (20180730095919)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ db/migrate/20180730095919_devise_create_users.rb:5
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime, "remember_created_at" datetime, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" datetime, "last_sign_in_at" datetime, "current_sign_in_ip" varchar, "last_sign_in_ip" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ db/migrate/20180730095919_devise_create_users.rb:5
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  ↳ db/migrate/20180730095919_devise_create_users.rb:39
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  ↳ db/migrate/20180730095919_devise_create_users.rb:40
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180730095919"]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (7.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
Migrating to AddColumnInUser (20180730100050)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "name" varchar[0m
  ↳ db/migrate/20180730100050_add_column_in_user.rb:3
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ db/migrate/20180730100050_add_column_in_user.rb:4
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_name" ON "users" ("name")[0m
  ↳ db/migrate/20180730100050_add_column_in_user.rb:4
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "vendor" boolean[0m
  ↳ db/migrate/20180730100050_add_column_in_user.rb:5
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "admin" boolean DEFAULT 0[0m
  ↳ db/migrate/20180730100050_add_column_in_user.rb:6
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180730100050"]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (10.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
Started GET "/" for 127.0.0.1 at 2018-07-30 13:08:52 +0300
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT "flats".* FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:3
  Rendered collection of flats/_flat.html.erb [2 times] (333.0ms)
  Rendered flats/index.html.erb within layouts/application (376.9ms)
Completed 200 OK in 472ms (Views: 454.1ms | ActiveRecord: 2.4ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2018-07-30 13:08:57 +0300
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.1ms)
  Rendered devise/registrations/new.html.erb within layouts/application (22.8ms)
Completed 200 OK in 103ms (Views: 77.2ms | ActiveRecord: 1.8ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2018-07-30 13:14:59 +0300
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/registrations/new.html.erb within layouts/application (54.6ms)
Completed 500 Internal Server Error in 64ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (undefined method `username' for #<User:0x00007f4b801ec198>):
     5: 
     6:   <div class="field form-group">
     7:     <%= f.label :username %><br />
     8:     <%= f.text_field :username, class: 'form-control' %>
     9:   </div>
    10: 
    11:   <div class="field form-group">
  
app/views/devise/registrations/new.html.erb:8:in `block in _app_views_devise_registrations_new_html_erb__4542160052174015669_69981124365520'
app/views/devise/registrations/new.html.erb:3:in `_app_views_devise_registrations_new_html_erb__4542160052174015669_69981124365520'
Started GET "/users/sign_up" for 127.0.0.1 at 2018-07-30 13:15:09 +0300
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (5.1ms)
  Rendered devise/registrations/new.html.erb within layouts/application (16.9ms)
Completed 200 OK in 155ms (Views: 154.3ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2018-07-30 13:15:19 +0300
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (5.5ms)
  Rendered devise/registrations/new.html.erb within layouts/application (24.5ms)
Completed 200 OK in 160ms (Views: 156.3ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2018-07-30 13:19:55 +0300
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.3ms)
  Rendered devise/registrations/new.html.erb within layouts/application (77.4ms)
Completed 200 OK in 236ms (Views: 233.0ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2018-07-30 13:22:25 +0300
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.8ms)
  Rendered devise/registrations/new.html.erb within layouts/application (17.1ms)
Completed 200 OK in 211ms (Views: 206.8ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2018-07-30 13:22:41 +0300
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (2.0ms)
  Rendered devise/registrations/new.html.erb within layouts/application (8.1ms)
Completed 200 OK in 194ms (Views: 192.5ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2018-07-30 13:22:56 +0300
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (3.0ms)
  Rendered devise/registrations/new.html.erb within layouts/application (11.7ms)
Completed 200 OK in 204ms (Views: 195.1ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2018-07-30 13:23:00 +0300
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (5.2ms)
  Rendered devise/registrations/new.html.erb within layouts/application (27.3ms)
Completed 200 OK in 229ms (Views: 226.4ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2018-07-30 13:23:14 +0300
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.4ms)
  Rendered devise/registrations/new.html.erb within layouts/application (8.5ms)
Completed 200 OK in 155ms (Views: 154.1ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2018-07-30 13:23:25 +0300
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.4ms)
  Rendered devise/registrations/new.html.erb within layouts/application (10.4ms)
Completed 200 OK in 241ms (Views: 239.4ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2018-07-30 13:26:04 +0300
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (2.4ms)
  Rendered devise/registrations/new.html.erb within layouts/application (13.5ms)
Completed 200 OK in 225ms (Views: 219.5ms | ActiveRecord: 0.0ms)


Started POST "/users" for 127.0.0.1 at 2018-07-30 13:28:16 +0300
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"EJMiPph/+bDrX0SpMvJhz+EzoLWgxqh3m5RVn3xNEeO/vA9p4EOVKM4LMMtoWxYkXDifsC1/CTi1sOptoJvkGA==", "user"=>{"name"=>"Tork", "email"=>"Tork@ukr.net", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "vendor"=>"1"}, "commit"=>"Sign up"}
Unpermitted parameters: :name, :vendor
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "tork@ukr.net"], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "tork@ukr.net"], ["encrypted_password", "$2a$11$jUkZ5kpAvkoLTU7CVpd/gerIAHIDMmRGyG5AjFGPZl0hju3hP.L1S"], ["created_at", "2018-07-30 10:28:16.444274"], ["updated_at", "2018-07-30 10:28:16.444274"]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (9.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = ?, "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-07-30 10:28:16.458289"], ["last_sign_in_at", "2018-07-30 10:28:16.458289"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-07-30 10:28:16.463423"], ["id", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (7.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 226ms (ActiveRecord: 18.4ms)


Started GET "/" for 127.0.0.1 at 2018-07-30 13:28:16 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT "flats".* FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:3
  Rendered collection of flats/_flat.html.erb [2 times] (12.4ms)
  Rendered flats/index.html.erb within layouts/application (17.7ms)
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:55
Completed 500 Internal Server Error in 372ms (ActiveRecord: 1.2ms)


  
ActionView::Template::Error (undefined method `user_path' for #<#<Class:0x00005583092aa2d8>:0x00007f4b85ce6c38>):
    54:           <ul class="nav navbar-nav navbar-right">
    55:             <% if user_signed_in? %>
    56:                 <li class="nav-item">
    57:                   <%= link_to current_user.name, user_path(current_user.id), class: "nav-link"%>
    58:                 </li>
    59:                 <li class="nav-item">
    60:                   <%= link_to "Log out", destroy_user_session_path, method: :delete, class: "nav-link" %>
  
app/views/layouts/application.html.erb:57:in `_app_views_layouts_application_html_erb___829864597943362153_69981172068840'
Started GET "/" for 127.0.0.1 at 2018-07-30 13:29:18 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT "flats".* FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:3
  Rendered collection of flats/_flat.html.erb [2 times] (9.5ms)
  Rendered flats/index.html.erb within layouts/application (13.3ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 303ms (Views: 300.1ms | ActiveRecord: 0.7ms)


Started GET "/" for 127.0.0.1 at 2018-07-30 13:30:05 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.0ms)[0m  [1m[34mSELECT "flats".* FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:3
  Rendered collection of flats/_flat.html.erb [2 times] (15.7ms)
  Rendered flats/index.html.erb within layouts/application (20.8ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 179ms (Views: 176.8ms | ActiveRecord: 1.4ms)


Started GET "/" for 127.0.0.1 at 2018-07-30 13:30:19 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.2ms)[0m  [1m[34mSELECT "flats".* FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:3
  Rendered collection of flats/_flat.html.erb [2 times] (3.9ms)
  Rendered flats/index.html.erb within layouts/application (6.1ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 152ms (Views: 149.7ms | ActiveRecord: 0.4ms)


  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Destroy (1.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 1]]
  [1m[35m (10.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" LIMIT ?[0m  [["LIMIT", 11]]
Started DELETE "/users/sign_out" for 127.0.0.1 at 2018-07-30 13:37:59 +0300
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"N9Bq2xKT4Q/dxsxrSNUGwHg7j5aia5Y1vHW0TWH9ztOY/0eMaq+Nl/iSuAkSfHErxTCwky/SN3qSUQu/vSs7KA=="}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Filter chain halted as :verify_signed_out_user rendered or redirected
Completed 302 Found in 14ms (ActiveRecord: 4.3ms)


Started GET "/" for 127.0.0.1 at 2018-07-30 13:37:59 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.4ms)[0m  [1m[34mSELECT "flats".* FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:3
  Rendered collection of flats/_flat.html.erb [2 times] (20.5ms)
  Rendered flats/index.html.erb within layouts/application (46.0ms)
Completed 200 OK in 150ms (Views: 140.6ms | ActiveRecord: 4.4ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2018-07-30 13:38:01 +0300
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (0.9ms)
  Rendered devise/registrations/new.html.erb within layouts/application (9.2ms)
Completed 200 OK in 103ms (Views: 73.4ms | ActiveRecord: 0.0ms)


Started POST "/users" for 127.0.0.1 at 2018-07-30 13:38:41 +0300
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"sDz4LJTz0mSYGLH2tD+oYJ4cQ0KCXSZGwl/J1/toLzeOklrTjsXsn9C9Ih/r/zsz4pgv1T9bTLMmlysuNVM2pg==", "user"=>{"name"=>"Tork", "email"=>"Tork@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "vendor"=>"1"}, "commit"=>"Sign up"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "tork@gmail.com"], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "name", "vendor") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "tork@gmail.com"], ["encrypted_password", "$2a$11$Jcb8UsfAqB9P7kqnm.wAd.QirIs2OJTZCnziw6XqU.gEws4NxLH9u"], ["created_at", "2018-07-30 10:38:41.619636"], ["updated_at", "2018-07-30 10:38:41.619636"], ["name", "Tork"], ["vendor", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (9.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.6ms)[0m  [1m[36mbegin transaction[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = ?, "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-07-30 10:38:41.636469"], ["last_sign_in_at", "2018-07-30 10:38:41.636469"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-07-30 10:38:41.639888"], ["id", 2]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (10.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 210ms (ActiveRecord: 22.0ms)


Started GET "/" for 127.0.0.1 at 2018-07-30 13:38:41 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.2ms)[0m  [1m[34mSELECT "flats".* FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:3
  Rendered collection of flats/_flat.html.erb [2 times] (5.6ms)
  Rendered flats/index.html.erb within layouts/application (8.1ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 114ms (Views: 108.8ms | ActiveRecord: 0.4ms)


  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Started DELETE "/users/sign_out" for 127.0.0.1 at 2018-07-30 13:42:29 +0300
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"I8JfMI2+uX8fblNqXj3fXfQHn7L3fSzjX/URrS3FJv6M7XJn9YLV5zo6JwgElKi2SQygt3rEjaxx0a5f8RPTBQ=="}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 45ms (ActiveRecord: 0.8ms)


Started GET "/" for 127.0.0.1 at 2018-07-30 13:42:29 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT "flats".* FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:3
  Rendered collection of flats/_flat.html.erb [2 times] (8.1ms)
  Rendered flats/index.html.erb within layouts/application (11.5ms)
Completed 200 OK in 123ms (Views: 118.9ms | ActiveRecord: 0.3ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2018-07-30 13:42:31 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.5ms)
  Rendered devise/sessions/new.html.erb within layouts/application (5.2ms)
Completed 200 OK in 91ms (Views: 89.7ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-07-30 13:42:49 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"RLu7nHTcCdVLhJQeMFXk1jD6uvM7mov4oOPtUXoeAq0ja2qvFZ5tQyksVVykl30r+FZdzFITWTj0bM87+E+iRQ==", "user"=>{"email"=>"Tork@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "tork@gmail.com"], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2018-07-30 10:42:49.909738"], ["sign_in_count", 2], ["updated_at", "2018-07-30 10:42:49.911889"], ["id", 2]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (4.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 179ms (ActiveRecord: 5.1ms)


Started GET "/" for 127.0.0.1 at 2018-07-30 13:42:49 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.1ms)[0m  [1m[34mSELECT "flats".* FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:3
  Rendered collection of flats/_flat.html.erb [2 times] (3.9ms)
  Rendered flats/index.html.erb within layouts/application (10.4ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 131ms (Views: 126.1ms | ActiveRecord: 1.4ms)


  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
Migrating to AddUserIdToFlats (20180730105326)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "flats" ADD "user_id" integer[0m
  ↳ db/migrate/20180730105326_add_user_id_to_flats.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180730105326"]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (3.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
Started GET "/flats/new" for 127.0.0.1 at 2018-07-30 13:58:25 +0300
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by FlatsController#new as HTML
  Rendering flats/new.html.erb within layouts/application
  Rendered flats/_form.html.erb (4.5ms)
  Rendered flats/new.html.erb within layouts/application (6.3ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 100ms (Views: 77.2ms | ActiveRecord: 1.4ms)


Started GET "/" for 127.0.0.1 at 2018-07-30 13:58:32 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.6ms)[0m  [1m[34mSELECT "flats".* FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:3
  Rendered collection of flats/_flat.html.erb [2 times] (13.4ms)
  Rendered flats/index.html.erb within layouts/application (19.8ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 171ms (Views: 166.3ms | ActiveRecord: 1.9ms)


Started POST "/flats" for 127.0.0.1 at 2018-07-30 13:59:17 +0300
Processing by FlatsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"B+FGKwuS5rxMi7QIe0S98nh0Ysb+CT43RudfrjG68CBj0ShGz6nhb00sDslwLWWZXz2Ddm1Bze0SXxOJHL2Tgg==", "flat"=>{"name"=>"Greate flat", "address"=>"Uzhgorod, Str Tolstogo 54", "description"=>"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.", "capacity"=>"5", "price"=>"142", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007f4b8530f688 @tempfile=#<Tempfile:/tmp/RackMultipart20180730-3548-opemiq.jpg>, @original_filename="flat1.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"flat[image]\"; filename=\"flat1.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "commit"=>"Save"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:18
[paperclip] Trying to link /tmp/RackMultipart20180730-3548-opemiq.jpg to /tmp/2e4a3458b948e24100f89cba743226b020180730-3548-8rkmkv.jpg
[paperclip] Trying to link /tmp/2e4a3458b948e24100f89cba743226b020180730-3548-8rkmkv.jpg to /tmp/2e4a3458b948e24100f89cba743226b020180730-3548-128szj4.jpg
Command :: file -b --mime '/tmp/2e4a3458b948e24100f89cba743226b020180730-3548-128szj4.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/2e4a3458b948e24100f89cba743226b020180730-3548-8rkmkv.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/2e4a3458b948e24100f89cba743226b020180730-3548-8rkmkv.jpg[0]'
Command :: convert '/tmp/2e4a3458b948e24100f89cba743226b020180730-3548-8rkmkv.jpg[0]' -auto-orient -resize "800x800>" '/tmp/51f4d37b6d93e3a2d342e389fab144a220180730-3548-gvlubr'
[paperclip] Trying to link /tmp/51f4d37b6d93e3a2d342e389fab144a220180730-3548-gvlubr to /tmp/05da4572113cf539998b29cfe91e45e020180730-3548-1ked0ri
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/2e4a3458b948e24100f89cba743226b020180730-3548-8rkmkv.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/2e4a3458b948e24100f89cba743226b020180730-3548-8rkmkv.jpg[0]'
Command :: convert '/tmp/2e4a3458b948e24100f89cba743226b020180730-3548-8rkmkv.jpg[0]' -auto-orient -resize "300x300>" '/tmp/51f4d37b6d93e3a2d342e389fab144a220180730-3548-52horg'
[paperclip] Trying to link /tmp/51f4d37b6d93e3a2d342e389fab144a220180730-3548-52horg to /tmp/6375e41eaed6b10c26b75b97d189bf9820180730-3548-crctoy
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/2e4a3458b948e24100f89cba743226b020180730-3548-8rkmkv.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/2e4a3458b948e24100f89cba743226b020180730-3548-8rkmkv.jpg[0]'
Command :: convert '/tmp/2e4a3458b948e24100f89cba743226b020180730-3548-8rkmkv.jpg[0]' -auto-orient -resize "100x100>" '/tmp/51f4d37b6d93e3a2d342e389fab144a220180730-3548-730jej'
[paperclip] Trying to link /tmp/51f4d37b6d93e3a2d342e389fab144a220180730-3548-730jej to /tmp/344076ab6f39c42aab85e2bb257304a520180730-3548-132uaq7
  [1m[35m (0.6ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/flats_controller.rb:20
[paperclip] Trying to link /tmp/2e4a3458b948e24100f89cba743226b020180730-3548-8rkmkv.jpg to /tmp/2e4a3458b948e24100f89cba743226b020180730-3548-tndpuu.jpg
Command :: file -b --mime '/tmp/2e4a3458b948e24100f89cba743226b020180730-3548-tndpuu.jpg'
  [1m[36mFlat Create (0.3ms)[0m  [1m[32mINSERT INTO "flats" ("name", "address", "description", "capacity", "price", "created_at", "updated_at", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Greate flat"], ["address", "Uzhgorod, Str Tolstogo 54"], ["description", "Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."], ["capacity", 5], ["price", 142], ["created_at", "2018-07-30 10:59:17.611178"], ["updated_at", "2018-07-30 10:59:17.611178"], ["image_file_name", "flat1.jpg"], ["image_content_type", "image/jpeg"], ["image_file_size", 102190], ["image_updated_at", "2018-07-30 10:59:17.282849"], ["user_id", 2]]
  ↳ app/controllers/flats_controller.rb:20
  [1m[35m (6.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/flats_controller.rb:20
Redirected to http://localhost:3000/flats/4
Completed 302 Found in 401ms (ActiveRecord: 7.5ms)


Started GET "/flats/4" for 127.0.0.1 at 2018-07-30 13:59:17 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mFlat Load (0.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:42
  Rendering flats/show.html.erb within layouts/application
  Rendered flats/show.html.erb within layouts/application (6.1ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 144ms (Views: 128.5ms | ActiveRecord: 1.0ms)


Started GET "/" for 127.0.0.1 at 2018-07-30 13:59:21 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.9ms)[0m  [1m[34mSELECT "flats".* FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:3
  Rendered collection of flats/_flat.html.erb [3 times] (19.4ms)
  Rendered flats/index.html.erb within layouts/application (26.1ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 139ms (Views: 134.3ms | ActiveRecord: 1.1ms)


Started DELETE "/flats/2" for 127.0.0.1 at 2018-07-30 14:01:23 +0300
Processing by FlatsController#destroy as HTML
  Parameters: {"authenticity_token"=>"JQjxo6KKPoarIWbRSMnCF5LAIdW/Kzq/AArh7B86uNUoI+7UNYHiz8ZcWOSOKZ/1TkzyUwTJ/6x77ncruZULhg==", "id"=>"2"}
  [1m[36mFlat Load (0.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:42
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/flats_controller.rb:31
  [1m[36mFlat Destroy (0.4ms)[0m  [1m[31mDELETE FROM "flats" WHERE "flats"."id" = ?[0m  [["id", 2]]
  ↳ app/controllers/flats_controller.rb:31
  [1m[35m (10.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/flats_controller.rb:31
Redirected to http://localhost:3000/flats
Completed 302 Found in 31ms (ActiveRecord: 11.6ms)


Started GET "/flats" for 127.0.0.1 at 2018-07-30 14:01:23 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT "flats".* FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:3
  Rendered collection of flats/_flat.html.erb [2 times] (5.5ms)
  Rendered flats/index.html.erb within layouts/application (10.7ms)
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 157ms (Views: 151.1ms | ActiveRecord: 1.9ms)


Started DELETE "/flats/3" for 127.0.0.1 at 2018-07-30 14:01:27 +0300
Processing by FlatsController#destroy as HTML
  Parameters: {"authenticity_token"=>"Ace4Zb8f1Tv1Cay8j9T2Ozkpy20bU59X2OLVxWDvLwoM7KcSKBQJcph0kolJNKvZ5aUY66CxWkSjBkMCxkCcWQ==", "id"=>"3"}
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:42
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/flats_controller.rb:31
  [1m[36mFlat Destroy (0.4ms)[0m  [1m[31mDELETE FROM "flats" WHERE "flats"."id" = ?[0m  [["id", 3]]
  ↳ app/controllers/flats_controller.rb:31
  [1m[35m (7.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/flats_controller.rb:31
[paperclip] deleting /home/york/Документы/Projects/FlatBooking/public/system/flats/images/000/000/003/original/flat1.jpg
[paperclip] deleting /home/york/Документы/Projects/FlatBooking/public/system/flats/images/000/000/003/large/flat1.jpg
[paperclip] deleting /home/york/Документы/Projects/FlatBooking/public/system/flats/images/000/000/003/medium/flat1.jpg
[paperclip] deleting /home/york/Документы/Projects/FlatBooking/public/system/flats/images/000/000/003/thumb/flat1.jpg
Redirected to http://localhost:3000/flats
Completed 302 Found in 36ms (ActiveRecord: 8.8ms)


Started GET "/flats" for 127.0.0.1 at 2018-07-30 14:01:27 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT "flats".* FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:3
  Rendered collection of flats/_flat.html.erb [1 times] (3.3ms)
  Rendered flats/index.html.erb within layouts/application (8.9ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 185ms (Views: 180.6ms | ActiveRecord: 0.8ms)


Started GET "/flats" for 127.0.0.1 at 2018-07-30 14:03:19 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT "flats".* FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:3
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  Rendered collection of flats/_flat.html.erb [1 times] (6.4ms)
  Rendered flats/index.html.erb within layouts/application (10.7ms)
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 175ms (Views: 170.7ms | ActiveRecord: 2.7ms)


Started GET "/" for 127.0.0.1 at 2018-07-30 14:03:54 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.2ms)[0m  [1m[34mSELECT "flats".* FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:3
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  Rendered collection of flats/_flat.html.erb [1 times] (5.8ms)
  Rendered flats/index.html.erb within layouts/application (11.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 129ms (Views: 117.0ms | ActiveRecord: 1.6ms)


Started GET "/" for 127.0.0.1 at 2018-07-30 14:03:55 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT "flats".* FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:3
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  Rendered collection of flats/_flat.html.erb [1 times] (18.6ms)
  Rendered flats/index.html.erb within layouts/application (25.5ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 132ms (Views: 126.8ms | ActiveRecord: 1.2ms)


Started GET "/" for 127.0.0.1 at 2018-07-30 14:03:56 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.9ms)[0m  [1m[34mSELECT "flats".* FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:3
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  Rendered collection of flats/_flat.html.erb [1 times] (18.9ms)
  Rendered flats/index.html.erb within layouts/application (30.6ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 155ms (Views: 148.0ms | ActiveRecord: 1.6ms)


Started GET "/" for 127.0.0.1 at 2018-07-30 14:03:59 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.8ms)[0m  [1m[34mSELECT "flats".* FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:3
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  Rendered collection of flats/_flat.html.erb [1 times] (19.7ms)
  Rendered flats/index.html.erb within layouts/application (28.1ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 157ms (Views: 150.6ms | ActiveRecord: 1.5ms)


Started GET "/" for 127.0.0.1 at 2018-07-30 14:04:36 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT "flats".* FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:3
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  Rendered collection of flats/_flat.html.erb [1 times] (8.0ms)
  Rendered flats/index.html.erb within layouts/application (15.7ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 146ms (Views: 142.4ms | ActiveRecord: 0.7ms)


Started GET "/flats/4" for 127.0.0.1 at 2018-07-30 14:04:37 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:42
  Rendering flats/show.html.erb within layouts/application
  Rendered flats/show.html.erb within layouts/application (352.7ms)
Completed 500 Internal Server Error in 369ms (ActiveRecord: 0.3ms)


  
ActionView::Template::Error (undefined local variable or method `flat' for #<#<Class:0x00007f4b85a6b210>:0x00007f4b805da1d8>
Did you mean?  @flat
               Float):
    4:     <h1><%= @flat.name %></h1>
    5:     <small>
    6:       <time><%= @flat.created_at.to_date.strftime("%d %B, %Y")%></time>
    7:       vendor: <%= link_to flat.user.name, edit_flat_path(flat) %>
    8:         |
    9:         <%= link_to "Edit", edit_flat_path(@flat) %>
   10:         |
  
app/views/flats/show.html.erb:7:in `_app_views_flats_show_html_erb__1394189059230668457_69981126448600'
Started GET "/flats/4" for 127.0.0.1 at 2018-07-30 14:05:12 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:42
  Rendering flats/show.html.erb within layouts/application
  Rendered flats/show.html.erb within layouts/application (10.1ms)
Completed 500 Internal Server Error in 17ms (ActiveRecord: 0.4ms)


  
SyntaxError (/home/york/Документы/Projects/FlatBooking/app/views/flats/show.html.erb:13: unknown regexp options - all
/home/york/Документы/Projects/FlatBooking/app/views/flats/show.html.erb:13: unmatched close parenthesis: /@flat.user.name, edit_flat_path(@flat) );@output_buffer.safe_append='
        |
        '.freeze;@output_buffer.append=( link_to "Edit", edit_flat_path(@flat) );@output_buffer.safe_append='
        |
        '.freeze;@output_buffer.append=( link_to "Delete", flat_path(@flat), method: :delete,
        data: { confirm: 'Are you sure?' } );@output_buffer.safe_append='
    </m
/home/york/Документы/Projects/FlatBooking/app/views/flats/show.html.erb:13: syntax error, unexpected '<'
    </small><br/>
            ^
/home/york/Документы/Projects/FlatBooking/app/views/flats/show.html.erb:15: syntax error, unexpected '<', expecting ')'
  </section>
  ^
/home/york/Документы/Projects/FlatBooking/app/views/flats/show.html.erb:20: unknown regexp options - ct
/home/york/Документы/Projects/FlatBooking/app/views/flats/show.html.erb:22: syntax error, unexpected '<'
  <section class="footer-content...
  ^
/home/york/Документы/Projects/FlatBooking/app/views/flats/show.html.erb:23: syntax error, unexpected ':', expecting ')'
    Capacity: '.freeze;@output_buffer.appe...
            ^
/home/york/Документы/Projects/FlatBooking/app/views/flats/show.html.erb:23: syntax error, unexpected '>'
...utput_buffer.safe_append='<br/>
...                              ^
/home/york/Документы/Projects/FlatBooking/app/views/flats/show.html.erb:25: syntax error, unexpected '<', expecting ')'
  </section>
  ^
/home/york/Документы/Projects/FlatBooking/app/views/flats/show.html.erb:26: unknown regexp options - artcl
/home/york/Документы/Projects/FlatBooking/app/views/flats/show.html.erb:31: unterminated string meets end of file
          end
             ^
/home/york/Документы/Projects/FlatBooking/app/views/flats/show.html.erb:31: syntax error, unexpected end-of-input, expecting ')'
          end
             ^):
  
app/views/flats/show.html.erb:13: unknown regexp options - all
app/views/flats/show.html.erb:13: unmatched close parenthesis: /@flat.user.name, edit_flat_path(@flat) );@output_buffer.safe_append='
app/views/flats/show.html.erb:13: syntax error, unexpected '<'
app/views/flats/show.html.erb:15: syntax error, unexpected '<', expecting ')'
app/views/flats/show.html.erb:20: unknown regexp options - ct
app/views/flats/show.html.erb:22: syntax error, unexpected '<'
app/views/flats/show.html.erb:23: syntax error, unexpected ':', expecting ')'
app/views/flats/show.html.erb:23: syntax error, unexpected '>'
app/views/flats/show.html.erb:25: syntax error, unexpected '<', expecting ')'
app/views/flats/show.html.erb:26: unknown regexp options - artcl
app/views/flats/show.html.erb:31: unterminated string meets end of file
app/views/flats/show.html.erb:31: syntax error, unexpected end-of-input, expecting ')'
Started GET "/flats/4" for 127.0.0.1 at 2018-07-30 14:05:58 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:42
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/show.html.erb within layouts/application (20.1ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 217ms (Views: 212.1ms | ActiveRecord: 0.9ms)


Started GET "/" for 127.0.0.1 at 2018-07-30 14:06:04 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT "flats".* FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:3
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  Rendered collection of flats/_flat.html.erb [1 times] (18.2ms)
  Rendered flats/index.html.erb within layouts/application (25.2ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 150ms (Views: 146.0ms | ActiveRecord: 1.4ms)


Started GET "/flats/new" for 127.0.0.1 at 2018-07-30 14:06:17 +0300
Processing by FlatsController#new as HTML
  Rendering flats/new.html.erb within layouts/application
  Rendered flats/_form.html.erb (18.7ms)
  Rendered flats/new.html.erb within layouts/application (22.8ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 157ms (Views: 152.2ms | ActiveRecord: 0.2ms)


Started POST "/flats" for 127.0.0.1 at 2018-07-30 14:06:27 +0300
Processing by FlatsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"cm4+bXMPD7IIeRsJ6fTutJU2Yp1quQAoc4SPZzl7nhQWXlAAtzQIYQneocjinTbfsn+DLfnx8/InPMNAFHz9tg==", "flat"=>{"name"=>"ewrwerw", "address"=>"werwerw", "description"=>"erwerwerwer", "capacity"=>"3", "price"=>"33"}, "commit"=>"Save"}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:18
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/flats_controller.rb:20
  [1m[36mFlat Create (3.2ms)[0m  [1m[32mINSERT INTO "flats" ("name", "address", "description", "capacity", "price", "created_at", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "ewrwerw"], ["address", "werwerw"], ["description", "erwerwerwer"], ["capacity", 3], ["price", 33], ["created_at", "2018-07-30 11:06:28.012970"], ["updated_at", "2018-07-30 11:06:28.012970"], ["user_id", 2]]
  ↳ app/controllers/flats_controller.rb:20
  [1m[35m (9.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/flats_controller.rb:20
Redirected to http://localhost:3000/flats/5
Completed 302 Found in 38ms (ActiveRecord: 14.3ms)


Started GET "/flats/5" for 127.0.0.1 at 2018-07-30 14:06:28 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mFlat Load (0.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:42
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/show.html.erb within layouts/application (19.8ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 176ms (Views: 171.2ms | ActiveRecord: 0.7ms)


Started GET "/flats/new" for 127.0.0.1 at 2018-07-30 14:06:30 +0300
Processing by FlatsController#new as HTML
  Rendering flats/new.html.erb within layouts/application
  Rendered flats/_form.html.erb (12.7ms)
  Rendered flats/new.html.erb within layouts/application (18.8ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 146ms (Views: 142.1ms | ActiveRecord: 0.3ms)


Started POST "/flats" for 127.0.0.1 at 2018-07-30 14:06:37 +0300
Processing by FlatsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"1EDVw9Rxru7yUyAjv4sJoR/GkG80mUpt8iQdwyWy7pKwcLuuEEqpPfP0muK04tHKOI9x36fRubemnFHkCLWNMA==", "flat"=>{"name"=>"343434", "address"=>"343234", "description"=>"2342342", "capacity"=>"232", "price"=>"2323"}, "commit"=>"Save"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:18
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/flats_controller.rb:20
  [1m[36mFlat Create (1.7ms)[0m  [1m[32mINSERT INTO "flats" ("name", "address", "description", "capacity", "price", "created_at", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "343434"], ["address", "343234"], ["description", "2342342"], ["capacity", 232], ["price", 2323], ["created_at", "2018-07-30 11:06:37.597070"], ["updated_at", "2018-07-30 11:06:37.597070"], ["user_id", 2]]
  ↳ app/controllers/flats_controller.rb:20
  [1m[35m (9.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/flats_controller.rb:20
Redirected to http://localhost:3000/flats/6
Completed 302 Found in 30ms (ActiveRecord: 11.7ms)


Started GET "/flats/6" for 127.0.0.1 at 2018-07-30 14:06:37 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[36mFlat Load (0.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:42
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/show.html.erb within layouts/application (17.8ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 197ms (Views: 193.9ms | ActiveRecord: 1.0ms)


Started GET "/flats/new" for 127.0.0.1 at 2018-07-30 14:06:39 +0300
Processing by FlatsController#new as HTML
  Rendering flats/new.html.erb within layouts/application
  Rendered flats/_form.html.erb (11.7ms)
  Rendered flats/new.html.erb within layouts/application (15.8ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 141ms (Views: 136.8ms | ActiveRecord: 0.2ms)


Started POST "/flats" for 127.0.0.1 at 2018-07-30 14:06:45 +0300
Processing by FlatsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"RvT2Bh6LGF/PVBxdDDWWCXJv/pqCyeLO7PCYbP2uOaUixJhr2rAfjM7zppwHXE5iVSYfKhGBERS4SNRL0KlaBw==", "flat"=>{"name"=>"23423", "address"=>"4234234", "description"=>"23423", "capacity"=>"423423", "price"=>"234"}, "commit"=>"Save"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:18
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/flats_controller.rb:20
  [1m[36mFlat Create (2.1ms)[0m  [1m[32mINSERT INTO "flats" ("name", "address", "description", "capacity", "price", "created_at", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "23423"], ["address", "4234234"], ["description", "23423"], ["capacity", 423423], ["price", 234], ["created_at", "2018-07-30 11:06:45.058260"], ["updated_at", "2018-07-30 11:06:45.058260"], ["user_id", 2]]
  ↳ app/controllers/flats_controller.rb:20
  [1m[35m (15.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/flats_controller.rb:20
Redirected to http://localhost:3000/flats/7
Completed 302 Found in 37ms (ActiveRecord: 17.9ms)


Started GET "/flats/7" for 127.0.0.1 at 2018-07-30 14:06:45 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mFlat Load (0.9ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:42
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/show.html.erb within layouts/application (9.5ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 156ms (Views: 148.0ms | ActiveRecord: 1.7ms)


Started GET "/flats/new" for 127.0.0.1 at 2018-07-30 14:06:47 +0300
Processing by FlatsController#new as HTML
  Rendering flats/new.html.erb within layouts/application
  Rendered flats/_form.html.erb (8.9ms)
  Rendered flats/new.html.erb within layouts/application (13.8ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 127ms (Views: 122.4ms | ActiveRecord: 0.2ms)


Started POST "/flats" for 127.0.0.1 at 2018-07-30 14:06:52 +0300
Processing by FlatsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"ba7MmttKXReMc6WOI7WR9P0czm1UsNHr5DER5hLiyQ4JnqL3H3FaxI3UH08o3Emf2lUv3cf4IjGwiV3BP+WqrA==", "flat"=>{"name"=>"234234", "address"=>"234234", "description"=>"34234", "capacity"=>"2342", "price"=>"23423"}, "commit"=>"Save"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:18
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/flats_controller.rb:20
  [1m[36mFlat Create (2.3ms)[0m  [1m[32mINSERT INTO "flats" ("name", "address", "description", "capacity", "price", "created_at", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "234234"], ["address", "234234"], ["description", "34234"], ["capacity", 2342], ["price", 23423], ["created_at", "2018-07-30 11:06:52.082599"], ["updated_at", "2018-07-30 11:06:52.082599"], ["user_id", 2]]
  ↳ app/controllers/flats_controller.rb:20
  [1m[35m (7.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/flats_controller.rb:20
Redirected to http://localhost:3000/flats/8
Completed 302 Found in 31ms (ActiveRecord: 10.4ms)


Started GET "/flats/8" for 127.0.0.1 at 2018-07-30 14:06:52 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mFlat Load (0.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:42
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/show.html.erb within layouts/application (15.4ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 187ms (Views: 184.1ms | ActiveRecord: 1.3ms)


Started GET "/flats/new" for 127.0.0.1 at 2018-07-30 14:06:53 +0300
Processing by FlatsController#new as HTML
  Rendering flats/new.html.erb within layouts/application
  Rendered flats/_form.html.erb (10.5ms)
  Rendered flats/new.html.erb within layouts/application (13.3ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 101ms (Views: 96.4ms | ActiveRecord: 0.2ms)


Started POST "/flats" for 127.0.0.1 at 2018-07-30 14:06:58 +0300
Processing by FlatsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"N387g7YXY4EhYa4OKW4liquNyaECnAsk7DsWdY07cZJTT1XucixkUiDGFM8iB/3hjMQoEZHU+P64g1pSoDwSMA==", "flat"=>{"name"=>"23423423", "address"=>"23423", "description"=>"42342", "capacity"=>"34234", "price"=>"234"}, "commit"=>"Save"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:18
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/flats_controller.rb:20
  [1m[36mFlat Create (3.8ms)[0m  [1m[32mINSERT INTO "flats" ("name", "address", "description", "capacity", "price", "created_at", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "23423423"], ["address", "23423"], ["description", "42342"], ["capacity", 34234], ["price", 234], ["created_at", "2018-07-30 11:06:58.630192"], ["updated_at", "2018-07-30 11:06:58.630192"], ["user_id", 2]]
  ↳ app/controllers/flats_controller.rb:20
  [1m[35m (9.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/flats_controller.rb:20
Redirected to http://localhost:3000/flats/9
Completed 302 Found in 41ms (ActiveRecord: 14.2ms)


Started GET "/flats/9" for 127.0.0.1 at 2018-07-30 14:06:58 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mFlat Load (1.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:42
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/show.html.erb within layouts/application (16.8ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 189ms (Views: 176.6ms | ActiveRecord: 1.7ms)


Started GET "/flats/new" for 127.0.0.1 at 2018-07-30 14:07:00 +0300
Processing by FlatsController#new as HTML
  Rendering flats/new.html.erb within layouts/application
  Rendered flats/_form.html.erb (15.9ms)
  Rendered flats/new.html.erb within layouts/application (20.4ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 151ms (Views: 147.1ms | ActiveRecord: 0.2ms)


Started POST "/flats" for 127.0.0.1 at 2018-07-30 14:07:04 +0300
Processing by FlatsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"h0WHj/+jIKdCyoBSXKPUykHxEv6MTdXNYMJuRHJc7xHjdeniO5gndENtOpNXygyhZrjzTh8FJhc0eiJjX1uMsw==", "flat"=>{"name"=>"2342", "address"=>"23423", "description"=>"234", "capacity"=>"2342", "price"=>"234"}, "commit"=>"Save"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:18
  [1m[35m (0.5ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/flats_controller.rb:20
  [1m[36mFlat Create (3.6ms)[0m  [1m[32mINSERT INTO "flats" ("name", "address", "description", "capacity", "price", "created_at", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "2342"], ["address", "23423"], ["description", "234"], ["capacity", 2342], ["price", 234], ["created_at", "2018-07-30 11:07:04.655202"], ["updated_at", "2018-07-30 11:07:04.655202"], ["user_id", 2]]
  ↳ app/controllers/flats_controller.rb:20
  [1m[35m (10.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/flats_controller.rb:20
Redirected to http://localhost:3000/flats/10
Completed 302 Found in 36ms (ActiveRecord: 15.0ms)


Started GET "/flats/10" for 127.0.0.1 at 2018-07-30 14:07:04 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"10"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = ? LIMIT ?[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:42
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/show.html.erb within layouts/application (15.5ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 176ms (Views: 173.8ms | ActiveRecord: 0.7ms)


Started GET "/" for 127.0.0.1 at 2018-07-30 14:07:06 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT "flats".* FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:3
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  Rendered collection of flats/_flat.html.erb [7 times] (52.8ms)
  Rendered flats/index.html.erb within layouts/application (57.3ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 134ms (Views: 128.8ms | ActiveRecord: 1.3ms)


Started GET "/" for 127.0.0.1 at 2018-07-30 14:15:04 +0300
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (4.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY "flats"."create_at" ASC LIMIT ? OFFSET ?[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:3
  Rendered flats/index.html.erb within layouts/application (13.5ms)
Completed 500 Internal Server Error in 55ms (ActiveRecord: 4.7ms)


  
ActionView::Template::Error (SQLite3::SQLException: no such column: flats.create_at: SELECT  "flats".* FROM "flats" ORDER BY "flats"."create_at" ASC LIMIT ? OFFSET ?):
    1: <h1>Flats</h1>
    2: 
    3: <%= render @flats %>
    4: 
    5: <%= paginate @flats %>
  
app/views/flats/index.html.erb:3:in `_app_views_flats_index_html_erb___3488787063302638443_47442476044700'
Started GET "/" for 127.0.0.1 at 2018-07-30 14:15:49 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.9ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY "flats"."created_at" ASC LIMIT ? OFFSET ?[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:3
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  Rendered collection of flats/_flat.html.erb [7 times] (462.7ms)
  Rendered flats/index.html.erb within layouts/application (535.1ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 741ms (Views: 709.3ms | ActiveRecord: 10.6ms)


Started GET "/" for 127.0.0.1 at 2018-07-30 14:19:52 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.9ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY "flats"."created_at" ASC LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:3
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  Rendered collection of flats/_flat.html.erb [5 times] (146.4ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:5
  Rendered flats/index.html.erb within layouts/application (241.0ms)
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 370ms (Views: 337.8ms | ActiveRecord: 8.1ms)


Started GET "/?page=2" for 127.0.0.1 at 2018-07-30 14:19:58 +0300
Processing by FlatsController#index as HTML
  Parameters: {"page"=>"2"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY "flats"."created_at" ASC LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 5]]
  ↳ app/views/flats/index.html.erb:3
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  Rendered collection of flats/_flat.html.erb [2 times] (26.3ms)
  Rendered flats/index.html.erb within layouts/application (61.6ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 186ms (Views: 180.9ms | ActiveRecord: 1.4ms)


Started GET "/" for 127.0.0.1 at 2018-07-30 14:20:00 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY "flats"."created_at" ASC LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:3
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  Rendered collection of flats/_flat.html.erb [5 times] (45.3ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:5
  Rendered flats/index.html.erb within layouts/application (72.9ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 163ms (Views: 155.0ms | ActiveRecord: 2.7ms)


Started GET "/?page=2" for 127.0.0.1 at 2018-07-30 14:20:58 +0300
Processing by FlatsController#index as HTML
  Parameters: {"page"=>"2"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY "flats"."created_at" ASC LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 5]]
  ↳ app/views/flats/index.html.erb:3
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  Rendered collection of flats/_flat.html.erb [2 times] (23.7ms)
  Rendered flats/index.html.erb within layouts/application (59.8ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 159ms (Views: 153.0ms | ActiveRecord: 1.8ms)


Started GET "/" for 127.0.0.1 at 2018-07-30 14:21:01 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY "flats"."created_at" ASC LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:3
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  Rendered collection of flats/_flat.html.erb [5 times] (41.2ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:5
  Rendered flats/index.html.erb within layouts/application (64.1ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 161ms (Views: 154.6ms | ActiveRecord: 1.9ms)


Started GET "/" for 127.0.0.1 at 2018-07-30 14:24:41 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY "flats"."created_at" ASC LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:3
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  Rendered collection of flats/_flat.html.erb [5 times] (36.9ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:5
  Rendered flats/index.html.erb within layouts/application (62.8ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 229ms (Views: 220.4ms | ActiveRecord: 2.6ms)


Started GET "/" for 127.0.0.1 at 2018-07-30 14:34:57 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY "flats"."created_at" ASC LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:3
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  Rendered collection of flats/_flat.html.erb [5 times] (104.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:5
  Rendered flats/index.html.erb within layouts/application (178.2ms)
Started GET "/flats/4/edit" for 127.0.0.1 at 2018-07-30 14:34:59 +0300
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 2874ms (Views: 2858.3ms | ActiveRecord: 4.9ms)


Processing by FlatsController#edit as HTML
  Parameters: {"id"=>"4"}
  [1m[36mFlat Load (1.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:42
Completed 406 Not Acceptable in 115ms (ActiveRecord: 2.2ms)


  
ActionController::UnknownFormat (FlatsController#edit is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []

NOTE! For XHR/Ajax or API requests, this action would normally respond with 204 No Content: an empty white screen. Since you're loading it in a web browser, we assume that you expected to actually render a template, not nothing, so we're showing an error to be extra-clear. If you expect 204 No Content, carry on. That's what you'll get from an XHR or API request. Give it a shot.):
  
actionpack (5.2.0) lib/action_controller/metal/implicit_render.rb:55:in `default_render'
actionpack (5.2.0) lib/action_controller/metal/basic_implicit_render.rb:6:in `block in send_action'
actionpack (5.2.0) lib/action_controller/metal/basic_implicit_render.rb:6:in `tap'
actionpack (5.2.0) lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
actionpack (5.2.0) lib/abstract_controller/base.rb:194:in `process_action'
actionpack (5.2.0) lib/action_controller/metal/rendering.rb:30:in `process_action'
actionpack (5.2.0) lib/abstract_controller/callbacks.rb:42:in `block in process_action'
activesupport (5.2.0) lib/active_support/callbacks.rb:132:in `run_callbacks'
actionpack (5.2.0) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (5.2.0) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (5.2.0) lib/action_controller/metal/instrumentation.rb:34:in `block in process_action'
activesupport (5.2.0) lib/active_support/notifications.rb:168:in `block in instrument'
activesupport (5.2.0) lib/active_support/notifications/instrumenter.rb:23:in `instrument'
activesupport (5.2.0) lib/active_support/notifications.rb:168:in `instrument'
actionpack (5.2.0) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (5.2.0) lib/action_controller/metal/params_wrapper.rb:256:in `process_action'
activerecord (5.2.0) lib/active_record/railties/controller_runtime.rb:24:in `process_action'
actionpack (5.2.0) lib/abstract_controller/base.rb:134:in `process'
actionview (5.2.0) lib/action_view/rendering.rb:32:in `process'
actionpack (5.2.0) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (5.2.0) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (5.2.0) lib/action_dispatch/routing/route_set.rb:52:in `dispatch'
actionpack (5.2.0) lib/action_dispatch/routing/route_set.rb:34:in `serve'
actionpack (5.2.0) lib/action_dispatch/journey/router.rb:52:in `block in serve'
actionpack (5.2.0) lib/action_dispatch/journey/router.rb:35:in `each'
actionpack (5.2.0) lib/action_dispatch/journey/router.rb:35:in `serve'
actionpack (5.2.0) lib/action_dispatch/routing/route_set.rb:840:in `call'
warden (1.2.7) lib/warden/manager.rb:36:in `block in call'
warden (1.2.7) lib/warden/manager.rb:35:in `catch'
warden (1.2.7) lib/warden/manager.rb:35:in `call'
rack (2.0.5) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.0.5) lib/rack/etag.rb:25:in `call'
rack (2.0.5) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.5) lib/rack/head.rb:12:in `call'
actionpack (5.2.0) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.0.5) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.5) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/cookies.rb:670:in `call'
activerecord (5.2.0) lib/active_record/migration.rb:559:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
activesupport (5.2.0) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (5.2.0) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:61:in `call'
web-console (3.6.2) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.6.2) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `catch'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.0) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/users/2" for 127.0.0.1 at 2018-07-30 14:35:03 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:3
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (1.0ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 112ms (Views: 74.3ms | ActiveRecord: 2.1ms)


Started GET "/" for 127.0.0.1 at 2018-07-30 14:35:10 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY "flats"."created_at" ASC LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:3
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  Rendered collection of flats/_flat.html.erb [5 times] (52.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:5
  Rendered flats/index.html.erb within layouts/application (82.6ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 218ms (Views: 208.1ms | ActiveRecord: 2.7ms)


Started GET "/" for 127.0.0.1 at 2018-07-30 14:36:04 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY "flats"."created_at" ASC LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:3
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  Rendered collection of flats/_flat.html.erb [5 times] (32.0ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:5
  Rendered flats/index.html.erb within layouts/application (67.2ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 239ms (Views: 234.7ms | ActiveRecord: 1.7ms)


Started GET "/users/2" for 127.0.0.1 at 2018-07-30 14:36:06 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:3
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (0.7ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 101ms (Views: 97.5ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2018-07-30 14:36:08 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY "flats"."created_at" ASC LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:3
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  Rendered collection of flats/_flat.html.erb [5 times] (46.8ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:5
  Rendered flats/index.html.erb within layouts/application (73.7ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 187ms (Views: 180.8ms | ActiveRecord: 2.1ms)


Started GET "/" for 127.0.0.1 at 2018-07-30 14:38:31 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY "flats"."created_at" ASC LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:3
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  Rendered collection of flats/_flat.html.erb [5 times] (53.9ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:5
  Rendered flats/index.html.erb within layouts/application (87.1ms)
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 333ms (Views: 328.3ms | ActiveRecord: 2.6ms)


Started GET "/users/2" for 127.0.0.1 at 2018-07-30 14:38:33 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:3
  Rendering users/show.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/views/users/show.html.erb:20
  Rendered users/show.html.erb within layouts/application (46.8ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 133ms (Views: 125.9ms | ActiveRecord: 1.0ms)


Started GET "/" for 127.0.0.1 at 2018-07-30 14:39:44 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY "flats"."created_at" ASC LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:3
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  Rendered collection of flats/_flat.html.erb [5 times] (16.6ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:5
  Rendered flats/index.html.erb within layouts/application (36.4ms)
Started GET "/users/2" for 127.0.0.1 at 2018-07-30 14:39:46 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:3
  Rendering users/show.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/views/users/show.html.erb:20
  Rendered users/show.html.erb within layouts/application (1.9ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 2616ms (Views: 2613.4ms | ActiveRecord: 1.1ms)


  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 392ms (Views: 390.0ms | ActiveRecord: 0.6ms)


Started GET "/users/2" for 127.0.0.1 at 2018-07-30 14:39:46 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:3
  Rendering users/show.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/views/users/show.html.erb:20
  Rendered users/show.html.erb within layouts/application (1.8ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 136ms (Views: 131.9ms | ActiveRecord: 1.7ms)


Started GET "/users/2" for 127.0.0.1 at 2018-07-30 14:40:40 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:3
  Rendering users/show.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/views/users/show.html.erb:20
  Rendered users/show.html.erb within layouts/application (6.0ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 349ms (Views: 343.1ms | ActiveRecord: 1.5ms)


Started GET "/users/2" for 127.0.0.1 at 2018-07-30 14:41:27 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:3
  Rendering users/show.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/views/users/show.html.erb:20
  Rendered users/show.html.erb within layouts/application (5.5ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 226ms (Views: 223.5ms | ActiveRecord: 0.6ms)


Started GET "/users/2" for 127.0.0.1 at 2018-07-30 14:41:36 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:3
  Rendering users/show.html.erb within layouts/application
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/views/users/show.html.erb:20
  Rendered users/show.html.erb within layouts/application (12.8ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 167ms (Views: 160.9ms | ActiveRecord: 1.6ms)


Started GET "/users/2" for 127.0.0.1 at 2018-07-30 14:42:01 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:3
  Rendering users/show.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/views/users/show.html.erb:17
  Rendered users/show.html.erb within layouts/application (3.6ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 195ms (Views: 191.2ms | ActiveRecord: 0.8ms)


Started GET "/users/2" for 127.0.0.1 at 2018-07-30 14:44:12 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:3
  Rendering users/show.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/views/users/show.html.erb:17
  [1m[36mFlat Load (0.9ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY "flats"."created_at" ASC LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/users/show.html.erb:42
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  Rendered collection of flats/_flat.html.erb [5 times] (34.5ms)
  Rendered users/show.html.erb within layouts/application (100.2ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 302ms (Views: 216.9ms | ActiveRecord: 6.7ms)


Started GET "/users/2" for 127.0.0.1 at 2018-07-30 14:45:33 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:3
  Rendering users/show.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/views/users/show.html.erb:17
  [1m[36mFlat Load (1.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY "flats"."created_at" ASC LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/users/show.html.erb:43
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  Rendered collection of flats/_flat.html.erb [5 times] (50.9ms)
  Rendered users/show.html.erb within layouts/application (59.9ms)
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 252ms (Views: 245.0ms | ActiveRecord: 3.4ms)


Started GET "/users/2" for 127.0.0.1 at 2018-07-30 14:45:51 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:3
  Rendering users/show.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/views/users/show.html.erb:17
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY "flats"."created_at" ASC LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/users/show.html.erb:43
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  Rendered collection of flats/_flat.html.erb [5 times] (48.4ms)
  Rendered users/show.html.erb within layouts/application (55.0ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 272ms (Views: 266.7ms | ActiveRecord: 2.5ms)


Started GET "/users/2" for 127.0.0.1 at 2018-07-30 14:45:59 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:3
  Rendering users/show.html.erb within layouts/application
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/views/users/show.html.erb:17
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY "flats"."created_at" ASC LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/users/show.html.erb:43
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  Rendered collection of flats/_flat.html.erb [5 times] (59.3ms)
  Rendered users/show.html.erb within layouts/application (75.7ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 258ms (Views: 250.6ms | ActiveRecord: 2.4ms)


Started GET "/" for 127.0.0.1 at 2018-07-30 15:19:28 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY "flats"."created_at" ASC LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:3
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  Rendered collection of flats/_flat.html.erb [5 times] (30.9ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:5
  Rendered flats/index.html.erb within layouts/application (49.6ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 113ms (Views: 107.7ms | ActiveRecord: 2.2ms)


Started GET "/flats/new" for 127.0.0.1 at 2018-07-30 16:34:07 +0300
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by FlatsController#new as HTML
  Rendering flats/new.html.erb within layouts/application
  Rendered flats/_form.html.erb (6.6ms)
  Rendered flats/new.html.erb within layouts/application (7.8ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 493ms (Views: 472.0ms | ActiveRecord: 2.0ms)


Started POST "/flats" for 127.0.0.1 at 2018-07-30 16:34:15 +0300
Processing by FlatsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"pELIElblSBIAs9q5ahTCKCVUGUVrUDNMYmQWpGuC2t/AcqZ/kt5PwQEUYHhhfRpDAh349fgYwJY23FqDRoW5fQ==", "flat"=>{"name"=>"rtgdf", "address"=>"gdfgd", "description"=>"fgdfgd", "capacity"=>"43", "price"=>"345"}, "commit"=>"Save"}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:18
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/flats_controller.rb:20
  [1m[36mFlat Create (0.5ms)[0m  [1m[32mINSERT INTO "flats" ("name", "address", "description", "capacity", "price", "created_at", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "rtgdf"], ["address", "gdfgd"], ["description", "fgdfgd"], ["capacity", 43], ["price", 345], ["created_at", "2018-07-30 13:34:15.631058"], ["updated_at", "2018-07-30 13:34:15.631058"], ["user_id", 2]]
  ↳ app/controllers/flats_controller.rb:20
  [1m[35m (6.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/flats_controller.rb:20
  Rendering user_mailer/signup_cofirmation.html.erb within layouts/mailer
  Rendered user_mailer/signup_cofirmation.html.erb within layouts/mailer (0.4ms)
  Rendering user_mailer/signup_cofirmation.text.erb within layouts/mailer
  Rendered user_mailer/signup_cofirmation.text.erb within layouts/mailer (1.6ms)
UserMailer#signup_cofirmation: processed outbound mail in 1082.1ms
Sent mail to tork@gmail.com (727.1ms)
Date: Mon, 30 Jul 2018 16:34:17 +0300
From: yorkqw@gmail.com
To: tork@gmail.com
Message-ID: <5b5f13d9413b_20162b0ea6f18788568fd@york-HP-250-G5-Notebook-PC.mail>
Subject: Sign Up Confirmation
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5b5f13d92046_20162b0ea6f18788567e8";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5b5f13d92046_20162b0ea6f18788567e8
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Tork,

Thank you for created new flat.


----==_mimepart_5b5f13d92046_20162b0ea6f18788567e8
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <h1>User#signup_cofirmation</h1>

<p>
  , find me in app/views/user_mailer/signup_cofirmation.html.erb
</p>

  </body>
</html>

----==_mimepart_5b5f13d92046_20162b0ea6f18788567e8--

Completed 500 Internal Server Error in 2138ms (ActiveRecord: 8.3ms)


  
Net::SMTPAuthenticationError (534-5.7.14 <https://accounts.google.com/signin/continue?sarp=1&scc=1&plt=AKgnsbvp
):
  
app/controllers/flats_controller.rb:21:in `create'
Started POST "/flats" for 127.0.0.1 at 2018-07-30 16:36:27 +0300
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by FlatsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"SbHZISvbDrqBXrEpDa7h9T30aj0wQrJlcRhN1Oq9v1hEmsZWvNDS8+wjjxzLTrwX4Xi5u4ugd3YK/NsTTBIMCw==", "flat"=>{"name"=>"rtgdf", "address"=>"gdfgd", "description"=>"fgdfgd", "capacity"=>"43", "price"=>"345"}, "commit"=>"Save"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:18
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/flats_controller.rb:20
  [1m[36mFlat Create (0.4ms)[0m  [1m[32mINSERT INTO "flats" ("name", "address", "description", "capacity", "price", "created_at", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "rtgdf"], ["address", "gdfgd"], ["description", "fgdfgd"], ["capacity", 43], ["price", 345], ["created_at", "2018-07-30 13:36:28.161518"], ["updated_at", "2018-07-30 13:36:28.161518"], ["user_id", 2]]
  ↳ app/controllers/flats_controller.rb:20
  [1m[35m (8.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/flats_controller.rb:20
  Rendering user_mailer/signup_cofirmation.html.erb within layouts/mailer
  Rendered user_mailer/signup_cofirmation.html.erb within layouts/mailer (2.4ms)
  Rendering user_mailer/signup_cofirmation.text.erb within layouts/mailer
  Rendered user_mailer/signup_cofirmation.text.erb within layouts/mailer (0.6ms)
UserMailer#signup_cofirmation: processed outbound mail in 65.3ms
Sent mail to tork@gmail.com (683.4ms)
Date: Mon, 30 Jul 2018 16:36:28 +0300
From: yorkqw@gmail.com
To: tork@gmail.com
Message-ID: <5b5f145c5df7d_20862ac10758fe9c5758b@york-HP-250-G5-Notebook-PC.mail>
Subject: Sign Up Confirmation
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5b5f145c5d2e3_20862ac10758fe9c57434";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5b5f145c5d2e3_20862ac10758fe9c57434
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Tork,

Thank you for created new flat.


----==_mimepart_5b5f145c5d2e3_20862ac10758fe9c57434
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <h1>Tork,</h1>

<p>
  Thank you for created new flat.
</p>

  </body>
</html>

----==_mimepart_5b5f145c5d2e3_20862ac10758fe9c57434--

Completed 500 Internal Server Error in 1037ms (ActiveRecord: 17.0ms)


  
Net::SMTPAuthenticationError (534-5.7.14 <https://accounts.google.com/signin/continue?sarp=1&scc=1&plt=AKgnsbsk
):
  
app/controllers/flats_controller.rb:21:in `create'
Started POST "/flats" for 127.0.0.1 at 2018-07-30 16:37:14 +0300
Processing by FlatsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"SbHZISvbDrqBXrEpDa7h9T30aj0wQrJlcRhN1Oq9v1hEmsZWvNDS8+wjjxzLTrwX4Xi5u4ugd3YK/NsTTBIMCw==", "flat"=>{"name"=>"rtgdf", "address"=>"gdfgd", "description"=>"fgdfgd", "capacity"=>"43", "price"=>"345"}, "commit"=>"Save"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:18
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/flats_controller.rb:20
  [1m[36mFlat Create (1.4ms)[0m  [1m[32mINSERT INTO "flats" ("name", "address", "description", "capacity", "price", "created_at", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "rtgdf"], ["address", "gdfgd"], ["description", "fgdfgd"], ["capacity", 43], ["price", 345], ["created_at", "2018-07-30 13:37:14.488526"], ["updated_at", "2018-07-30 13:37:14.488526"], ["user_id", 2]]
  ↳ app/controllers/flats_controller.rb:20
  [1m[35m (6.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/flats_controller.rb:20
  Rendering user_mailer/signup_cofirmation.html.erb within layouts/mailer
  Rendered user_mailer/signup_cofirmation.html.erb within layouts/mailer (0.4ms)
  Rendering user_mailer/signup_cofirmation.text.erb within layouts/mailer
  Rendered user_mailer/signup_cofirmation.text.erb within layouts/mailer (0.3ms)
UserMailer#signup_cofirmation: processed outbound mail in 32.2ms
Sent mail to tork@gmail.com (700.1ms)
Date: Mon, 30 Jul 2018 16:37:14 +0300
From: yorkqw@gmail.com
To: tork@gmail.com
Message-ID: <5b5f148a845b2_20862ac10758fc3057745@york-HP-250-G5-Notebook-PC.mail>
Subject: Sign Up Confirmation
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5b5f148a7ffda_20862ac10758fc3057642";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5b5f148a7ffda_20862ac10758fc3057642
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Tork,

Thank you for created new flat.


----==_mimepart_5b5f148a7ffda_20862ac10758fc3057642
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <h1>Tork,</h1>

<p>
  Thank you for created new flat.
</p>

  </body>
</html>

----==_mimepart_5b5f148a7ffda_20862ac10758fc3057642--

Completed 500 Internal Server Error in 757ms (ActiveRecord: 8.5ms)


  
Net::SMTPAuthenticationError (534-5.7.14 <https://accounts.google.com/signin/continue?sarp=1&scc=1&plt=AKgnsbsm
):
  
app/controllers/flats_controller.rb:21:in `create'
Started GET "/" for 127.0.0.1 at 2018-07-30 16:39:57 +0300
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY "flats"."created_at" ASC LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:3
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  Rendered collection of flats/_flat.html.erb [5 times] (278.1ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:5
  Rendered flats/index.html.erb within layouts/application (319.6ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 444ms (Views: 424.1ms | ActiveRecord: 3.7ms)


Started GET "/flats/new" for 127.0.0.1 at 2018-07-30 16:40:01 +0300
Processing by FlatsController#new as HTML
  Rendering flats/new.html.erb within layouts/application
  Rendered flats/_form.html.erb (43.5ms)
  Rendered flats/new.html.erb within layouts/application (47.1ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 169ms (Views: 163.4ms | ActiveRecord: 0.2ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2018-07-30 16:40:16 +0300
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"9mRNVN9YihkNTe+tHMIBXb7dxJPtWr47g9HONKvV6h37T1IjSFNWUGAw0ZjaIly/YlEXFVa4eyj4NVjzDXpZTg=="}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 14ms (ActiveRecord: 0.8ms)


Started GET "/" for 127.0.0.1 at 2018-07-30 16:40:16 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY "flats"."created_at" ASC LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:3
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  Rendered collection of flats/_flat.html.erb [5 times] (37.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:5
  Rendered flats/index.html.erb within layouts/application (74.4ms)
Completed 200 OK in 196ms (Views: 187.2ms | ActiveRecord: 2.5ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2018-07-30 16:40:18 +0300
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (0.8ms)
  Rendered devise/registrations/new.html.erb within layouts/application (10.6ms)
Completed 200 OK in 133ms (Views: 131.2ms | ActiveRecord: 0.0ms)


Started POST "/users" for 127.0.0.1 at 2018-07-30 16:41:14 +0300
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"7BrhcGOhP4wqkf9uN24KFCk+Epo1sgKqioRg+WWN3pnJkGWc5apZmiTD5Cm8P57jFd0v4ZzIW+19C8e0mvKi/g==", "user"=>{"name"=>"York", "email"=>"yorkego1@ukr.net", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "vendor"=>"1"}, "commit"=>"Sign up"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "yorkego1@ukr.net"], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "name", "vendor") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "yorkego1@ukr.net"], ["encrypted_password", "$2a$11$cv/.wjC5YvMetXwvlCNADecsqP4PNPoLVJD8Nb11q.Q/eiPDRMoai"], ["created_at", "2018-07-30 13:41:14.277382"], ["updated_at", "2018-07-30 13:41:14.277382"], ["name", "York"], ["vendor", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (5.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = ?, "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-07-30 13:41:14.288553"], ["last_sign_in_at", "2018-07-30 13:41:14.288553"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-07-30 13:41:14.289363"], ["id", 3]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (9.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 273ms (ActiveRecord: 16.4ms)


Started GET "/" for 127.0.0.1 at 2018-07-30 16:41:14 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY "flats"."created_at" ASC LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:3
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  Rendered collection of flats/_flat.html.erb [5 times] (21.9ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:5
  Rendered flats/index.html.erb within layouts/application (54.5ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 165ms (Views: 161.4ms | ActiveRecord: 2.5ms)


Started GET "/flats/new" for 127.0.0.1 at 2018-07-30 16:41:20 +0300
Processing by FlatsController#new as HTML
  Rendering flats/new.html.erb within layouts/application
  Rendered flats/_form.html.erb (5.7ms)
  Rendered flats/new.html.erb within layouts/application (7.3ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 132ms (Views: 129.9ms | ActiveRecord: 0.2ms)


Started POST "/flats" for 127.0.0.1 at 2018-07-30 16:41:33 +0300
Processing by FlatsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"vlqY3FzTuseYqxycSASbjvOPuQHztAOE1mVSBueRMA2zEnLfPJDWtqpKUB6yepxGVI17sLeTvA+iwBGSRBpeYg==", "flat"=>{"name"=>"retert", "address"=>"ertert", "description"=>"ertert", "capacity"=>"123", "price"=>"1234"}, "commit"=>"Save"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:18
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/flats_controller.rb:20
  [1m[36mFlat Create (0.7ms)[0m  [1m[32mINSERT INTO "flats" ("name", "address", "description", "capacity", "price", "created_at", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "retert"], ["address", "ertert"], ["description", "ertert"], ["capacity", 123], ["price", 1234], ["created_at", "2018-07-30 13:41:33.954005"], ["updated_at", "2018-07-30 13:41:33.954005"], ["user_id", 3]]
  ↳ app/controllers/flats_controller.rb:20
  [1m[35m (8.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/flats_controller.rb:20
  Rendering user_mailer/signup_cofirmation.html.erb within layouts/mailer
  Rendered user_mailer/signup_cofirmation.html.erb within layouts/mailer (1.1ms)
  Rendering user_mailer/signup_cofirmation.text.erb within layouts/mailer
  Rendered user_mailer/signup_cofirmation.text.erb within layouts/mailer (1.1ms)
UserMailer#signup_cofirmation: processed outbound mail in 60.2ms
Sent mail to yorkego1@ukr.net (713.4ms)
Date: Mon, 30 Jul 2018 16:41:34 +0300
From: yorkqw@gmail.com
To: yorkego1@ukr.net
Message-ID: <5b5f158e2710d_21572ae91bb01ac45184@york-HP-250-G5-Notebook-PC.mail>
Subject: Sign Up Confirmation
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5b5f158e248c9_21572ae91bb01ac45070";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5b5f158e248c9_21572ae91bb01ac45070
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

York,

Thank you for created new flat.


----==_mimepart_5b5f158e248c9_21572ae91bb01ac45070
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <h1>York,</h1>

<p>
  Thank you for created new flat.
</p>

  </body>
</html>

----==_mimepart_5b5f158e248c9_21572ae91bb01ac45070--

Completed 500 Internal Server Error in 932ms (ActiveRecord: 9.5ms)


  
Net::SMTPAuthenticationError (534-5.7.14 <https://accounts.google.com/signin/continue?sarp=1&scc=1&plt=AKgnsbv5
):
  
app/controllers/flats_controller.rb:21:in `create'
Started POST "/flats" for 127.0.0.1 at 2018-07-30 16:43:35 +0300
Processing by FlatsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"WQKA91lm2mbNtAELZRCDcllmiOXNRh4DQpm9SYehDpsklwzqPdUmXvAD+Ljr6CDKGTai3CqvQAhm8JAIyqyG2A==", "flat"=>{"name"=>"retert", "address"=>"ertert", "description"=>"ertert", "capacity"=>"123", "price"=>"1234"}, "commit"=>"Save"}
  [1m[36mUser Load (3.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:18
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/flats_controller.rb:20
  [1m[36mFlat Create (0.8ms)[0m  [1m[32mINSERT INTO "flats" ("name", "address", "description", "capacity", "price", "created_at", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "retert"], ["address", "ertert"], ["description", "ertert"], ["capacity", 123], ["price", 1234], ["created_at", "2018-07-30 13:43:35.475497"], ["updated_at", "2018-07-30 13:43:35.475497"], ["user_id", 3]]
  ↳ app/controllers/flats_controller.rb:20
  [1m[35m (10.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/flats_controller.rb:20
  Rendering user_mailer/signup_cofirmation.html.erb within layouts/mailer
  Rendered user_mailer/signup_cofirmation.html.erb within layouts/mailer (0.8ms)
  Rendering user_mailer/signup_cofirmation.text.erb within layouts/mailer
  Rendered user_mailer/signup_cofirmation.text.erb within layouts/mailer (1.7ms)
UserMailer#signup_cofirmation: processed outbound mail in 38.1ms
Sent mail to yorkego1@ukr.net (1654.4ms)
Date: Mon, 30 Jul 2018 16:43:35 +0300
From: yorkqw@gmail.com
To: yorkego1@ukr.net
Message-ID: <5b5f160790f51_21572ae91bb019ac537b@york-HP-250-G5-Notebook-PC.mail>
Subject: Sign Up Confirmation
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5b5f16078c991_21572ae91bb019ac5224";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5b5f16078c991_21572ae91bb019ac5224
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

York,

Thank you for created new flat.


----==_mimepart_5b5f16078c991_21572ae91bb019ac5224
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <h1>York,</h1>

<p>
  Thank you for created new flat.
</p>

  </body>
</html>

----==_mimepart_5b5f16078c991_21572ae91bb019ac5224--

Redirected to http://localhost:3000/flats/15
Completed 302 Found in 1790ms (ActiveRecord: 15.5ms)


Started GET "/flats/15" for 127.0.0.1 at 2018-07-30 16:43:37 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"15"}
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:43
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/show.html.erb within layouts/application (16.3ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 150ms (Views: 141.7ms | ActiveRecord: 0.7ms)


Started GET "/" for 127.0.0.1 at 2018-07-30 16:47:37 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY "flats"."created_at" ASC LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:3
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  Rendered collection of flats/_flat.html.erb [5 times] (31.5ms)
  [1m[35m (1.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:5
  Rendered flats/index.html.erb within layouts/application (71.2ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 166ms (Views: 160.3ms | ActiveRecord: 2.6ms)


Started GET "/?page=3" for 127.0.0.1 at 2018-07-30 16:47:39 +0300
Processing by FlatsController#index as HTML
  Parameters: {"page"=>"3"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY "flats"."created_at" ASC LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 10]]
  ↳ app/views/flats/index.html.erb:3
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  Rendered collection of flats/_flat.html.erb [2 times] (25.2ms)
  Rendered flats/index.html.erb within layouts/application (70.0ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 223ms (Views: 216.9ms | ActiveRecord: 1.7ms)


Started GET "/?page=2" for 127.0.0.1 at 2018-07-30 16:47:45 +0300
Processing by FlatsController#index as HTML
  Parameters: {"page"=>"2"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY "flats"."created_at" ASC LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 5]]
  ↳ app/views/flats/index.html.erb:3
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  Rendered collection of flats/_flat.html.erb [5 times] (62.8ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:5
  Rendered flats/index.html.erb within layouts/application (95.5ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 201ms (Views: 193.4ms | ActiveRecord: 2.4ms)


Started GET "/?page=3" for 127.0.0.1 at 2018-07-30 16:47:48 +0300
Processing by FlatsController#index as HTML
  Parameters: {"page"=>"3"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY "flats"."created_at" ASC LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 10]]
  ↳ app/views/flats/index.html.erb:3
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  Rendered collection of flats/_flat.html.erb [2 times] (11.2ms)
  Rendered flats/index.html.erb within layouts/application (40.5ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 158ms (Views: 155.9ms | ActiveRecord: 0.8ms)


Started GET "/" for 127.0.0.1 at 2018-07-30 16:47:51 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY "flats"."created_at" ASC LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:3
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  Rendered collection of flats/_flat.html.erb [5 times] (30.4ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:5
  Rendered flats/index.html.erb within layouts/application (58.2ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 219ms (Views: 210.9ms | ActiveRecord: 2.2ms)


Started GET "/users/3" for 127.0.0.1 at 2018-07-30 16:52:28 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:3
  Rendering users/show.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."user_id" = ?[0m  [["user_id", 3]]
  ↳ app/views/users/show.html.erb:17
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY "flats"."created_at" ASC LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/users/show.html.erb:43
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  Rendered collection of flats/_flat.html.erb [5 times] (31.4ms)
  Rendered users/show.html.erb within layouts/application (46.0ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 162ms (Views: 149.7ms | ActiveRecord: 2.5ms)


Started GET "/users/3" for 127.0.0.1 at 2018-07-30 16:53:32 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:3
  Rendering users/show.html.erb within layouts/application
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."user_id" = ?[0m  [["user_id", 3]]
  ↳ app/views/users/show.html.erb:17
  [1m[36mFlat Load (1.9ms)[0m  [1m[34mSELECT "flats".* FROM "flats" WHERE "flats"."user_id" = ?[0m  [["user_id", 3]]
  ↳ app/views/users/show.html.erb:43
  Rendered collection of flats/_flat.html.erb [2 times] (8.6ms)
  Rendered users/show.html.erb within layouts/application (105.8ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 363ms (Views: 257.9ms | ActiveRecord: 11.3ms)


Started GET "/users/3" for 127.0.0.1 at 2018-07-30 16:54:39 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:3
  Rendering users/show.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."user_id" = ?[0m  [["user_id", 3]]
  ↳ app/views/users/show.html.erb:17
  [1m[36mFlat Load (0.9ms)[0m  [1m[34mSELECT "flats".* FROM "flats" WHERE "flats"."user_id" = ?[0m  [["user_id", 3]]
  ↳ app/views/users/show.html.erb:43
  Rendered collection of flats/_flat.html.erb [2 times] (13.7ms)
  Rendered users/show.html.erb within layouts/application (121.7ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 415ms (Views: 307.8ms | ActiveRecord: 10.5ms)


  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
Migrating to AddCityToFlat (20180730135611)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "flats" ADD "city" varchar[0m
  ↳ db/migrate/20180730135611_add_city_to_flat.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180730135611"]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (5.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[36mActiveRecord::InternalMetadata Load (1.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
Started GET "/flats/new" for 127.0.0.1 at 2018-07-30 17:00:11 +0300
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by FlatsController#new as HTML
  Rendering flats/new.html.erb within layouts/application
  Rendered flats/_form.html.erb (3.5ms)
  Rendered flats/new.html.erb within layouts/application (4.4ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 173ms (Views: 147.0ms | ActiveRecord: 1.3ms)


Started POST "/flats" for 127.0.0.1 at 2018-07-30 17:02:16 +0300
Processing by FlatsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"NnEW+eA5V5v5eigTUSCVKhwM1GBNRR/jI6JkQgxCKME7Ofz6gHo76subZJGrXpLiuw4W0QlioGhXByfWr8lGrg==", "flat"=>{"name"=>"rtyrt", "city"=>"Uzhgorod", "address"=>"Str fgfgfg", "description"=>"fgdfg", "capacity"=>"3", "price"=>"123"}, "commit"=>"Save"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:18
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/flats_controller.rb:20
  [1m[36mFlat Create (3.8ms)[0m  [1m[32mINSERT INTO "flats" ("name", "address", "description", "capacity", "price", "created_at", "updated_at", "user_id", "city") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "rtyrt"], ["address", "Str fgfgfg"], ["description", "fgdfg"], ["capacity", 3], ["price", 123], ["created_at", "2018-07-30 14:02:16.334344"], ["updated_at", "2018-07-30 14:02:16.334344"], ["user_id", 3], ["city", "Uzhgorod"]]
  ↳ app/controllers/flats_controller.rb:20
  [1m[35m (14.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/flats_controller.rb:20
Redirected to http://localhost:3000/flats/16
Completed 302 Found in 47ms (ActiveRecord: 18.6ms)


Started GET "/flats/16" for 127.0.0.1 at 2018-07-30 17:02:16 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"16"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = ? LIMIT ?[0m  [["id", 16], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:43
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/show.html.erb within layouts/application (20.3ms)
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 203ms (Views: 196.6ms | ActiveRecord: 3.0ms)


Started GET "/" for 127.0.0.1 at 2018-07-30 17:04:42 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY "flats"."created_at" ASC LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:3
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  Rendered collection of flats/_flat.html.erb [5 times] (41.1ms)
  [1m[35m (1.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:5
  Rendered flats/index.html.erb within layouts/application (91.3ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 209ms (Views: 201.6ms | ActiveRecord: 3.1ms)


Started GET "/?page=3" for 127.0.0.1 at 2018-07-30 17:05:00 +0300
Processing by FlatsController#index as HTML
  Parameters: {"page"=>"3"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY "flats"."created_at" ASC LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 10]]
  ↳ app/views/flats/index.html.erb:3
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  Rendered collection of flats/_flat.html.erb [3 times] (17.3ms)
  Rendered flats/index.html.erb within layouts/application (42.5ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 151ms (Views: 148.6ms | ActiveRecord: 0.9ms)


Started GET "/" for 127.0.0.1 at 2018-07-30 17:05:06 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY "flats"."created_at" ASC LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:3
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  Rendered collection of flats/_flat.html.erb [5 times] (51.3ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:5
  Rendered flats/index.html.erb within layouts/application (92.8ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 222ms (Views: 214.0ms | ActiveRecord: 2.7ms)


Started GET "/" for 127.0.0.1 at 2018-07-30 17:05:35 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY "flats"."created_at" ASC LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:3
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  Rendered collection of flats/_flat.html.erb [5 times] (60.0ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:5
  Rendered flats/index.html.erb within layouts/application (105.1ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 250ms (Views: 240.9ms | ActiveRecord: 2.9ms)


Started GET "/" for 127.0.0.1 at 2018-07-30 17:05:37 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY "flats"."created_at" ASC LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:3
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  Rendered collection of flats/_flat.html.erb [5 times] (57.1ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:5
  Rendered flats/index.html.erb within layouts/application (94.3ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 199ms (Views: 195.3ms | ActiveRecord: 1.5ms)


Started GET "/" for 127.0.0.1 at 2018-07-30 17:05:38 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY "flats"."created_at" ASC LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:3
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  Rendered collection of flats/_flat.html.erb [5 times] (55.0ms)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:5
  Rendered flats/index.html.erb within layouts/application (104.5ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 235ms (Views: 226.6ms | ActiveRecord: 2.7ms)


Started GET "/flats/new" for 127.0.0.1 at 2018-07-30 17:11:42 +0300
Processing by FlatsController#new as HTML
  Rendering flats/new.html.erb within layouts/application
  Rendered flats/_form.html.erb (3.6ms)
  Rendered flats/new.html.erb within layouts/application (4.5ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 93ms (Views: 69.5ms | ActiveRecord: 1.5ms)


Started POST "/flats" for 127.0.0.1 at 2018-07-30 17:12:47 +0300
Processing by FlatsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Le4ylAFvwymKk4nLIhs5YjNQ492EqWnqGwdz5iGlRdogptiXYSyvWLhyxUnYZT6qlFIhbMCO1mFvojBygi4rtQ==", "flat"=>{"name"=>"", "city"=>"Uzhgorod", "address"=>"Str Big", "description"=>"fsdgdhfghfg", "capacity"=>"3", "price"=>"68"}, "commit"=>"Save"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:18
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/flats_controller.rb:20
  [1m[36mFlat Create (1.6ms)[0m  [1m[32mINSERT INTO "flats" ("name", "address", "description", "capacity", "price", "created_at", "updated_at", "user_id", "city") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", ""], ["address", "Str Big"], ["description", "fsdgdhfghfg"], ["capacity", 3], ["price", 68], ["created_at", "2018-07-30 14:12:47.607651"], ["updated_at", "2018-07-30 14:12:47.607651"], ["user_id", 3], ["city", "Uzhgorod"]]
  ↳ app/controllers/flats_controller.rb:20
  [1m[35m (9.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/flats_controller.rb:20
Redirected to http://localhost:3000/flats/17
Completed 302 Found in 32ms (ActiveRecord: 11.8ms)


Started GET "/flats/17" for 127.0.0.1 at 2018-07-30 17:12:47 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"17"}
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = ? LIMIT ?[0m  [["id", 17], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:43
  Rendering flats/show.html.erb within layouts/application
  Rendered flats/show.html.erb within layouts/application (0.9ms)
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.4ms)


  
SyntaxError (/home/york/Документы/Projects/FlatBooking/app/views/flats/show.html.erb:4: syntax error, unexpected tIVAR, expecting ')'
... ? @flat.name : "Flat on" @flat.address );@output_buffer.saf...
...                          ^~~~~):
  
app/views/flats/show.html.erb:4: syntax error, unexpected tIVAR, expecting ')'
Started GET "/flats/17" for 127.0.0.1 at 2018-07-30 17:13:41 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"17"}
  [1m[36mFlat Load (1.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = ? LIMIT ?[0m  [["id", 17], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:43
  Rendering flats/show.html.erb within layouts/application
  Rendered flats/show.html.erb within layouts/application (9.7ms)
Completed 500 Internal Server Error in 25ms (ActiveRecord: 1.3ms)


  
SyntaxError (/home/york/Документы/Projects/FlatBooking/app/views/flats/show.html.erb:4: syntax error, unexpected tIVAR, expecting ')'
...? @flat.name : ("Flat on" @flat.address) );@output_buffer.sa...
...                          ^~~~~):
  
app/views/flats/show.html.erb:4: syntax error, unexpected tIVAR, expecting ')'
Started GET "/flats/17" for 127.0.0.1 at 2018-07-30 17:19:09 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"17"}
  [1m[36mFlat Load (0.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = ? LIMIT ?[0m  [["id", 17], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:43
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/show.html.erb within layouts/application (943.5ms)
Completed 500 Internal Server Error in 948ms (ActiveRecord: 0.6ms)


  
ActionView::Template::Error (undefined local variable or method `flat' for #<#<Class:0x00007efcce510140>:0x00007efccd97fcb8>
Did you mean?  @flat
               Float):
    11:         <%= link_to "Delete", flat_path(@flat), method: :delete,
    12:         data: { confirm: 'Are you sure?' } %>
    13:     </small><br/>
    14:     <%= image_tag("address_icon", size: "12")%> <%= flat.city ? flat.city : '' %>, <%= @flat.address %>
    15:   </section>
    16: 
    17:   <section class="flat-content">
  
app/views/flats/show.html.erb:14:in `_app_views_flats_show_html_erb___2555475104217595411_69812123132740'
Started GET "/flats/17" for 127.0.0.1 at 2018-07-30 17:19:42 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"17"}
  [1m[36mFlat Load (1.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = ? LIMIT ?[0m  [["id", 17], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:43
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/show.html.erb within layouts/application (812.1ms)
Completed 500 Internal Server Error in 830ms (ActiveRecord: 2.8ms)


  
ActionView::Template::Error (undefined local variable or method `flat' for #<#<Class:0x00007efcce510140>:0x00007efccd6cca48>
Did you mean?  @flat
               Float):
    11:         <%= link_to "Delete", flat_path(@flat), method: :delete,
    12:         data: { confirm: 'Are you sure?' } %>
    13:     </small><br/>
    14:     <%= image_tag("address_icon", size: "12")%> <%= flat.city ? flat.city : '' %>, <%= flat.address %>
    15:   </section>
    16: 
    17:   <section class="flat-content">
  
app/views/flats/show.html.erb:14:in `_app_views_flats_show_html_erb___2555475104217595411_69812121660160'
Started GET "/flats/17" for 127.0.0.1 at 2018-07-30 17:20:11 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"17"}
  [1m[36mFlat Load (0.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = ? LIMIT ?[0m  [["id", 17], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:43
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/show.html.erb within layouts/application (17.1ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 260ms (Views: 256.0ms | ActiveRecord: 1.1ms)


Started GET "/" for 127.0.0.1 at 2018-07-30 17:20:18 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY "flats"."created_at" ASC LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:3
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  Rendered collection of flats/_flat.html.erb [5 times] (31.1ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:5
  Rendered flats/index.html.erb within layouts/application (53.6ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 170ms (Views: 162.1ms | ActiveRecord: 2.1ms)


Started GET "/?page=3" for 127.0.0.1 at 2018-07-30 17:20:20 +0300
Processing by FlatsController#index as HTML
  Parameters: {"page"=>"3"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY "flats"."created_at" ASC LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 10]]
  ↳ app/views/flats/index.html.erb:3
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  Rendered collection of flats/_flat.html.erb [4 times] (44.0ms)
  Rendered flats/index.html.erb within layouts/application (71.0ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 161ms (Views: 148.8ms | ActiveRecord: 2.0ms)


Started GET "/?page=3" for 127.0.0.1 at 2018-07-30 17:20:56 +0300
Processing by FlatsController#index as HTML
  Parameters: {"page"=>"3"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY "flats"."created_at" ASC LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 10]]
  ↳ app/views/flats/index.html.erb:3
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  Rendered collection of flats/_flat.html.erb [4 times] (26.7ms)
  Rendered flats/index.html.erb within layouts/application (61.7ms)
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 268ms (Views: 264.0ms | ActiveRecord: 1.6ms)


Started GET "/?page=3" for 127.0.0.1 at 2018-07-30 17:20:59 +0300
Processing by FlatsController#index as HTML
  Parameters: {"page"=>"3"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY "flats"."created_at" ASC LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 10]]
  ↳ app/views/flats/index.html.erb:3
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:6
  Rendered collection of flats/_flat.html.erb [4 times] (45.3ms)
  Rendered flats/index.html.erb within layouts/application (67.3ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 233ms (Views: 226.6ms | ActiveRecord: 1.9ms)


Started GET "/?page=3" for 127.0.0.1 at 2018-07-30 17:23:08 +0300
Processing by FlatsController#index as HTML
  Parameters: {"page"=>"3"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY "flats"."created_at" ASC LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 10]]
  ↳ app/views/flats/index.html.erb:3
  [1m[36mUser Load (16.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [4 times] (60.2ms)
  Rendered flats/index.html.erb within layouts/application (102.8ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 332ms (Views: 308.9ms | ActiveRecord: 19.0ms)


Started GET "/" for 127.0.0.1 at 2018-07-30 17:23:17 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY "flats"."created_at" ASC LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:3
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (44.6ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:5
  Rendered flats/index.html.erb within layouts/application (77.2ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 154ms (Views: 149.7ms | ActiveRecord: 1.7ms)


Started GET "/?page=3" for 127.0.0.1 at 2018-07-30 17:23:22 +0300
Processing by FlatsController#index as HTML
  Parameters: {"page"=>"3"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY "flats"."created_at" ASC LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 10]]
  ↳ app/views/flats/index.html.erb:3
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [4 times] (35.9ms)
  Rendered flats/index.html.erb within layouts/application (57.2ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 158ms (Views: 152.5ms | ActiveRecord: 1.8ms)


Started GET "/?page=3" for 127.0.0.1 at 2018-07-30 17:25:53 +0300
Processing by FlatsController#index as HTML
  Parameters: {"page"=>"3"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY "flats"."created_at" ASC LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 10]]
  ↳ app/views/flats/index.html.erb:3
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [4 times] (40.4ms)
  Rendered flats/index.html.erb within layouts/application (78.7ms)
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 320ms (Views: 314.9ms | ActiveRecord: 2.5ms)


Started GET "/" for 127.0.0.1 at 2018-07-30 17:26:58 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY "flats"."created_at" ASC LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:3
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (47.3ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:5
  Rendered flats/index.html.erb within layouts/application (87.4ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 183ms (Views: 178.6ms | ActiveRecord: 2.2ms)


Started GET "/?page=3" for 127.0.0.1 at 2018-07-30 17:27:00 +0300
Processing by FlatsController#index as HTML
  Parameters: {"page"=>"3"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY "flats"."created_at" ASC LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 10]]
  ↳ app/views/flats/index.html.erb:3
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [4 times] (37.1ms)
  Rendered flats/index.html.erb within layouts/application (65.5ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:55
Completed 200 OK in 155ms (Views: 144.5ms | ActiveRecord: 1.9ms)


Started GET "/?page=3" for 127.0.0.1 at 2018-07-30 17:38:23 +0300
Processing by FlatsController#index as HTML
  Parameters: {"page"=>"3"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY "flats"."created_at" ASC LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 10]]
  ↳ app/views/flats/index.html.erb:3
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [4 times] (45.4ms)
  Rendered flats/index.html.erb within layouts/application (81.4ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:56
Completed 200 OK in 626ms (Views: 616.9ms | ActiveRecord: 3.7ms)


Started GET "/?page=3" for 127.0.0.1 at 2018-07-30 17:43:26 +0300
Processing by FlatsController#index as HTML
  Parameters: {"page"=>"3"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.9ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY "flats"."created_at" ASC LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 10]]
  ↳ app/views/flats/index.html.erb:3
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [4 times] (41.2ms)
  Rendered flats/index.html.erb within layouts/application (77.0ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:56
Completed 200 OK in 311ms (Views: 303.7ms | ActiveRecord: 2.2ms)


Started GET "/" for 127.0.0.1 at 2018-07-30 17:43:32 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY "flats"."created_at" ASC LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:3
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (38.2ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:5
  Rendered flats/index.html.erb within layouts/application (75.5ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:56
Completed 200 OK in 168ms (Views: 161.2ms | ActiveRecord: 1.8ms)


Started GET "/" for 127.0.0.1 at 2018-07-30 17:44:30 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY "flats"."created_at" ASC LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:3
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (40.7ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:5
  Rendered flats/index.html.erb within layouts/application (75.2ms)
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:56
Completed 200 OK in 252ms (Views: 245.3ms | ActiveRecord: 2.2ms)


Started GET "/" for 127.0.0.1 at 2018-07-30 17:44:33 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY "flats"."created_at" ASC LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:3
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (67.6ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:5
  Rendered flats/index.html.erb within layouts/application (109.8ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:56
Completed 200 OK in 301ms (Views: 292.7ms | ActiveRecord: 3.0ms)


Started GET "/flats/5" for 127.0.0.1 at 2018-07-30 17:44:40 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:43
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/show.html.erb within layouts/application (16.5ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:56
Completed 200 OK in 134ms (Views: 130.9ms | ActiveRecord: 0.7ms)


Started GET "/" for 127.0.0.1 at 2018-07-30 17:44:44 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY "flats"."created_at" ASC LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:3
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (52.1ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:5
  Rendered flats/index.html.erb within layouts/application (88.1ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:56
Completed 200 OK in 217ms (Views: 209.1ms | ActiveRecord: 2.7ms)


Started GET "/flats/5" for 127.0.0.1 at 2018-07-30 17:44:53 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mFlat Load (0.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:43
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/show.html.erb within layouts/application (9.9ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:56
Completed 200 OK in 132ms (Views: 129.2ms | ActiveRecord: 0.6ms)


Started POST "/flats/5" for 127.0.0.1 at 2018-07-30 17:45:01 +0300
  
ActionController::RoutingError (No route matches [POST] "/flats/5"):
  
actionpack (5.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.6.2) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.6.2) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `catch'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.0) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/flats/5" for 127.0.0.1 at 2018-07-30 17:45:28 +0300
  
ActionController::RoutingError (No route matches [POST] "/flats/5"):
  
actionpack (5.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.6.2) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.6.2) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `catch'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.0) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2018-07-30 17:45:43 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.9ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY "flats"."created_at" ASC LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:3
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (49.1ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:5
  Rendered flats/index.html.erb within layouts/application (83.2ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:56
Completed 200 OK in 153ms (Views: 146.9ms | ActiveRecord: 2.1ms)


Started GET "/flats/4" for 127.0.0.1 at 2018-07-30 17:45:44 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:43
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/show.html.erb within layouts/application (39.7ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:56
Completed 200 OK in 152ms (Views: 142.9ms | ActiveRecord: 1.4ms)


Started POST "/flats/4" for 127.0.0.1 at 2018-07-30 17:45:47 +0300
  
ActionController::RoutingError (No route matches [POST] "/flats/4"):
  
actionpack (5.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.6.2) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.6.2) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `catch'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.0) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2018-07-30 17:45:51 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY "flats"."created_at" ASC LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:3
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (64.2ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:5
  Rendered flats/index.html.erb within layouts/application (92.6ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:56
Completed 200 OK in 209ms (Views: 204.0ms | ActiveRecord: 2.1ms)


Started GET "/flats/4" for 127.0.0.1 at 2018-07-30 17:47:52 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mFlat Load (3.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:43
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/show.html.erb within layouts/application (31.5ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:56
Completed 200 OK in 230ms (Views: 208.0ms | ActiveRecord: 3.7ms)


Started GET "/" for 127.0.0.1 at 2018-07-30 17:47:59 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY "flats"."created_at" ASC LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:3
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (55.9ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:5
  Rendered flats/index.html.erb within layouts/application (85.4ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:56
Completed 200 OK in 248ms (Views: 240.0ms | ActiveRecord: 2.6ms)


Started GET "/" for 127.0.0.1 at 2018-07-30 17:48:59 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY "flats"."created_at" ASC LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:3
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (60.0ms)
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:5
  Rendered flats/index.html.erb within layouts/application (98.0ms)
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:56
Completed 200 OK in 350ms (Views: 344.0ms | ActiveRecord: 3.3ms)


Started GET "/" for 127.0.0.1 at 2018-07-30 17:49:15 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY "flats"."created_at" ASC LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:3
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (31.5ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:5
  Rendered flats/index.html.erb within layouts/application (70.6ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:56
Completed 200 OK in 330ms (Views: 326.9ms | ActiveRecord: 1.5ms)


Started GET "/flats/4" for 127.0.0.1 at 2018-07-30 17:49:24 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mFlat Load (0.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:43
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/show.html.erb within layouts/application (8.6ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:56
Completed 200 OK in 100ms (Views: 97.5ms | ActiveRecord: 0.4ms)


Started GET "/" for 127.0.0.1 at 2018-07-30 17:49:27 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY "flats"."created_at" ASC LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:3
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (38.6ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:5
  Rendered flats/index.html.erb within layouts/application (63.0ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:56
Completed 200 OK in 185ms (Views: 181.0ms | ActiveRecord: 1.6ms)


Started GET "/" for 127.0.0.1 at 2018-07-30 17:49:39 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY "flats"."created_at" ASC LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:3
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (55.9ms)
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:5
  Rendered flats/index.html.erb within layouts/application (93.8ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:56
Completed 200 OK in 284ms (Views: 276.8ms | ActiveRecord: 2.0ms)


Started GET "/" for 127.0.0.1 at 2018-07-30 18:09:28 +0300
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY "flats"."created_at" ASC LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (357.1ms)
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:6
  Rendered flats/index.html.erb within layouts/application (514.8ms)
Completed 500 Internal Server Error in 556ms (ActiveRecord: 9.8ms)


  
ActionView::Template::Error (No Ransack::Search object was provided to search_form_for!):
     9: <div class="col-md-3">
    10:   <div class="search">
    11:     <h2><%= t('activerecord.attributes.post.search_in_posts')%></h2>
    12:     <%= search_form_for @search, class: 'form-group my-2 my-lg-0' do |f| %>
    13:       <div class="form-group">
    14:         <%= f.label :title_or_content_cont, "Key word in title or content" %>
    15:         <%= f.search_field :title_or_content_cont, class: "form-control mr-sm-2" %>
  
app/views/flats/index.html.erb:12:in `_app_views_flats_index_html_erb__643541174320237379_47287218270140'
Started GET "/" for 127.0.0.1 at 2018-07-30 18:10:07 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.4ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (124.2ms)
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(DISTINCT "flats"."id") FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:6
  Rendered flats/index.html.erb within layouts/application (254.1ms)
Completed 500 Internal Server Error in 285ms (ActiveRecord: 6.6ms)


  
ActionView::Template::Error (undefined method `title_or_content_cont' for Ransack::Search<class: Flat, base: Grouping <combinator: and>>:Ransack::Search):
    12:     <%= search_form_for @search, class: 'form-group my-2 my-lg-0' do |f| %>
    13:       <div class="form-group">
    14:         <%= f.label :title_or_content_cont, "Key word in title or content" %>
    15:         <%= f.search_field :title_or_content_cont, class: "form-control mr-sm-2" %>
    16:       </div>
    17: 
    18:       <div class="form-group">
  
app/views/flats/index.html.erb:15:in `block in _app_views_flats_index_html_erb__643541174320237379_69923444572460'
app/views/flats/index.html.erb:12:in `_app_views_flats_index_html_erb__643541174320237379_69923444572460'
Started GET "/" for 127.0.0.1 at 2018-07-30 18:12:22 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (30.1ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(DISTINCT "flats"."id") FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:6
  Rendered flats/index.html.erb within layouts/application (63.8ms)
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:56
Completed 200 OK in 319ms (Views: 315.0ms | ActiveRecord: 1.9ms)


Started GET "/flats?utf8=%E2%9C%93&q%5Bcity_cont%5D=Uzhgorod&commit=Search" for 127.0.0.1 at 2018-07-30 18:12:37 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "q"=>{"city_cont"=>"Uzhgorod"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.1ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (47.8ms)
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(DISTINCT "flats"."id") FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:6
  Rendered flats/index.html.erb within layouts/application (86.6ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:56
Completed 200 OK in 253ms (Views: 246.9ms | ActiveRecord: 4.1ms)


Started GET "/flats?utf8=%E2%9C%93&q%5Bcity_cont%5D=Uzhgorod&commit=Search" for 127.0.0.1 at 2018-07-30 18:12:49 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "q"=>{"city_cont"=>"Uzhgorod"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (40.4ms)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(DISTINCT "flats"."id") FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:6
  Rendered flats/index.html.erb within layouts/application (84.8ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:56
Completed 200 OK in 246ms (Views: 240.0ms | ActiveRecord: 1.8ms)


Started GET "/flats?utf8=%E2%9C%93&q%5Bcity_cont%5D=Uzhgorod&commit=Search" for 127.0.0.1 at 2018-07-30 18:13:03 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "q"=>{"city_cont"=>"Uzhgorod"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (52.1ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(DISTINCT "flats"."id") FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:6
  Rendered flats/index.html.erb within layouts/application (92.4ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:56
Completed 200 OK in 257ms (Views: 249.6ms | ActiveRecord: 2.5ms)


Started GET "/flats?utf8=%E2%9C%93&q%5Bcity_cont%5D=Uzhgorod&commit=Search" for 127.0.0.1 at 2018-07-30 18:16:37 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "q"=>{"city_cont"=>"Uzhgorod"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (40.8ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(DISTINCT "flats"."id") FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:6
  Rendered flats/index.html.erb within layouts/application (82.6ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:56
Completed 200 OK in 255ms (Views: 252.1ms | ActiveRecord: 1.7ms)


Started GET "/flats?utf8=%E2%9C%93&q%5Bcity_cont%5D=1&commit=Search" for 127.0.0.1 at 2018-07-30 18:16:40 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "q"=>{"city_cont"=>"1"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.7ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (43.2ms)
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(DISTINCT "flats"."id") FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:6
  Rendered flats/index.html.erb within layouts/application (80.5ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:56
Completed 200 OK in 226ms (Views: 220.6ms | ActiveRecord: 3.5ms)


Started GET "/flats?utf8=%E2%9C%93&q%5Bcity_cont%5D=1&commit=Search" for 127.0.0.1 at 2018-07-30 18:17:37 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "q"=>{"city_cont"=>"1"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" WHERE "flats"."city" LIKE '%1%' LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  Rendered collection of templates [0 times] (0.0ms)
  Rendered flats/index.html.erb within layouts/application (4.9ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:56
Completed 200 OK in 253ms (Views: 226.7ms | ActiveRecord: 5.5ms)


Started GET "/flats?utf8=%E2%9C%93&q%5Bcity_cont%5D=Uzhgorod&commit=Search" for 127.0.0.1 at 2018-07-30 18:17:46 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "q"=>{"city_cont"=>"Uzhgorod"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" WHERE "flats"."city" LIKE '%Uzhgorod%' LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [2 times] (14.3ms)
  Rendered flats/index.html.erb within layouts/application (53.9ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:56
Completed 200 OK in 227ms (Views: 223.0ms | ActiveRecord: 1.7ms)


Started GET "/flats?utf8=%E2%9C%93&q%5Bcity_cont%5D=Uzhgorod&commit=Search" for 127.0.0.1 at 2018-07-30 18:19:52 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "q"=>{"city_cont"=>"Uzhgorod"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.9ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" WHERE "flats"."city" LIKE '%Uzhgorod%' LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [2 times] (22.5ms)
  Rendered flats/index.html.erb within layouts/application (46.0ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:56
Completed 200 OK in 247ms (Views: 241.1ms | ActiveRecord: 3.3ms)


Started GET "/flats?utf8=%E2%9C%93&q%5Bcity_cont%5D=Uzhgorod&commit=Search" for 127.0.0.1 at 2018-07-30 18:20:14 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "q"=>{"city_cont"=>"Uzhgorod"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.6ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" WHERE "flats"."city" LIKE '%Uzhgorod%' LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [2 times] (18.9ms)
  Rendered flats/index.html.erb within layouts/application (45.1ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:56
Completed 200 OK in 254ms (Views: 247.4ms | ActiveRecord: 2.1ms)


Started GET "/flats?utf8=%E2%9C%93&q%5Bcity_cont%5D=&q%5Bcapacity_eq%5D=&commit=Search" for 127.0.0.1 at 2018-07-30 18:20:26 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "q"=>{"city_cont"=>"", "capacity_eq"=>""}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (47.6ms)
  [1m[35m (1.8ms)[0m  [1m[34mSELECT COUNT(DISTINCT "flats"."id") FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:6
  Rendered flats/index.html.erb within layouts/application (94.2ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:56
Completed 200 OK in 231ms (Views: 225.1ms | ActiveRecord: 2.9ms)


Started GET "/flats?utf8=%E2%9C%93&q%5Bcity_cont%5D=&q%5Bcapacity_eq%5D=5&commit=Search" for 127.0.0.1 at 2018-07-30 18:20:31 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "q"=>{"city_cont"=>"", "capacity_eq"=>"5"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.4ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" WHERE "flats"."capacity" = 5 LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [1 times] (10.6ms)
  Rendered flats/index.html.erb within layouts/application (28.9ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:56
Completed 200 OK in 209ms (Views: 205.3ms | ActiveRecord: 1.9ms)


Started GET "/flats?utf8=%E2%9C%93&q%5Bcity_cont%5D=&q%5Bcapacity_eq%5D=&commit=Search" for 127.0.0.1 at 2018-07-30 18:20:36 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "q"=>{"city_cont"=>"", "capacity_eq"=>""}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.9ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (62.5ms)
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(DISTINCT "flats"."id") FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:6
  Rendered flats/index.html.erb within layouts/application (107.3ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:56
Completed 200 OK in 285ms (Views: 273.9ms | ActiveRecord: 3.4ms)


Started GET "/flats?utf8=%E2%9C%93&q%5Bcity_cont%5D=&q%5Bcapacity_eq%5D=232&commit=Search" for 127.0.0.1 at 2018-07-30 18:20:43 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "q"=>{"city_cont"=>"", "capacity_eq"=>"232"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" WHERE "flats"."capacity" = 232 LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [1 times] (11.8ms)
  Rendered flats/index.html.erb within layouts/application (21.8ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:56
Completed 200 OK in 180ms (Views: 174.9ms | ActiveRecord: 1.7ms)


Started GET "/" for 127.0.0.1 at 2018-07-30 18:20:51 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (50.0ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(DISTINCT "flats"."id") FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:6
  Rendered flats/index.html.erb within layouts/application (91.5ms)
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:56
Completed 200 OK in 257ms (Views: 249.3ms | ActiveRecord: 2.6ms)


Started GET "/" for 127.0.0.1 at 2018-07-30 18:24:46 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (33.5ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(DISTINCT "flats"."id") FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:6
  Rendered flats/index.html.erb within layouts/application (66.2ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:56
Completed 200 OK in 299ms (Views: 295.0ms | ActiveRecord: 1.3ms)


Started GET "/" for 127.0.0.1 at 2018-07-30 18:26:21 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (48.7ms)
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(DISTINCT "flats"."id") FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:6
  Rendered flats/index.html.erb within layouts/application (99.0ms)
Completed 500 Internal Server Error in 115ms (ActiveRecord: 3.2ms)


  
ActionView::Template::Error (undefined method `price__gteq' for Ransack::Search<class: Flat, base: Grouping <combinator: and>>:Ransack::Search):
    22: 
    23:       <div class="form-group">
    24:         <%= f.label :price_eq, "Capacity" %>
    25:         <%= f.search_field :price__gteq, class: "form-control mr-sm-2" %>
    26: 
    27:         <%= f.label :price_eq, "Capacity" %>
    28:         <%= f.search_field :price_lteq, class: "form-control mr-sm-2" %>
  
app/views/flats/index.html.erb:25:in `block in _app_views_flats_index_html_erb__643541174320237379_69923447894140'
app/views/flats/index.html.erb:12:in `_app_views_flats_index_html_erb__643541174320237379_69923447894140'
Started GET "/" for 127.0.0.1 at 2018-07-30 18:26:37 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (47.3ms)
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(DISTINCT "flats"."id") FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:6
  Rendered flats/index.html.erb within layouts/application (102.8ms)
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:56
Completed 200 OK in 379ms (Views: 371.7ms | ActiveRecord: 3.8ms)


Started GET "/" for 127.0.0.1 at 2018-07-30 18:27:06 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (58.1ms)
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(DISTINCT "flats"."id") FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:6
  Rendered flats/index.html.erb within layouts/application (100.9ms)
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:56
Completed 200 OK in 309ms (Views: 302.3ms | ActiveRecord: 4.0ms)


Started GET "/flats?utf8=%E2%9C%93&q%5Bcity_cont%5D=&q%5Bcapacity_eq%5D=&q%5Bprice_gteq%5D=50&q%5Bprice_lteq%5D=3000&commit=Search" for 127.0.0.1 at 2018-07-30 18:27:19 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "q"=>{"city_cont"=>"", "capacity_eq"=>"", "price_gteq"=>"50", "price_lteq"=>"3000"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" WHERE ("flats"."price" >= 50 AND "flats"."price" <= 3000) LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (44.0ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(DISTINCT "flats"."id") FROM "flats" WHERE ("flats"."price" >= 50 AND "flats"."price" <= 3000)[0m
  ↳ app/views/flats/index.html.erb:6
  Rendered flats/index.html.erb within layouts/application (94.5ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:56
Completed 200 OK in 294ms (Views: 289.0ms | ActiveRecord: 1.4ms)


Started GET "/flats?utf8=%E2%9C%93&q%5Bcity_cont%5D=&q%5Bcapacity_eq%5D=&q%5Bprice_gteq%5D=50&q%5Bprice_lteq%5D=200&commit=Search" for 127.0.0.1 at 2018-07-30 18:27:31 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "q"=>{"city_cont"=>"", "capacity_eq"=>"", "price_gteq"=>"50", "price_lteq"=>"200"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" WHERE ("flats"."price" >= 50 AND "flats"."price" <= 200) LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (23.0ms)
  Rendered flats/index.html.erb within layouts/application (35.0ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:56
Completed 200 OK in 201ms (Views: 193.5ms | ActiveRecord: 1.4ms)


Started GET "/flats?utf8=%E2%9C%93&q%5Bcity_cont%5D=&q%5Bcapacity_eq%5D=&q%5Bprice_gteq%5D=50&q%5Bprice_lteq%5D=200&commit=Search" for 127.0.0.1 at 2018-07-30 18:27:43 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "q"=>{"city_cont"=>"", "capacity_eq"=>"", "price_gteq"=>"50", "price_lteq"=>"200"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.7ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" WHERE ("flats"."price" >= 50 AND "flats"."price" <= 200) LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (22.8ms)
  Rendered flats/index.html.erb within layouts/application (52.0ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:56
Completed 200 OK in 294ms (Views: 287.0ms | ActiveRecord: 2.5ms)


Started GET "/flats?utf8=%E2%9C%93&q%5Bcity_cont%5D=&q%5Bcapacity_eq%5D=&q%5Bprice_gteq%5D=50&q%5Bprice_lteq%5D=200&commit=Search" for 127.0.0.1 at 2018-07-30 18:27:47 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "q"=>{"city_cont"=>"", "capacity_eq"=>"", "price_gteq"=>"50", "price_lteq"=>"200"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.0ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" WHERE ("flats"."price" >= 50 AND "flats"."price" <= 200) LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (74.3ms)
  Rendered flats/index.html.erb within layouts/application (105.5ms)
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:56
Completed 200 OK in 366ms (Views: 351.3ms | ActiveRecord: 4.5ms)


Started GET "/flats?utf8=%E2%9C%93&q%5Bcity_cont%5D=&q%5Bcapacity_eq%5D=&q%5Bprice_gteq%5D=50&q%5Bprice_lteq%5D=200&commit=Search" for 127.0.0.1 at 2018-07-30 18:27:59 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "q"=>{"city_cont"=>"", "capacity_eq"=>"", "price_gteq"=>"50", "price_lteq"=>"200"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" WHERE ("flats"."price" >= 50 AND "flats"."price" <= 200) LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (38.5ms)
  Rendered flats/index.html.erb within layouts/application (56.4ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:56
Completed 200 OK in 293ms (Views: 287.9ms | ActiveRecord: 2.0ms)


Started GET "/flats?utf8=%E2%9C%93&q%5Bcity_cont%5D=&q%5Bcapacity_eq%5D=&q%5Bprice_gteq%5D=50&q%5Bprice_lteq%5D=200&commit=Search" for 127.0.0.1 at 2018-07-30 18:34:13 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "q"=>{"city_cont"=>"", "capacity_eq"=>"", "price_gteq"=>"50", "price_lteq"=>"200"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.8ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" WHERE ("flats"."price" >= 50 AND "flats"."price" <= 200) LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (33.7ms)
  Rendered flats/index.html.erb within layouts/application (58.3ms)
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:56
Completed 200 OK in 2122ms (Views: 2102.8ms | ActiveRecord: 5.0ms)


Started GET "/flats?utf8=%E2%9C%93&q%5Bcity_cont%5D=&q%5Bcapacity_eq%5D=&q%5Bprice_gteq%5D=50&q%5Bprice_lteq%5D=200&commit=Search" for 127.0.0.1 at 2018-07-30 18:34:29 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "q"=>{"city_cont"=>"", "capacity_eq"=>"", "price_gteq"=>"50", "price_lteq"=>"200"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.4ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" WHERE ("flats"."price" >= 50 AND "flats"."price" <= 200) LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (41.1ms)
  Rendered flats/index.html.erb within layouts/application (60.9ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:56
Completed 200 OK in 2550ms (Views: 2541.4ms | ActiveRecord: 2.4ms)


Started GET "/flats?utf8=%E2%9C%93&q%5Bcity_cont%5D=&q%5Bcapacity_eq%5D=&q%5Bprice_gteq%5D=50&q%5Bprice_lteq%5D=200&commit=Search" for 127.0.0.1 at 2018-07-30 18:34:31 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "q"=>{"city_cont"=>"", "capacity_eq"=>"", "price_gteq"=>"50", "price_lteq"=>"200"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.0ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" WHERE ("flats"."price" >= 50 AND "flats"."price" <= 200) LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (46.6ms)
  Rendered flats/index.html.erb within layouts/application (74.7ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:56
Completed 200 OK in 289ms (Views: 280.1ms | ActiveRecord: 3.6ms)


Started GET "/flats?utf8=%E2%9C%93&q%5Bcity_cont%5D=&q%5Bcapacity_eq%5D=&q%5Bprice_gteq%5D=50&q%5Bprice_lteq%5D=200&commit=Search" for 127.0.0.1 at 2018-07-30 18:34:41 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "q"=>{"city_cont"=>"", "capacity_eq"=>"", "price_gteq"=>"50", "price_lteq"=>"200"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" WHERE ("flats"."price" >= 50 AND "flats"."price" <= 200) LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (33.2ms)
  Rendered flats/index.html.erb within layouts/application (47.1ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:56
Completed 200 OK in 2273ms (Views: 2267.9ms | ActiveRecord: 1.1ms)


Started GET "/" for 127.0.0.1 at 2018-07-30 18:34:49 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.9ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (40.6ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(DISTINCT "flats"."id") FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:6
  Rendered flats/index.html.erb within layouts/application (80.6ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:56
Completed 200 OK in 187ms (Views: 179.3ms | ActiveRecord: 3.9ms)


Started GET "/" for 127.0.0.1 at 2018-07-30 18:36:43 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.3ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (25.3ms)
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(DISTINCT "flats"."id") FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:6
  Rendered flats/index.html.erb within layouts/application (72.1ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:56
Completed 200 OK in 2508ms (Views: 2499.2ms | ActiveRecord: 2.9ms)


Started GET "/" for 127.0.0.1 at 2018-07-30 18:37:07 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.3ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (34.0ms)
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(DISTINCT "flats"."id") FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:6
  Rendered flats/index.html.erb within layouts/application (81.0ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:56
Completed 200 OK in 345ms (Views: 339.9ms | ActiveRecord: 3.3ms)


Started GET "/" for 127.0.0.1 at 2018-07-30 18:37:32 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (50.2ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(DISTINCT "flats"."id") FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:6
  Rendered flats/index.html.erb within layouts/application (104.8ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:56
Completed 200 OK in 2596ms (Views: 2590.4ms | ActiveRecord: 1.3ms)


Started GET "/" for 127.0.0.1 at 2018-07-30 18:38:48 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.1ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (53.9ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(DISTINCT "flats"."id") FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:6
  Rendered flats/index.html.erb within layouts/application (101.8ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:56
Completed 200 OK in 319ms (Views: 308.8ms | ActiveRecord: 2.2ms)


Started GET "/" for 127.0.0.1 at 2018-07-30 18:39:16 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.9ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (32.8ms)
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(DISTINCT "flats"."id") FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:6
  Rendered flats/index.html.erb within layouts/application (85.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:56
Completed 200 OK in 273ms (Views: 268.2ms | ActiveRecord: 3.7ms)


Started GET "/" for 127.0.0.1 at 2018-07-30 18:39:27 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (45.9ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(DISTINCT "flats"."id") FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:6
  Rendered flats/index.html.erb within layouts/application (97.6ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:56
Completed 200 OK in 291ms (Views: 286.7ms | ActiveRecord: 2.1ms)


Started GET "/" for 127.0.0.1 at 2018-07-30 18:41:54 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (53.5ms)
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(DISTINCT "flats"."id") FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:6
  Rendered flats/index.html.erb within layouts/application (107.6ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:56
Completed 200 OK in 357ms (Views: 345.7ms | ActiveRecord: 2.6ms)


Started GET "/" for 127.0.0.1 at 2018-07-30 18:41:57 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.2ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (62.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(DISTINCT "flats"."id") FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:6
  Rendered flats/index.html.erb within layouts/application (108.5ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:56
Completed 200 OK in 345ms (Views: 335.0ms | ActiveRecord: 3.1ms)


Started GET "/" for 127.0.0.1 at 2018-07-30 18:42:06 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.2ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (26.9ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(DISTINCT "flats"."id") FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:6
  Rendered flats/index.html.erb within layouts/application (61.8ms)
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:56
Completed 200 OK in 335ms (Views: 330.8ms | ActiveRecord: 2.7ms)


Started GET "/" for 127.0.0.1 at 2018-08-01 12:31:54 +0300
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (329.4ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(DISTINCT "flats"."id") FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:6
  Rendered flats/index.html.erb within layouts/application (361.3ms)
Completed 200 OK in 430ms (Views: 416.2ms | ActiveRecord: 1.9ms)


Started GET "/?page=2" for 127.0.0.1 at 2018-08-01 12:32:01 +0300
Processing by FlatsController#index as HTML
  Parameters: {"page"=>"2"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.9ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 5]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (45.1ms)
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(DISTINCT "flats"."id") FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:6
  Rendered flats/index.html.erb within layouts/application (83.7ms)
Completed 200 OK in 142ms (Views: 134.2ms | ActiveRecord: 2.4ms)


Started GET "/?page=3" for 127.0.0.1 at 2018-08-01 12:32:03 +0300
Processing by FlatsController#index as HTML
  Parameters: {"page"=>"3"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.0ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 10]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [4 times] (48.5ms)
  Rendered flats/index.html.erb within layouts/application (73.3ms)
Completed 200 OK in 138ms (Views: 131.3ms | ActiveRecord: 1.7ms)


Started GET "/" for 127.0.0.1 at 2018-08-01 12:32:05 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (38.9ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(DISTINCT "flats"."id") FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:6
  Rendered flats/index.html.erb within layouts/application (66.3ms)
Completed 200 OK in 170ms (Views: 160.7ms | ActiveRecord: 1.6ms)


Started GET "/" for 127.0.0.1 at 2018-08-01 12:33:51 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (25.2ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(DISTINCT "flats"."id") FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:6
  Rendered flats/index.html.erb within layouts/application (48.5ms)
Completed 200 OK in 192ms (Views: 188.2ms | ActiveRecord: 0.8ms)


Started GET "/" for 127.0.0.1 at 2018-08-01 12:34:02 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.5ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (21.7ms)
  [1m[35m (1.4ms)[0m  [1m[34mSELECT COUNT(DISTINCT "flats"."id") FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:6
  Rendered flats/index.html.erb within layouts/application (61.8ms)
Completed 200 OK in 212ms (Views: 206.0ms | ActiveRecord: 3.2ms)


Started GET "/" for 127.0.0.1 at 2018-08-01 12:35:12 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (47.8ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(DISTINCT "flats"."id") FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:6
  Rendered flats/index.html.erb within layouts/application (77.0ms)
Completed 200 OK in 229ms (Views: 225.9ms | ActiveRecord: 1.3ms)


  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
Migrating to CreateBookings (20180801095831)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
Started GET "/" for 127.0.0.1 at 2018-08-01 14:03:48 +0300
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate RAILS_ENV=development

):
  
activerecord (5.2.0) lib/active_record/migration.rb:579:in `check_pending!'
activerecord (5.2.0) lib/active_record/migration.rb:556:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
activesupport (5.2.0) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (5.2.0) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:61:in `call'
web-console (3.6.2) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.6.2) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `catch'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.0) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
  [1m[35m (0.4ms)[0m  [1m[35mCREATE DATABASE "db/development" ENCODING = 'utf8'[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (0.5ms)[0m  [1m[35mCREATE DATABASE "db/test" ENCODING = 'utf8'[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (483.1ms)[0m  [1m[35mCREATE DATABASE "db/production" ENCODING = 'utf8'[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
Started GET "/" for 127.0.0.1 at 2018-08-01 14:05:04 +0300
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate RAILS_ENV=development

):
  
activerecord (5.2.0) lib/active_record/migration.rb:579:in `check_pending!'
activerecord (5.2.0) lib/active_record/migration.rb:556:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
activesupport (5.2.0) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (5.2.0) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:61:in `call'
web-console (3.6.2) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.6.2) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `catch'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.0) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(8115692404137957555)[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
Migrating to CreateFlats (20180727140304)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (22.1ms)[0m  [1m[35mCREATE TABLE "flats" ("id" bigserial primary key, "name" character varying, "address" character varying, "image" character varying, "description" character varying, "capacity" integer, "price" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  ↳ db/migrate/20180727140304_create_flats.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20180727140304"]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (2.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
Migrating to DeleteImageFromFlat (20180728175145)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "flats" DROP COLUMN "image"[0m
  ↳ db/migrate/20180728175145_delete_image_from_flat.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20180728175145"]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
Migrating to AddAttachmentImageToFlats (20180728175530)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "flats" ADD "image_file_name" character varying[0m
  ↳ db/migrate/20180728175530_add_attachment_image_to_flats.rb:4
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "flats" ADD "image_content_type" character varying[0m
  ↳ db/migrate/20180728175530_add_attachment_image_to_flats.rb:4
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "flats" ADD "image_file_size" integer[0m
  ↳ db/migrate/20180728175530_add_attachment_image_to_flats.rb:4
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "flats" ADD "image_updated_at" timestamp[0m
  ↳ db/migrate/20180728175530_add_attachment_image_to_flats.rb:4
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20180728175530"]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
Migrating to DeviseCreateUsers (20180730095919)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" character varying, "last_sign_in_ip" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  ↳ db/migrate/20180730095919_devise_create_users.rb:5
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (0.7ms)[0m  [1m[34mSELECT pg_advisory_unlock(8115692404137957555)[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (5016.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "db/development"[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (120.5ms)[0m  [1m[35mDROP DATABASE IF EXISTS "db/development"[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (112.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "db/test"[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (254.6ms)[0m  [1m[35mCREATE DATABASE "db/development" ENCODING = 'utf8'[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (258.9ms)[0m  [1m[35mCREATE DATABASE "db/test" ENCODING = 'utf8'[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (15.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (13.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (0.6ms)[0m  [1m[34mSELECT pg_try_advisory_lock(8115692404137957555)[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
Migrating to CreateFlats (20180727140304)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (10.1ms)[0m  [1m[35mCREATE TABLE "flats" ("id" bigserial primary key, "name" character varying, "address" character varying, "image" character varying, "description" character varying, "capacity" integer, "price" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  ↳ db/migrate/20180727140304_create_flats.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (1.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20180727140304"]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
Migrating to DeleteImageFromFlat (20180728175145)
  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "flats" DROP COLUMN "image"[0m
  ↳ db/migrate/20180728175145_delete_image_from_flat.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20180728175145"]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
Migrating to AddAttachmentImageToFlats (20180728175530)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "flats" ADD "image_file_name" character varying[0m
  ↳ db/migrate/20180728175530_add_attachment_image_to_flats.rb:4
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "flats" ADD "image_content_type" character varying[0m
  ↳ db/migrate/20180728175530_add_attachment_image_to_flats.rb:4
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "flats" ADD "image_file_size" integer[0m
  ↳ db/migrate/20180728175530_add_attachment_image_to_flats.rb:4
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "flats" ADD "image_updated_at" timestamp[0m
  ↳ db/migrate/20180728175530_add_attachment_image_to_flats.rb:4
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20180728175530"]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
Migrating to DeviseCreateUsers (20180730095919)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (13.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" character varying, "last_sign_in_ip" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  ↳ db/migrate/20180730095919_devise_create_users.rb:5
  [1m[35m (5.4ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_email" ON "users"  ("email")[0m
  ↳ db/migrate/20180730095919_devise_create_users.rb:39
  [1m[35m (3.8ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users"  ("reset_password_token")[0m
  ↳ db/migrate/20180730095919_devise_create_users.rb:40
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20180730095919"]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
Migrating to AddColumnInUser (20180730100050)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "users" ADD "name" character varying[0m
  ↳ db/migrate/20180730100050_add_column_in_user.rb:3
  [1m[35m (2.9ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_name" ON "users"  ("name")[0m
  ↳ db/migrate/20180730100050_add_column_in_user.rb:4
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "vendor" boolean[0m
  ↳ db/migrate/20180730100050_add_column_in_user.rb:5
  [1m[35m (23.7ms)[0m  [1m[35mALTER TABLE "users" ADD "admin" boolean DEFAULT FALSE[0m
  ↳ db/migrate/20180730100050_add_column_in_user.rb:6
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20180730100050"]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (3.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
Migrating to AddUserIdToFlats (20180730105326)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "flats" ADD "user_id" integer[0m
  ↳ db/migrate/20180730105326_add_user_id_to_flats.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20180730105326"]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (2.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
Migrating to AddCityToFlat (20180730135611)
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "flats" ADD "city" character varying[0m
  ↳ db/migrate/20180730135611_add_city_to_flat.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20180730135611"]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
Migrating to CreateBookings (20180801095831)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (10.3ms)[0m  [1m[35mCREATE TABLE "bookings" ("id" bigserial primary key, "date" daterange, "user_id" integer, "flat_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  ↳ db/migrate/20180801095831_create_bookings.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20180801095831"]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2018-08-01 11:15:27.491661"], ["updated_at", "2018-08-01 11:15:27.491661"]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (2.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(8115692404137957555)[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
Started GET "/" for 127.0.0.1 at 2018-08-01 14:15:43 +0300
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.7ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  Rendered collection of templates [0 times] (0.0ms)
  Rendered flats/index.html.erb within layouts/application (19.2ms)
Completed 200 OK in 406ms (Views: 382.9ms | ActiveRecord: 4.2ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2018-08-01 14:16:01 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (2.0ms)
  Rendered devise/sessions/new.html.erb within layouts/application (18.3ms)
Completed 200 OK in 135ms (Views: 83.8ms | ActiveRecord: 9.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2018-08-01 14:16:07 +0300
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (4.0ms)
  Rendered devise/registrations/new.html.erb within layouts/application (20.6ms)
Completed 200 OK in 142ms (Views: 138.3ms | ActiveRecord: 0.0ms)


Started POST "/users" for 127.0.0.1 at 2018-08-01 14:16:27 +0300
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"vLu6gsBKf5XZ5WN/GLU9NtvR4q4qo+lJi14ASyHC0LcIWrqEE4W5tvE/OBIoA7TqLqrHuc84ScDO9S4WDi3r4g==", "user"=>{"name"=>"Tork", "email"=>"Tork@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "vendor"=>"1"}, "commit"=>"Sign up"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tork@gmail.com"], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "name", "vendor") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "tork@gmail.com"], ["encrypted_password", "$2a$11$RTCEKXHdqNrQsifmx5CkS.C1M8SLBxIjY/YrYOouPRJPogOqKIbh."], ["created_at", "2018-08-01 11:16:27.357055"], ["updated_at", "2018-08-01 11:16:27.357055"], ["name", "Tork"], ["vendor", true]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (2.0ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-08-01 11:16:27.361527"], ["last_sign_in_at", "2018-08-01 11:16:27.361527"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-08-01 11:16:27.365453"], ["id", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (2.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 208ms (ActiveRecord: 9.0ms)


Started GET "/" for 127.0.0.1 at 2018-08-01 14:16:27 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  Rendered collection of templates [0 times] (0.0ms)
  Rendered flats/index.html.erb within layouts/application (4.5ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:56
Completed 200 OK in 132ms (Views: 127.4ms | ActiveRecord: 1.0ms)


Started GET "/flats/new" for 127.0.0.1 at 2018-08-01 14:16:31 +0300
Processing by FlatsController#new as HTML
  Rendering flats/new.html.erb within layouts/application
  Rendered flats/_form.html.erb (21.0ms)
  Rendered flats/new.html.erb within layouts/application (24.2ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:56
Completed 200 OK in 173ms (Views: 110.0ms | ActiveRecord: 5.2ms)


Started POST "/flats" for 127.0.0.1 at 2018-08-01 14:21:40 +0300
Processing by FlatsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"QHWiSMzW6Tamh6rBTvjp1Nz+dBNMNRC5t8dUBu7pd/Mheyj6YY6ZsLsTbcRskYMu1mvX7rycJual8iYByHp0Ng==", "flat"=>{"name"=>"Letuchiy Gollandets", "city"=>"Uzhhorod", "address"=>"Peremohy(Kapushanska) Street 19", "description"=>"This hotel is set in the historic centre of Uzhgorod, a 15-minute walk from the Uzhgorod Castle. Free parking and a 24-hour reception is featured at Flying Dutchman Hotel.\r\nThe bright, air-conditioned rooms offer warm-coloured interiors and classic-style décor. Each room includes a flat-screen TV, a refrigerator and a private bathroom.\r\n\r\nA variety of cafés and restaurants can be found within a 5-minute walk from the hotel.\r\n\r\nA bus stop on Svobody Prospekt is 200 m from Flying Dutchman Hotel. Uzhgorod Train Station is 1.5 km away, and Uzhgorod International Airport is 2 km from the hotel. \r\n\r\nThis property also has one of the best-rated locations in Uzhhorod! Guests are happier about it compared to other properties in the area.\r\n\r\nCouples particularly like the location — they rated it 9.3 for a two-person trip.\r\n\r\nThis property is also rated for the best value in Uzhhorod! Guests are getting more for their money when compared to other properties in this city.\r\n\r\nWe speak your language!\r\n\r\nLetuchiy Gollandets has been welcoming FlatBooking guests since 17 Apr 2013.", "capacity"=>"2", "price"=>"59", "image"=>#<ActionDispatch::Http::UploadedFile:0x000055dee8c0d088 @tempfile=#<Tempfile:/tmp/RackMultipart20180801-5982-rsmhfq.html>, @original_filename="Letuchiy Gollandets, Uzhhorod – Updated 2018 Prices.html", @content_type="text/html", @headers="Content-Disposition: form-data; name=\"flat[image]\"; filename=\"Letuchiy Gollandets, Uzhhorod \xE2\x80\x93 Updated 2018 Prices.html\"\r\nContent-Type: text/html\r\n">}, "commit"=>"Save"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:19
[paperclip] Trying to link /tmp/RackMultipart20180801-5982-rsmhfq.html to /tmp/c1afc4f54b8001f8d165623b6e635fa720180801-5982-1uhh9hb.html
[paperclip] Trying to link /tmp/c1afc4f54b8001f8d165623b6e635fa720180801-5982-1uhh9hb.html to /tmp/304613e475a5a656b9267eea9022c38720180801-5982-1w8rvqz.html
Command :: file -b --mime '/tmp/304613e475a5a656b9267eea9022c38720180801-5982-1w8rvqz.html'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/flats_controller.rb:21
[paperclip] Trying to link /tmp/c1afc4f54b8001f8d165623b6e635fa720180801-5982-1uhh9hb.html to /tmp/304613e475a5a656b9267eea9022c38720180801-5982-15to5a6.html
Command :: file -b --mime '/tmp/304613e475a5a656b9267eea9022c38720180801-5982-15to5a6.html'
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/flats_controller.rb:21
  Rendering flats/new.html.erb within layouts/application
  Rendered flats/_form.html.erb (2.6ms)
  Rendered flats/new.html.erb within layouts/application (3.3ms)
Completed 200 OK in 208ms (Views: 105.6ms | ActiveRecord: 0.9ms)


Started POST "/flats" for 127.0.0.1 at 2018-08-01 14:22:24 +0300
Processing by FlatsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"8+W+LdHMrxC7xq7LPDzCsqfIIZR/tLsEw4WoLczoJ6OHstKLaO0VXvOhqik0oOZzD7jQUvM9Wjr3O5bEbLvAdg==", "flat"=>{"name"=>"Letuchiy Gollandets", "city"=>"Uzhhorod", "address"=>"Peremohy(Kapushanska) Street 19", "description"=>"This hotel is set in the historic centre of Uzhgorod, a 15-minute walk from the Uzhgorod Castle. Free parking and a 24-hour reception is featured at Flying Dutchman Hotel.\r\nThe bright, air-conditioned rooms offer warm-coloured interiors and classic-style décor. Each room includes a flat-screen TV, a refrigerator and a private bathroom.\r\n\r\nA variety of cafés and restaurants can be found within a 5-minute walk from the hotel.\r\n\r\nA bus stop on Svobody Prospekt is 200 m from Flying Dutchman Hotel. Uzhgorod Train Station is 1.5 km away, and Uzhgorod International Airport is 2 km from the hotel. \r\n\r\nThis property also has one of the best-rated locations in Uzhhorod! Guests are happier about it compared to other properties in the area.\r\n\r\nCouples particularly like the location — they rated it 9.3 for a two-person trip.\r\n\r\nThis property is also rated for the best value in Uzhhorod! Guests are getting more for their money when compared to other properties in this city.\r\n\r\nWe speak your language!\r\n\r\nLetuchiy Gollandets has been welcoming FlatBooking guests since 17 Apr 2013.", "capacity"=>"2", "price"=>"59", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007f7e25f8f188 @tempfile=#<Tempfile:/tmp/RackMultipart20180801-5982-146mxgy.jpg>, @original_filename="15184101.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"flat[image]\"; filename=\"15184101.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "commit"=>"Save"}
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:19
[paperclip] Trying to link /tmp/RackMultipart20180801-5982-146mxgy.jpg to /tmp/8937a81ff7145eac350de18adb78ca9020180801-5982-19axr78.jpg
[paperclip] Trying to link /tmp/8937a81ff7145eac350de18adb78ca9020180801-5982-19axr78.jpg to /tmp/8937a81ff7145eac350de18adb78ca9020180801-5982-xkzz52.jpg
Command :: file -b --mime '/tmp/8937a81ff7145eac350de18adb78ca9020180801-5982-xkzz52.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/8937a81ff7145eac350de18adb78ca9020180801-5982-19axr78.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/8937a81ff7145eac350de18adb78ca9020180801-5982-19axr78.jpg[0]'
Command :: convert '/tmp/8937a81ff7145eac350de18adb78ca9020180801-5982-19axr78.jpg[0]' -auto-orient -resize "800x800>" '/tmp/a23a08c91bf851797ae56ea1eac89bb020180801-5982-tsv1k1'
[paperclip] Trying to link /tmp/a23a08c91bf851797ae56ea1eac89bb020180801-5982-tsv1k1 to /tmp/018bbbe9b10049d0576e414ae19a7ce320180801-5982-1thvrqp
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/8937a81ff7145eac350de18adb78ca9020180801-5982-19axr78.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/8937a81ff7145eac350de18adb78ca9020180801-5982-19axr78.jpg[0]'
Command :: convert '/tmp/8937a81ff7145eac350de18adb78ca9020180801-5982-19axr78.jpg[0]' -auto-orient -resize "300x300>" '/tmp/a23a08c91bf851797ae56ea1eac89bb020180801-5982-1h3j5zd'
[paperclip] Trying to link /tmp/a23a08c91bf851797ae56ea1eac89bb020180801-5982-1h3j5zd to /tmp/1185224ade67892caaf24748eaf1394f20180801-5982-73ovjz
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/8937a81ff7145eac350de18adb78ca9020180801-5982-19axr78.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/8937a81ff7145eac350de18adb78ca9020180801-5982-19axr78.jpg[0]'
Command :: convert '/tmp/8937a81ff7145eac350de18adb78ca9020180801-5982-19axr78.jpg[0]' -auto-orient -resize "100x100>" '/tmp/a23a08c91bf851797ae56ea1eac89bb020180801-5982-1w8otsz'
[paperclip] Trying to link /tmp/a23a08c91bf851797ae56ea1eac89bb020180801-5982-1w8otsz to /tmp/dcfca2f9e9616be58ead762ca963dc9a20180801-5982-lerlxo
  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/flats_controller.rb:21
[paperclip] Trying to link /tmp/8937a81ff7145eac350de18adb78ca9020180801-5982-19axr78.jpg to /tmp/8937a81ff7145eac350de18adb78ca9020180801-5982-9i1w78.jpg
Command :: file -b --mime '/tmp/8937a81ff7145eac350de18adb78ca9020180801-5982-9i1w78.jpg'
  [1m[36mFlat Create (0.6ms)[0m  [1m[32mINSERT INTO "flats" ("name", "address", "description", "capacity", "price", "created_at", "updated_at", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "user_id", "city") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13) RETURNING "id"[0m  [["name", "Letuchiy Gollandets"], ["address", "Peremohy(Kapushanska) Street 19"], ["description", "This hotel is set in the historic centre of Uzhgorod, a 15-minute walk from the Uzhgorod Castle. Free parking and a 24-hour reception is featured at Flying Dutchman Hotel.\r\nThe bright, air-conditioned rooms offer warm-coloured interiors and classic-style décor. Each room includes a flat-screen TV, a refrigerator and a private bathroom.\r\n\r\nA variety of cafés and restaurants can be found within a 5-minute walk from the hotel.\r\n\r\nA bus stop on Svobody Prospekt is 200 m from Flying Dutchman Hotel. Uzhgorod Train Station is 1.5 km away, and Uzhgorod International Airport is 2 km from the hotel. \r\n\r\nThis property also has one of the best-rated locations in Uzhhorod! Guests are happier about it compared to other properties in the area.\r\n\r\nCouples particularly like the location — they rated it 9.3 for a two-person trip.\r\n\r\nThis property is also rated for the best value in Uzhhorod! Guests are getting more for their money when compared to other properties in this city.\r\n\r\nWe speak your language!\r\n\r\nLetuchiy Gollandets has been welcoming FlatBooking guests since 17 Apr 2013."], ["capacity", 2], ["price", 59], ["created_at", "2018-08-01 11:22:25.074760"], ["updated_at", "2018-08-01 11:22:25.074760"], ["image_file_name", "15184101.jpg"], ["image_content_type", "image/jpeg"], ["image_file_size", 112890], ["image_updated_at", "2018-08-01 11:22:24.670032"], ["user_id", 1], ["city", "Uzhhorod"]]
  ↳ app/controllers/flats_controller.rb:21
  [1m[35m (5.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/flats_controller.rb:21
Redirected to http://localhost:3000/flats/1
Completed 302 Found in 445ms (ActiveRecord: 9.0ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-01 14:22:25 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:44
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/show.html.erb within layouts/application (16.1ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:56
Completed 200 OK in 119ms (Views: 109.2ms | ActiveRecord: 1.9ms)


Started GET "/" for 127.0.0.1 at 2018-08-01 14:23:03 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [1 times] (6.8ms)
  Rendered flats/index.html.erb within layouts/application (21.6ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:56
Completed 200 OK in 142ms (Views: 138.7ms | ActiveRecord: 1.6ms)


Started GET "/flats/new" for 127.0.0.1 at 2018-08-01 14:23:23 +0300
Processing by FlatsController#new as HTML
  Rendering flats/new.html.erb within layouts/application
  Rendered flats/_form.html.erb (11.7ms)
  Rendered flats/new.html.erb within layouts/application (16.0ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:56
Completed 200 OK in 140ms (Views: 134.9ms | ActiveRecord: 0.5ms)


Started POST "/flats" for 127.0.0.1 at 2018-08-01 14:26:50 +0300
Processing by FlatsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"/mGCI/4M7F5b6vHWJwm+CePdDxak4mk8RS/Xl8faH4yfbwiRU1Sc2EZ+NtMFYNTz6Uis61RLX2NXGqWQ4UkcSQ==", "flat"=>{"name"=>"Modern Apartments ", "city"=>"Mukacheve", "address"=>"Sil'vaya Street 9", "description"=>"Modern Apartments is located in Mukacheve. Guests staying at this apartment have access to free WiFi.\r\nThe apartment includes 1 bedroom and a kitchen with a fridge and a kettle. A flat-screen TV with cable channels is featured.\r\n\r\nPolyana is 28 km from the apartment, while Uzhhorod is 37 km away. \r\n\r\nCouples particularly like the location — they rated it 9.1 for a two-person trip.\r\n\r\nThis property is also rated for the best value in Mukacheve! Guests are getting more for their money when compared to other properties in this city.\r\n\r\nModern Apartments has been welcoming FlatBooking guests since 30 Sept 2017.", "capacity"=>"2", "price"=>"24", "image"=>#<ActionDispatch::Http::UploadedFile:0x000055dee88eadb0 @tempfile=#<Tempfile:/tmp/RackMultipart20180801-5982-1a8syb3.jpg>, @original_filename="131703794.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"flat[image]\"; filename=\"131703794.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "commit"=>"Save"}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:19
[paperclip] Trying to link /tmp/RackMultipart20180801-5982-1a8syb3.jpg to /tmp/f96ece0116dcb6f7240b7bb904af0f1520180801-5982-1h03n3f.jpg
[paperclip] Trying to link /tmp/f96ece0116dcb6f7240b7bb904af0f1520180801-5982-1h03n3f.jpg to /tmp/f96ece0116dcb6f7240b7bb904af0f1520180801-5982-py2wys.jpg
Command :: file -b --mime '/tmp/f96ece0116dcb6f7240b7bb904af0f1520180801-5982-py2wys.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/f96ece0116dcb6f7240b7bb904af0f1520180801-5982-1h03n3f.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/f96ece0116dcb6f7240b7bb904af0f1520180801-5982-1h03n3f.jpg[0]'
Command :: convert '/tmp/f96ece0116dcb6f7240b7bb904af0f1520180801-5982-1h03n3f.jpg[0]' -auto-orient -resize "800x800>" '/tmp/6d63b4c40b5d0e270aa269b405bd0b5220180801-5982-1b1x9bb'
[paperclip] Trying to link /tmp/6d63b4c40b5d0e270aa269b405bd0b5220180801-5982-1b1x9bb to /tmp/4cb037376503e4c10d06657915a6940020180801-5982-9q87ca
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/f96ece0116dcb6f7240b7bb904af0f1520180801-5982-1h03n3f.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/f96ece0116dcb6f7240b7bb904af0f1520180801-5982-1h03n3f.jpg[0]'
Command :: convert '/tmp/f96ece0116dcb6f7240b7bb904af0f1520180801-5982-1h03n3f.jpg[0]' -auto-orient -resize "300x300>" '/tmp/6d63b4c40b5d0e270aa269b405bd0b5220180801-5982-5ue34x'
[paperclip] Trying to link /tmp/6d63b4c40b5d0e270aa269b405bd0b5220180801-5982-5ue34x to /tmp/ba14e0def469d22cb853ab0dc207611520180801-5982-10q75ks
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/f96ece0116dcb6f7240b7bb904af0f1520180801-5982-1h03n3f.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/f96ece0116dcb6f7240b7bb904af0f1520180801-5982-1h03n3f.jpg[0]'
Command :: convert '/tmp/f96ece0116dcb6f7240b7bb904af0f1520180801-5982-1h03n3f.jpg[0]' -auto-orient -resize "100x100>" '/tmp/6d63b4c40b5d0e270aa269b405bd0b5220180801-5982-11oql3n'
[paperclip] Trying to link /tmp/6d63b4c40b5d0e270aa269b405bd0b5220180801-5982-11oql3n to /tmp/b9eef59f5a8ca7520c5f393e7d3bbfb820180801-5982-ua2h34
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/flats_controller.rb:21
[paperclip] Trying to link /tmp/f96ece0116dcb6f7240b7bb904af0f1520180801-5982-1h03n3f.jpg to /tmp/f96ece0116dcb6f7240b7bb904af0f1520180801-5982-1lzf997.jpg
Command :: file -b --mime '/tmp/f96ece0116dcb6f7240b7bb904af0f1520180801-5982-1lzf997.jpg'
  [1m[36mFlat Create (0.3ms)[0m  [1m[32mINSERT INTO "flats" ("name", "address", "description", "capacity", "price", "created_at", "updated_at", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "user_id", "city") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13) RETURNING "id"[0m  [["name", "Modern Apartments "], ["address", "Sil'vaya Street 9"], ["description", "Modern Apartments is located in Mukacheve. Guests staying at this apartment have access to free WiFi.\r\nThe apartment includes 1 bedroom and a kitchen with a fridge and a kettle. A flat-screen TV with cable channels is featured.\r\n\r\nPolyana is 28 km from the apartment, while Uzhhorod is 37 km away. \r\n\r\nCouples particularly like the location — they rated it 9.1 for a two-person trip.\r\n\r\nThis property is also rated for the best value in Mukacheve! Guests are getting more for their money when compared to other properties in this city.\r\n\r\nModern Apartments has been welcoming FlatBooking guests since 30 Sept 2017."], ["capacity", 2], ["price", 24], ["created_at", "2018-08-01 11:26:50.452390"], ["updated_at", "2018-08-01 11:26:50.452390"], ["image_file_name", "131703794.jpg"], ["image_content_type", "image/jpeg"], ["image_file_size", 42004], ["image_updated_at", "2018-08-01 11:26:50.048195"], ["user_id", 1], ["city", "Mukacheve"]]
  ↳ app/controllers/flats_controller.rb:21
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/flats_controller.rb:21
Redirected to http://localhost:3000/flats/2
Completed 302 Found in 483ms (ActiveRecord: 3.9ms)


Started GET "/flats/2" for 127.0.0.1 at 2018-08-01 14:26:50 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:44
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/show.html.erb within layouts/application (20.4ms)
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:56
Completed 200 OK in 177ms (Views: 171.1ms | ActiveRecord: 3.2ms)


Started GET "/" for 127.0.0.1 at 2018-08-01 14:26:54 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.5ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [2 times] (35.0ms)
  Rendered flats/index.html.erb within layouts/application (51.2ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:56
Completed 200 OK in 182ms (Views: 175.1ms | ActiveRecord: 2.9ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-01 14:27:29 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (1.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:44
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/show.html.erb within layouts/application (29.3ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:56
Completed 200 OK in 142ms (Views: 131.2ms | ActiveRecord: 3.5ms)


Started GET "/" for 127.0.0.1 at 2018-08-01 14:30:01 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.5ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (3.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [2 times] (33.0ms)
  Rendered flats/index.html.erb within layouts/application (49.2ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:56
Completed 200 OK in 201ms (Views: 190.3ms | ActiveRecord: 5.8ms)


Started GET "/flats/2" for 127.0.0.1 at 2018-08-01 14:36:18 +0300
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate RAILS_ENV=development

):
  
activerecord (5.2.0) lib/active_record/migration.rb:579:in `check_pending!'
activerecord (5.2.0) lib/active_record/migration.rb:556:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
activesupport (5.2.0) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (5.2.0) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:61:in `call'
web-console (3.6.2) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.6.2) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `catch'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.0) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(8115692404137957555)[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
Migrating to AddNoticeToBooking (20180801113501)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "bookings" ADD "notice" text[0m
  ↳ db/migrate/20180801113501_add_notice_to_booking.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20180801113501"]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(8115692404137957555)[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
Started GET "/" for 127.0.0.1 at 2018-08-01 14:36:34 +0300
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (4.2ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [2 times] (91.6ms)
  Rendered flats/index.html.erb within layouts/application (197.4ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:56
Completed 200 OK in 352ms (Views: 290.9ms | ActiveRecord: 41.0ms)


Started GET "/flats/2" for 127.0.0.1 at 2018-08-01 14:36:36 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:44
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/show.html.erb within layouts/application (7.2ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:56
Completed 200 OK in 100ms (Views: 94.3ms | ActiveRecord: 1.5ms)


Started GET "/" for 127.0.0.1 at 2018-08-01 14:45:09 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.1ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [2 times] (51.7ms)
  Rendered flats/index.html.erb within layouts/application (79.0ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:56
Completed 200 OK in 167ms (Views: 145.7ms | ActiveRecord: 16.4ms)


Started GET "/flats/2" for 127.0.0.1 at 2018-08-01 14:45:11 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:45
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (222.4ms)
  Rendered flats/show.html.erb within layouts/application (241.9ms)
Completed 500 Internal Server Error in 271ms (ActiveRecord: 8.0ms)


  
ActionView::Template::Error (undefined method `bookings_path' for #<#<Class:0x00007f7e2054c4a0>:0x00007f7e18251a78>):
    1: <%= form_for @booking do |form| %>
    2:   <% if booking.errors.any? %>
    3:     <div id="error_explanation" class="alert alert-danger">
    4:       <h5>Errors</h5>
  
app/views/flats/_booking.html.erb:1:in `_app_views_flats__booking_html_erb__2751033054312898001_70089773621420'
app/views/flats/show.html.erb:29:in `_app_views_flats_show_html_erb___2940279721554684633_70089773847440'
Started GET "/flats/2" for 127.0.0.1 at 2018-08-01 14:47:34 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:45
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (3.2ms)
  Rendered flats/show.html.erb within layouts/application (123.7ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:56
Completed 200 OK in 2338ms (Views: 2155.3ms | ActiveRecord: 25.4ms)


Started GET "/flats/2" for 127.0.0.1 at 2018-08-01 14:49:38 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mFlat Load (1.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:45
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (12.0ms)
  Rendered flats/show.html.erb within layouts/application (32.2ms)
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:56
Completed 200 OK in 388ms (Views: 378.3ms | ActiveRecord: 4.4ms)


Started GET "/flats/2" for 127.0.0.1 at 2018-08-01 14:49:46 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:45
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (2.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (2.3ms)
  Rendered flats/show.html.erb within layouts/application (18.8ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:56
Completed 200 OK in 257ms (Views: 251.0ms | ActiveRecord: 3.6ms)


Started GET "/flats/2" for 127.0.0.1 at 2018-08-01 14:50:16 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:45
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (2.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (1.8ms)
  Rendered flats/show.html.erb within layouts/application (11.4ms)
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:56
Completed 200 OK in 264ms (Views: 255.6ms | ActiveRecord: 5.5ms)


Started GET "/flats/2" for 127.0.0.1 at 2018-08-01 14:59:44 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mFlat Load (3.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:45
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (2.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (6.1ms)
  Rendered flats/show.html.erb within layouts/application (27.8ms)
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:56
Completed 200 OK in 270ms (Views: 255.2ms | ActiveRecord: 6.7ms)


Started GET "/flats/2" for 127.0.0.1 at 2018-08-01 15:02:31 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:45
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (5.8ms)
  Rendered flats/show.html.erb within layouts/application (30.1ms)
Completed 500 Internal Server Error in 76ms (ActiveRecord: 1.9ms)


  
ActionView::Template::Error (couldn't find file 'bootstrap-datepicker3' with type 'text/css'
Checked in these paths: 
  /home/york/Документы/Projects/FlatBooking/app/assets/config
  /home/york/Документы/Projects/FlatBooking/app/assets/images
  /home/york/Документы/Projects/FlatBooking/app/assets/javascripts
  /home/york/Документы/Projects/FlatBooking/app/assets/stylesheets
  /home/york/.rvm/gems/ruby-2.5.1/gems/jquery-rails-4.3.3/vendor/assets/javascripts
  /home/york/.rvm/gems/ruby-2.5.1/gems/coffee-rails-4.2.2/lib/assets/javascripts
  /home/york/.rvm/gems/ruby-2.5.1/gems/actioncable-5.2.0/lib/assets/compiled
  /home/york/.rvm/gems/ruby-2.5.1/gems/activestorage-5.2.0/app/assets/javascripts
  /home/york/.rvm/gems/ruby-2.5.1/gems/actionview-5.2.0/lib/assets/compiled
  /home/york/.rvm/gems/ruby-2.5.1/gems/turbolinks-source-5.1.0/lib/assets/javascripts
  /home/york/Документы/Projects/FlatBooking/node_modules
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-sass-3.3.7/assets/stylesheets
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-sass-3.3.7/assets/javascripts
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-sass-3.3.7/assets/fonts
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-sass-3.3.7/assets/images):
     6:     <%= csrf_meta_tags %>
     7:     <%= csp_meta_tag %>
     8: 
     9:     <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    10:     <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
    11: 
    12:     <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  
app/assets/stylesheets/application.scss:15
app/views/layouts/application.html.erb:9:in `_app_views_layouts_application_html_erb___1450224622352978085_70089917518200'
Started GET "/flats/2" for 127.0.0.1 at 2018-08-01 15:02:55 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mFlat Load (1.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:45
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (28.2ms)
  Rendered flats/show.html.erb within layouts/application (45.8ms)
Completed 500 Internal Server Error in 101ms (ActiveRecord: 1.9ms)


  
ActionView::Template::Error (couldn't find file 'bootstrap-datepicker' with type 'text/css'
Checked in these paths: 
  /home/york/Документы/Projects/FlatBooking/app/assets/config
  /home/york/Документы/Projects/FlatBooking/app/assets/images
  /home/york/Документы/Projects/FlatBooking/app/assets/javascripts
  /home/york/Документы/Projects/FlatBooking/app/assets/stylesheets
  /home/york/.rvm/gems/ruby-2.5.1/gems/jquery-rails-4.3.3/vendor/assets/javascripts
  /home/york/.rvm/gems/ruby-2.5.1/gems/coffee-rails-4.2.2/lib/assets/javascripts
  /home/york/.rvm/gems/ruby-2.5.1/gems/actioncable-5.2.0/lib/assets/compiled
  /home/york/.rvm/gems/ruby-2.5.1/gems/activestorage-5.2.0/app/assets/javascripts
  /home/york/.rvm/gems/ruby-2.5.1/gems/actionview-5.2.0/lib/assets/compiled
  /home/york/.rvm/gems/ruby-2.5.1/gems/turbolinks-source-5.1.0/lib/assets/javascripts
  /home/york/Документы/Projects/FlatBooking/node_modules
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-sass-3.3.7/assets/stylesheets
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-sass-3.3.7/assets/javascripts
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-sass-3.3.7/assets/fonts
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-sass-3.3.7/assets/images):
     6:     <%= csrf_meta_tags %>
     7:     <%= csp_meta_tag %>
     8: 
     9:     <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    10:     <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
    11: 
    12:     <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  
app/assets/stylesheets/application.scss:15
app/views/layouts/application.html.erb:9:in `_app_views_layouts_application_html_erb___1450224622352978085_47207954922100'
Started GET "/flats/2" for 127.0.0.1 at 2018-08-01 15:05:02 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mFlat Load (2.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:45
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (12.8ms)
  Rendered flats/show.html.erb within layouts/application (36.2ms)
Completed 500 Internal Server Error in 88ms (ActiveRecord: 3.7ms)


  
ActionView::Template::Error (couldn't find file 'bootstrap-datepicker3' with type 'text/css'
Checked in these paths: 
  /home/york/Документы/Projects/FlatBooking/app/assets/config
  /home/york/Документы/Projects/FlatBooking/app/assets/images
  /home/york/Документы/Projects/FlatBooking/app/assets/javascripts
  /home/york/Документы/Projects/FlatBooking/app/assets/stylesheets
  /home/york/.rvm/gems/ruby-2.5.1/gems/jquery-rails-4.3.3/vendor/assets/javascripts
  /home/york/.rvm/gems/ruby-2.5.1/gems/coffee-rails-4.2.2/lib/assets/javascripts
  /home/york/.rvm/gems/ruby-2.5.1/gems/actioncable-5.2.0/lib/assets/compiled
  /home/york/.rvm/gems/ruby-2.5.1/gems/activestorage-5.2.0/app/assets/javascripts
  /home/york/.rvm/gems/ruby-2.5.1/gems/actionview-5.2.0/lib/assets/compiled
  /home/york/.rvm/gems/ruby-2.5.1/gems/turbolinks-source-5.1.0/lib/assets/javascripts
  /home/york/Документы/Projects/FlatBooking/node_modules
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-sass-3.3.7/assets/stylesheets
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-sass-3.3.7/assets/javascripts
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-sass-3.3.7/assets/fonts
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-sass-3.3.7/assets/images):
     6:     <%= csrf_meta_tags %>
     7:     <%= csp_meta_tag %>
     8: 
     9:     <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    10:     <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
    11: 
    12:     <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  
app/assets/stylesheets/application.scss:15
app/views/layouts/application.html.erb:9:in `_app_views_layouts_application_html_erb___1450224622352978085_70089841697340'
Started GET "/flats/2" for 127.0.0.1 at 2018-08-01 15:05:19 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:45
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (5.7ms)
  Rendered flats/show.html.erb within layouts/application (19.0ms)
Completed 500 Internal Server Error in 2481ms (ActiveRecord: 1.1ms)


  
ActionView::Template::Error (couldn't find file 'bootstrap-datepicker' with type 'application/javascript'
Checked in these paths: 
  /home/york/Документы/Projects/FlatBooking/app/assets/config
  /home/york/Документы/Projects/FlatBooking/app/assets/images
  /home/york/Документы/Projects/FlatBooking/app/assets/javascripts
  /home/york/Документы/Projects/FlatBooking/app/assets/stylesheets
  /home/york/.rvm/gems/ruby-2.5.1/gems/jquery-rails-4.3.3/vendor/assets/javascripts
  /home/york/.rvm/gems/ruby-2.5.1/gems/coffee-rails-4.2.2/lib/assets/javascripts
  /home/york/.rvm/gems/ruby-2.5.1/gems/actioncable-5.2.0/lib/assets/compiled
  /home/york/.rvm/gems/ruby-2.5.1/gems/activestorage-5.2.0/app/assets/javascripts
  /home/york/.rvm/gems/ruby-2.5.1/gems/actionview-5.2.0/lib/assets/compiled
  /home/york/.rvm/gems/ruby-2.5.1/gems/turbolinks-source-5.1.0/lib/assets/javascripts
  /home/york/Документы/Projects/FlatBooking/node_modules
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-sass-3.3.7/assets/stylesheets
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-sass-3.3.7/assets/javascripts
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-sass-3.3.7/assets/fonts
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-sass-3.3.7/assets/images):
     7:     <%= csp_meta_tag %>
     8: 
     9:     <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    10:     <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
    11: 
    12:     <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    13:   </head>
  
app/assets/javascripts/application.js:14
app/views/layouts/application.html.erb:10:in `_app_views_layouts_application_html_erb___1450224622352978085_70089917686480'
Started GET "/flats/2" for 127.0.0.1 at 2018-08-01 15:05:42 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mFlat Load (1.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:45
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (5.6ms)
  Rendered flats/show.html.erb within layouts/application (26.3ms)
Completed 500 Internal Server Error in 78ms (ActiveRecord: 2.2ms)


  
ActionView::Template::Error (couldn't find file 'bootstrap-datepicker3' with type 'text/css'
Checked in these paths: 
  /home/york/Документы/Projects/FlatBooking/app/assets/config
  /home/york/Документы/Projects/FlatBooking/app/assets/images
  /home/york/Документы/Projects/FlatBooking/app/assets/javascripts
  /home/york/Документы/Projects/FlatBooking/app/assets/stylesheets
  /home/york/.rvm/gems/ruby-2.5.1/gems/jquery-rails-4.3.3/vendor/assets/javascripts
  /home/york/.rvm/gems/ruby-2.5.1/gems/coffee-rails-4.2.2/lib/assets/javascripts
  /home/york/.rvm/gems/ruby-2.5.1/gems/actioncable-5.2.0/lib/assets/compiled
  /home/york/.rvm/gems/ruby-2.5.1/gems/activestorage-5.2.0/app/assets/javascripts
  /home/york/.rvm/gems/ruby-2.5.1/gems/actionview-5.2.0/lib/assets/compiled
  /home/york/.rvm/gems/ruby-2.5.1/gems/turbolinks-source-5.1.0/lib/assets/javascripts
  /home/york/Документы/Projects/FlatBooking/node_modules
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-sass-3.3.7/assets/stylesheets
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-sass-3.3.7/assets/javascripts
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-sass-3.3.7/assets/fonts
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-sass-3.3.7/assets/images):
     6:     <%= csrf_meta_tags %>
     7:     <%= csp_meta_tag %>
     8: 
     9:     <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    10:     <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
    11: 
    12:     <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  
app/assets/stylesheets/application.scss:15
app/views/layouts/application.html.erb:9:in `_app_views_layouts_application_html_erb___1450224622352978085_70089915287820'
Started GET "/flats/2" for 127.0.0.1 at 2018-08-01 15:06:52 +0300
  [1m[35m (4.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mFlat Load (2.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:45
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (19.5ms)
  Rendered flats/show.html.erb within layouts/application (3010.3ms)
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:56
Completed 200 OK in 3718ms (Views: 3551.6ms | ActiveRecord: 42.4ms)


Started GET "/flats/2" for 127.0.0.1 at 2018-08-01 15:08:09 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:45
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (6.7ms)
  Rendered flats/show.html.erb within layouts/application (25.9ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:56
Completed 200 OK in 556ms (Views: 548.8ms | ActiveRecord: 2.5ms)


Started GET "/flats/2" for 127.0.0.1 at 2018-08-01 15:08:26 +0300
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mFlat Load (1.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:45
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (6.5ms)
  Rendered flats/show.html.erb within layouts/application (839.0ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:56
Completed 200 OK in 1443ms (Views: 1281.4ms | ActiveRecord: 33.3ms)


Started GET "/flats/2" for 127.0.0.1 at 2018-08-01 15:09:49 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:45
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (6.0ms)
  Rendered flats/show.html.erb within layouts/application (31.2ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:56
Completed 200 OK in 649ms (Views: 639.7ms | ActiveRecord: 2.5ms)


Started GET "/flats/2" for 127.0.0.1 at 2018-08-01 15:10:40 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:45
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (6.9ms)
  Rendered flats/show.html.erb within layouts/application (14.6ms)
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:56
Completed 200 OK in 425ms (Views: 419.0ms | ActiveRecord: 3.1ms)


Started GET "/flats/2" for 127.0.0.1 at 2018-08-01 15:11:07 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:45
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (4.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (12.1ms)
  Rendered flats/show.html.erb within layouts/application (34.8ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:56
Completed 200 OK in 494ms (Views: 485.5ms | ActiveRecord: 5.3ms)


Started GET "/flats/2" for 127.0.0.1 at 2018-08-01 15:15:18 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mFlat Load (1.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:45
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (10.4ms)
  Rendered flats/show.html.erb within layouts/application (54.3ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:56
Completed 200 OK in 637ms (Views: 624.4ms | ActiveRecord: 3.0ms)


Started GET "/flats/2" for 127.0.0.1 at 2018-08-01 15:19:05 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mFlat Load (7.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:45
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (5.2ms)
  Rendered flats/show.html.erb within layouts/application (15.8ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:56
Completed 200 OK in 536ms (Views: 519.1ms | ActiveRecord: 8.3ms)


Started GET "/flats/2" for 127.0.0.1 at 2018-08-01 15:22:05 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mFlat Load (1.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:45
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (5.4ms)
  Rendered flats/show.html.erb within layouts/application (18.3ms)
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:65
Completed 200 OK in 591ms (Views: 579.9ms | ActiveRecord: 4.4ms)


Started GET "/" for 127.0.0.1 at 2018-08-01 15:22:15 +0300
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.0ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [2 times] (463.6ms)
  Rendered flats/index.html.erb within layouts/application (507.5ms)
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:65
Completed 200 OK in 858ms (Views: 814.9ms | ActiveRecord: 16.2ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-01 15:22:18 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:45
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (20.3ms)
  Rendered flats/show.html.erb within layouts/application (47.2ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:65
Completed 200 OK in 281ms (Views: 239.0ms | ActiveRecord: 9.1ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-01 15:23:01 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:45
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (4.4ms)
  Rendered flats/show.html.erb within layouts/application (20.1ms)
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:65
Completed 200 OK in 547ms (Views: 543.2ms | ActiveRecord: 1.7ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-01 15:24:01 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (1.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:45
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (3.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (11.0ms)
  Rendered flats/show.html.erb within layouts/application (29.7ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:65
Completed 200 OK in 560ms (Views: 551.4ms | ActiveRecord: 4.6ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-01 15:24:04 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (1.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:45
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (1.7ms)
  Rendered flats/show.html.erb within layouts/application (13.5ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:65
Completed 200 OK in 560ms (Views: 549.0ms | ActiveRecord: 3.1ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-01 15:34:23 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (4.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:45
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (6.3ms)
  Rendered flats/show.html.erb within layouts/application (28.6ms)
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:65
Completed 200 OK in 569ms (Views: 551.4ms | ActiveRecord: 6.4ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-01 15:35:15 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:45
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (6.8ms)
  Rendered flats/show.html.erb within layouts/application (23.0ms)
  [1m[36mUser Load (2.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:65
Completed 200 OK in 541ms (Views: 530.2ms | ActiveRecord: 5.6ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-01 15:35:26 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:45
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (7.9ms)
  Rendered flats/show.html.erb within layouts/application (29.4ms)
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:65
Completed 200 OK in 536ms (Views: 529.8ms | ActiveRecord: 3.2ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-01 15:35:46 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:45
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (4.4ms)
  Rendered flats/show.html.erb within layouts/application (21.5ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:65
Completed 200 OK in 574ms (Views: 565.6ms | ActiveRecord: 2.4ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-01 15:43:55 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (1.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:45
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (11.3ms)
  Rendered flats/show.html.erb within layouts/application (27.3ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:65
Completed 200 OK in 586ms (Views: 571.3ms | ActiveRecord: 2.6ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-01 15:59:12 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (6.9ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:45
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (4.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (6.8ms)
  Rendered flats/show.html.erb within layouts/application (31.9ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:65
Completed 200 OK in 633ms (Views: 606.3ms | ActiveRecord: 11.8ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-01 15:59:22 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:45
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (4.3ms)
  Rendered flats/show.html.erb within layouts/application (34.9ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:65
Completed 200 OK in 585ms (Views: 579.2ms | ActiveRecord: 3.1ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-01 15:59:45 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (2.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:45
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (4.6ms)
  Rendered flats/show.html.erb within layouts/application (16.8ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:65
Completed 200 OK in 487ms (Views: 479.2ms | ActiveRecord: 3.7ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-01 16:00:00 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:45
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (2.3ms)
  Rendered flats/show.html.erb within layouts/application (17.1ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:65
Completed 200 OK in 597ms (Views: 590.9ms | ActiveRecord: 2.5ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-01 16:21:37 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.0ms)


  
SyntaxError (/home/york/Документы/Projects/FlatBooking/app/models/flat.rb:18: syntax error, unexpected end-of-input, expecting keyword_end):
  
app/models/flat.rb:18: syntax error, unexpected end-of-input, expecting keyword_end
app/controllers/flats_controller.rb:45:in `set_flat'
Started GET "/flats/1" for 127.0.0.1 at 2018-08-01 16:21:58 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:45
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (4.9ms)
  Rendered flats/show.html.erb within layouts/application (99.4ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:65
Completed 200 OK in 682ms (Views: 507.3ms | ActiveRecord: 37.1ms)


Started GET "/flats/1/edit" for 127.0.0.1 at 2018-08-01 16:22:05 +0300
Processing by FlatsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:45
  Rendering flats/edit.html.erb within layouts/application
  Rendered flats/_form.html.erb (7.5ms)
  Rendered flats/edit.html.erb within layouts/application (9.2ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:65
Completed 200 OK in 251ms (Views: 246.8ms | ActiveRecord: 1.0ms)


Started PATCH "/flats/1" for 127.0.0.1 at 2018-08-01 16:23:05 +0300
Processing by FlatsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Ra9b7mb7MDUZFDI/DlEV27v3VY698kX7iw7H8mnoJsOj2Ae9QGbepDOT9RuxAjUS+IgoGg1vgiNzJbh7OuuCiw==", "flat"=>{"name"=>"Letuchiy Gollandets", "city"=>"Uzhhorod", "address"=>"Peremohy(Kapushanska) Street 19", "description"=>"This hotel is set in the historic centre of Uzhgorod, a 15-minute walk from the Uzhgorod Castle. Free parking and a 24-hour reception is featured at Flying Dutchman Hotel.\r\nThe bright, air-conditioned rooms offer warm-coloured interiors and classic-style décor. Each room includes a flat-screen TV, a refrigerator and a private bathroom.\r\n\r\nA variety of cafés and restaurants can be found within a 5-minute walk from the hotel.\r\n\r\nA bus stop on Svobody Prospekt is 200 m from Flying Dutchman Hotel. Uzhgorod Train Station is 1.5 km away, and Uzhgorod International Airport is 2 km from the hotel. \r\n\r\nThis property also has one of the best-rated locations in Uzhhorod! Guests are happier about it compared to other properties in the area.\r\n\r\nCouples particularly like the location — they rated it 9.3 for a two-person trip.\r\n\r\nThis property is also rated for the best value in Uzhhorod! Guests are getting more for their money when compared to other properties in this city.\r\n\r\nWe speak your language!\r\n\r\nLetuchiy Gollandets has been welcoming FlatBooking guests since 17 Apr 2013.", "capacity"=>"2", "price_in_dollars"=>"56"}, "commit"=>"Save", "id"=>"1"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:45
No template found for FlatsController#update, rendering head :no_content
Completed 204 No Content in 75ms (ActiveRecord: 0.3ms)


Started GET "/flats/1/edit" for 127.0.0.1 at 2018-08-01 16:30:06 +0300
Processing by FlatsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (1.9ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:45
  Rendering flats/edit.html.erb within layouts/application
  Rendered flats/_form.html.erb (9.6ms)
  Rendered flats/edit.html.erb within layouts/application (12.3ms)
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:65
Completed 200 OK in 246ms (Views: 237.3ms | ActiveRecord: 2.7ms)


Started PATCH "/flats/1" for 127.0.0.1 at 2018-08-01 16:30:12 +0300
Processing by FlatsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"jUm6DoCQgL1degq/anYMySUuavQXxz9ESfO+BqONcZZrPuZdpg1uLHf9zZvVJSwAZlEXYKda+Jyx2MGP8I7V3g==", "flat"=>{"name"=>"Letuchiy Gollandets", "city"=>"Uzhhorod", "address"=>"Peremohy(Kapushanska) Street 19", "description"=>"This hotel is set in the historic centre of Uzhgorod, a 15-minute walk from the Uzhgorod Castle. Free parking and a 24-hour reception is featured at Flying Dutchman Hotel.\r\nThe bright, air-conditioned rooms offer warm-coloured interiors and classic-style décor. Each room includes a flat-screen TV, a refrigerator and a private bathroom.\r\n\r\nA variety of cafés and restaurants can be found within a 5-minute walk from the hotel.\r\n\r\nA bus stop on Svobody Prospekt is 200 m from Flying Dutchman Hotel. Uzhgorod Train Station is 1.5 km away, and Uzhgorod International Airport is 2 km from the hotel. \r\n\r\nThis property also has one of the best-rated locations in Uzhhorod! Guests are happier about it compared to other properties in the area.\r\n\r\nCouples particularly like the location — they rated it 9.3 for a two-person trip.\r\n\r\nThis property is also rated for the best value in Uzhhorod! Guests are getting more for their money when compared to other properties in this city.\r\n\r\nWe speak your language!\r\n\r\nLetuchiy Gollandets has been welcoming FlatBooking guests since 17 Apr 2013.", "capacity"=>"2", "price_in_dollars"=>"59"}, "commit"=>"Save", "id"=>"1"}
  [1m[36mFlat Load (2.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:45
No template found for FlatsController#update, rendering head :no_content
Completed 204 No Content in 107ms (ActiveRecord: 3.3ms)


Started GET "/flats/1/edit" for 127.0.0.1 at 2018-08-01 16:30:22 +0300
Processing by FlatsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:50
  Rendering flats/edit.html.erb within layouts/application
  Rendered flats/_form.html.erb (2.8ms)
  Rendered flats/edit.html.erb within layouts/application (3.9ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:65
Completed 200 OK in 220ms (Views: 194.7ms | ActiveRecord: 7.9ms)


Started PATCH "/flats/1" for 127.0.0.1 at 2018-08-01 16:30:29 +0300
Processing by FlatsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"4GDwIT6cNI5lwAU4un5E0rdlk2eH1biKuABt15Crih0GF6xyGAHaH09HwhwFLWQb9Bru8zdIf1JAKxJew6guVQ==", "flat"=>{"name"=>"Letuchiy Gollandets", "city"=>"Uzhhorod", "address"=>"Peremohy(Kapushanska) Street 19", "description"=>"This hotel is set in the historic centre of Uzhgorod, a 15-minute walk from the Uzhgorod Castle. Free parking and a 24-hour reception is featured at Flying Dutchman Hotel.\r\nThe bright, air-conditioned rooms offer warm-coloured interiors and classic-style décor. Each room includes a flat-screen TV, a refrigerator and a private bathroom.\r\n\r\nA variety of cafés and restaurants can be found within a 5-minute walk from the hotel.\r\n\r\nA bus stop on Svobody Prospekt is 200 m from Flying Dutchman Hotel. Uzhgorod Train Station is 1.5 km away, and Uzhgorod International Airport is 2 km from the hotel. \r\n\r\nThis property also has one of the best-rated locations in Uzhhorod! Guests are happier about it compared to other properties in the area.\r\n\r\nCouples particularly like the location — they rated it 9.3 for a two-person trip.\r\n\r\nThis property is also rated for the best value in Uzhhorod! Guests are getting more for their money when compared to other properties in this city.\r\n\r\nWe speak your language!\r\n\r\nLetuchiy Gollandets has been welcoming FlatBooking guests since 17 Apr 2013.", "capacity"=>"2", "price_in_dollars"=>"62"}, "commit"=>"Save", "id"=>"1"}
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:50
Unpermitted parameter: :price_in_dollars
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/flats_controller.rb:31
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:31
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/flats_controller.rb:31
Redirected to http://localhost:3000/flats/1
Completed 302 Found in 17ms (ActiveRecord: 1.5ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-01 16:30:29 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:50
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (9.4ms)
  Rendered flats/show.html.erb within layouts/application (15.6ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:65
Completed 200 OK in 382ms (Views: 343.7ms | ActiveRecord: 9.1ms)


Started GET "/" for 127.0.0.1 at 2018-08-01 16:31:01 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (6.1ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [2 times] (13.4ms)
  Rendered flats/index.html.erb within layouts/application (34.3ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:65
Completed 200 OK in 267ms (Views: 256.6ms | ActiveRecord: 7.1ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-01 16:31:04 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (1.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:50
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (9.4ms)
  Rendered flats/show.html.erb within layouts/application (34.9ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:65
Completed 200 OK in 317ms (Views: 306.7ms | ActiveRecord: 2.7ms)


Started GET "/flats/1/edit" for 127.0.0.1 at 2018-08-01 16:45:03 +0300
Processing by FlatsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:50
  Rendering flats/edit.html.erb within layouts/application
  Rendered flats/_form.html.erb (6.5ms)
  Rendered flats/edit.html.erb within layouts/application (8.7ms)
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:65
Completed 200 OK in 300ms (Views: 250.1ms | ActiveRecord: 13.5ms)


Started PATCH "/flats/1" for 127.0.0.1 at 2018-08-01 16:45:13 +0300
Processing by FlatsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"2O3aeMGmrMdBvRC/FaQqEBOd+iQwcVJlsQ5T7/hVv4c+moYr5ztCVms615uq9wrZUOKHsIDslb1JJSxmq1Ybzw==", "flat"=>{"name"=>"Letuchiy Gollandets", "city"=>"Uzhhorod", "address"=>"Peremohy(Kapushanska) Street 19", "description"=>"This hotel is set in the historic centre of Uzhgorod, a 15-minute walk from the Uzhgorod Castle. Free parking and a 24-hour reception is featured at Flying Dutchman Hotel.\r\nThe bright, air-conditioned rooms offer warm-coloured interiors and classic-style décor. Each room includes a flat-screen TV, a refrigerator and a private bathroom.\r\n\r\nA variety of cafés and restaurants can be found within a 5-minute walk from the hotel.\r\n\r\nA bus stop on Svobody Prospekt is 200 m from Flying Dutchman Hotel. Uzhgorod Train Station is 1.5 km away, and Uzhgorod International Airport is 2 km from the hotel. \r\n\r\nThis property also has one of the best-rated locations in Uzhhorod! Guests are happier about it compared to other properties in the area.\r\n\r\nCouples particularly like the location — they rated it 9.3 for a two-person trip.\r\n\r\nThis property is also rated for the best value in Uzhhorod! Guests are getting more for their money when compared to other properties in this city.\r\n\r\nWe speak your language!\r\n\r\nLetuchiy Gollandets has been welcoming FlatBooking guests since 17 Apr 2013.", "capacity"=>"2", "price_in_dollars"=>"61"}, "commit"=>"Save", "id"=>"1"}
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:50
Unpermitted parameter: :price_in_dollars
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/flats_controller.rb:31
  [1m[36mUser Load (2.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:31
  [1m[35m (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/flats_controller.rb:31
Redirected to http://localhost:3000/flats/1
Completed 302 Found in 30ms (ActiveRecord: 4.4ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-01 16:45:13 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (1.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:50
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (5.8ms)
  Rendered flats/show.html.erb within layouts/application (24.2ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:65
Completed 200 OK in 477ms (Views: 417.1ms | ActiveRecord: 12.6ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-01 16:45:19 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (1.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:50
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (7.9ms)
  Rendered flats/show.html.erb within layouts/application (24.0ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:65
Completed 200 OK in 600ms (Views: 590.5ms | ActiveRecord: 3.0ms)


  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/flats/1" for 127.0.0.1 at 2018-08-01 16:52:00 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:50
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (3.5ms)
  Rendered flats/show.html.erb within layouts/application (129.6ms)
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:65
Completed 200 OK in 784ms (Views: 671.4ms | ActiveRecord: 32.6ms)


Started GET "/flats/1/edit" for 127.0.0.1 at 2018-08-01 16:52:03 +0300
Processing by FlatsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:50
  Rendering flats/edit.html.erb within layouts/application
  Rendered flats/_form.html.erb (7.5ms)
  Rendered flats/edit.html.erb within layouts/application (9.0ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:65
Completed 200 OK in 267ms (Views: 264.1ms | ActiveRecord: 0.8ms)


Started PATCH "/flats/1" for 127.0.0.1 at 2018-08-01 16:52:42 +0300
Processing by FlatsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"LEE92rhRV2lGH0BR+yDNq2BAhhvcPxTRd/iJiniHSx7KNmGJnsy5+GyYh3VEc+1iIz/7j2yi0wmP0/YDK4TvVg==", "flat"=>{"name"=>"Letuchiy Gollandets", "city"=>"Uzhhorod", "address"=>"Peremohy(Kapushanska) Street 19", "description"=>"This hotel is set in the historic centre of Uzhgorod, a 15-minute walk from the Uzhgorod Castle. Free parking and a 24-hour reception is featured at Flying Dutchman Hotel.\r\nThe bright, air-conditioned rooms offer warm-coloured interiors and classic-style décor. Each room includes a flat-screen TV, a refrigerator and a private bathroom.\r\n\r\nA variety of cafés and restaurants can be found within a 5-minute walk from the hotel.\r\n\r\nA bus stop on Svobody Prospekt is 200 m from Flying Dutchman Hotel. Uzhgorod Train Station is 1.5 km away, and Uzhgorod International Airport is 2 km from the hotel. \r\n\r\nThis property also has one of the best-rated locations in Uzhhorod! Guests are happier about it compared to other properties in the area.\r\n\r\nCouples particularly like the location — they rated it 9.3 for a two-person trip.\r\n\r\nThis property is also rated for the best value in Uzhhorod! Guests are getting more for their money when compared to other properties in this city.\r\n\r\nWe speak your language!\r\n\r\nLetuchiy Gollandets has been welcoming FlatBooking guests since 17 Apr 2013.", "capacity"=>"2", "price_in_dollars"=>"59.59"}, "commit"=>"Save", "id"=>"1"}
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:50
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/flats_controller.rb:31
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:31
  [1m[36mFlat Update (1.3ms)[0m  [1m[33mUPDATE "flats" SET "price" = $1, "updated_at" = $2 WHERE "flats"."id" = $3[0m  [["price", 5959], ["updated_at", "2018-08-01 13:52:42.892703"], ["id", 1]]
  ↳ app/controllers/flats_controller.rb:31
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/flats_controller.rb:31
Redirected to http://localhost:3000/flats/1
Completed 302 Found in 22ms (ActiveRecord: 4.6ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-01 16:52:42 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (2.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:50
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (12.6ms)
  Rendered flats/show.html.erb within layouts/application (34.1ms)
  [1m[36mUser Load (4.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:65
Completed 200 OK in 735ms (Views: 715.3ms | ActiveRecord: 6.7ms)


Started GET "/" for 127.0.0.1 at 2018-08-01 16:53:49 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.2ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [2 times] (24.2ms)
  Rendered flats/index.html.erb within layouts/application (43.2ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:65
Completed 200 OK in 280ms (Views: 274.4ms | ActiveRecord: 3.0ms)


Started GET "/" for 127.0.0.1 at 2018-08-01 16:53:58 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.0ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [2 times] (32.0ms)
  Rendered flats/index.html.erb within layouts/application (48.7ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:65
Completed 200 OK in 294ms (Views: 287.6ms | ActiveRecord: 3.1ms)


Started GET "/" for 127.0.0.1 at 2018-08-01 16:54:00 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [2 times] (15.5ms)
  Rendered flats/index.html.erb within layouts/application (23.4ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:65
Completed 200 OK in 289ms (Views: 283.0ms | ActiveRecord: 2.2ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-01 16:54:03 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (1.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:50
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (6.3ms)
  Rendered flats/show.html.erb within layouts/application (28.2ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:65
Completed 200 OK in 282ms (Views: 263.7ms | ActiveRecord: 2.7ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-01 16:54:15 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:50
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (5.9ms)
  Rendered flats/show.html.erb within layouts/application (26.8ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:65
Completed 200 OK in 557ms (Views: 548.6ms | ActiveRecord: 3.0ms)


Started GET "/" for 127.0.0.1 at 2018-08-01 16:54:20 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (2.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [2 times] (14.8ms)
  Rendered flats/index.html.erb within layouts/application (23.1ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:65
Completed 200 OK in 266ms (Views: 260.6ms | ActiveRecord: 3.6ms)


Started GET "/flats/2" for 127.0.0.1 at 2018-08-01 16:54:22 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mFlat Load (0.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:50
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (5.7ms)
  Rendered flats/show.html.erb within layouts/application (28.8ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:65
Completed 200 OK in 306ms (Views: 297.5ms | ActiveRecord: 2.1ms)


Started GET "/flats/2/edit" for 127.0.0.1 at 2018-08-01 16:54:25 +0300
Processing by FlatsController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:50
  Rendering flats/edit.html.erb within layouts/application
  Rendered flats/_form.html.erb (17.6ms)
  Rendered flats/edit.html.erb within layouts/application (21.0ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:65
Completed 200 OK in 292ms (Views: 282.7ms | ActiveRecord: 1.1ms)


  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mFlat Update (0.7ms)[0m  [1m[33mUPDATE "flats" SET "price" = $1, "updated_at" = $2 WHERE "flats"."id" = $3[0m  [["price", 0], ["updated_at", "2018-08-01 14:09:12.378572"], ["id", 1]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mFlat Load (1.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mFlat Update (0.5ms)[0m  [1m[33mUPDATE "flats" SET "price" = $1, "updated_at" = $2 WHERE "flats"."id" = $3[0m  [["price", 0], ["updated_at", "2018-08-01 14:09:47.129734"], ["id", 2]]
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
Started GET "/" for 127.0.0.1 at 2018-08-01 17:10:31 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.7ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [2 times] (12.8ms)
  Rendered flats/index.html.erb within layouts/application (28.5ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:65
Completed 200 OK in 305ms (Views: 299.5ms | ActiveRecord: 3.1ms)


Started GET "/flats/1/edit" for 127.0.0.1 at 2018-08-01 17:10:42 +0300
Processing by FlatsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (1.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:50
  Rendering flats/edit.html.erb within layouts/application
  Rendered flats/_form.html.erb (16.1ms)
  Rendered flats/edit.html.erb within layouts/application (19.8ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:65
Completed 200 OK in 264ms (Views: 254.1ms | ActiveRecord: 1.6ms)


Started PATCH "/flats/1" for 127.0.0.1 at 2018-08-01 17:10:48 +0300
Processing by FlatsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"nhef9ms2g7ovtT9hZv2XB7FMe8f1NEsq7SKoLQ33pPN4YMOlTattKwUy+EXZrrfO8jMGU0WpjPIVCdekXvQAuw==", "flat"=>{"name"=>"Letuchiy Gollandets", "city"=>"Uzhhorod", "address"=>"Peremohy(Kapushanska) Street 19", "description"=>"This hotel is set in the historic centre of Uzhgorod, a 15-minute walk from the Uzhgorod Castle. Free parking and a 24-hour reception is featured at Flying Dutchman Hotel.\r\nThe bright, air-conditioned rooms offer warm-coloured interiors and classic-style décor. Each room includes a flat-screen TV, a refrigerator and a private bathroom.\r\n\r\nA variety of cafés and restaurants can be found within a 5-minute walk from the hotel.\r\n\r\nA bus stop on Svobody Prospekt is 200 m from Flying Dutchman Hotel. Uzhgorod Train Station is 1.5 km away, and Uzhgorod International Airport is 2 km from the hotel. \r\n\r\nThis property also has one of the best-rated locations in Uzhhorod! Guests are happier about it compared to other properties in the area.\r\n\r\nCouples particularly like the location — they rated it 9.3 for a two-person trip.\r\n\r\nThis property is also rated for the best value in Uzhhorod! Guests are getting more for their money when compared to other properties in this city.\r\n\r\nWe speak your language!\r\n\r\nLetuchiy Gollandets has been welcoming FlatBooking guests since 17 Apr 2013.", "capacity"=>"2", "price_in_dollars"=>"59"}, "commit"=>"Save", "id"=>"1"}
  [1m[36mFlat Load (1.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:50
  [1m[35m (4.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/flats_controller.rb:31
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:31
  [1m[36mFlat Update (1.2ms)[0m  [1m[33mUPDATE "flats" SET "price" = $1, "updated_at" = $2 WHERE "flats"."id" = $3[0m  [["price", 5900], ["updated_at", "2018-08-01 14:10:48.279374"], ["id", 1]]
  ↳ app/controllers/flats_controller.rb:31
  [1m[35m (2.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/flats_controller.rb:31
Redirected to http://localhost:3000/flats/1
Completed 302 Found in 46ms (ActiveRecord: 10.2ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-01 17:10:48 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (1.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:50
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (4.9ms)
  Rendered flats/show.html.erb within layouts/application (34.3ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:65
Completed 200 OK in 396ms (Views: 381.1ms | ActiveRecord: 4.1ms)


Started GET "/" for 127.0.0.1 at 2018-08-01 17:10:57 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.2ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (3.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [2 times] (46.0ms)
  Rendered flats/index.html.erb within layouts/application (66.1ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:65
Completed 200 OK in 285ms (Views: 278.5ms | ActiveRecord: 4.9ms)


Started GET "/flats/2/edit" for 127.0.0.1 at 2018-08-01 17:11:00 +0300
Processing by FlatsController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mFlat Load (1.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:50
  Rendering flats/edit.html.erb within layouts/application
  Rendered flats/_form.html.erb (17.8ms)
  Rendered flats/edit.html.erb within layouts/application (20.8ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:65
Completed 200 OK in 297ms (Views: 290.3ms | ActiveRecord: 1.5ms)


Started PATCH "/flats/2" for 127.0.0.1 at 2018-08-01 17:11:04 +0300
Processing by FlatsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"xQicbbq2/lNGxqzDzlpIKIagCFSJ3TbPUoElDcSerF9ERveEPOa45iEKgmwuwFdH6t2fhfctvg+aesOT8441BA==", "flat"=>{"name"=>"Modern Apartments ", "city"=>"Mukacheve", "address"=>"Sil'vaya Street 9", "description"=>"Modern Apartments is located in Mukacheve. Guests staying at this apartment have access to free WiFi.\r\nThe apartment includes 1 bedroom and a kitchen with a fridge and a kettle. A flat-screen TV with cable channels is featured.\r\n\r\nPolyana is 28 km from the apartment, while Uzhhorod is 37 km away. \r\n\r\nCouples particularly like the location — they rated it 9.1 for a two-person trip.\r\n\r\nThis property is also rated for the best value in Mukacheve! Guests are getting more for their money when compared to other properties in this city.\r\n\r\nModern Apartments has been welcoming FlatBooking guests since 30 Sept 2017.", "capacity"=>"2", "price_in_dollars"=>"24"}, "commit"=>"Save", "id"=>"2"}
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:50
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/flats_controller.rb:31
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:31
  [1m[36mFlat Update (3.0ms)[0m  [1m[33mUPDATE "flats" SET "price" = $1, "updated_at" = $2 WHERE "flats"."id" = $3[0m  [["price", 2400], ["updated_at", "2018-08-01 14:11:04.197479"], ["id", 2]]
  ↳ app/controllers/flats_controller.rb:31
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/flats_controller.rb:31
Redirected to http://localhost:3000/flats/2
Completed 302 Found in 23ms (ActiveRecord: 5.5ms)


Started GET "/flats/2" for 127.0.0.1 at 2018-08-01 17:11:04 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mFlat Load (2.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:50
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (8.2ms)
  Rendered flats/show.html.erb within layouts/application (35.9ms)
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:65
Completed 200 OK in 427ms (Views: 410.5ms | ActiveRecord: 5.6ms)


Started GET "/" for 127.0.0.1 at 2018-08-01 17:11:06 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [2 times] (14.9ms)
  Rendered flats/index.html.erb within layouts/application (24.0ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:65
Completed 200 OK in 260ms (Views: 256.2ms | ActiveRecord: 1.6ms)


  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/flats?utf8=%E2%9C%93&q%5Bcity_cont%5D=&q%5Bcapacity_eq%5D=&q%5Bprice_gteq%5D=30&q%5Bprice_lteq%5D=200&commit=Search" for 127.0.0.1 at 2018-08-01 17:27:22 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "q"=>{"city_cont"=>"", "capacity_eq"=>"", "price_gteq"=>"30", "price_lteq"=>"200"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (3.2ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" WHERE ("flats"."price" >= 30 AND "flats"."price" <= 200) LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  Rendered collection of templates [0 times] (0.2ms)
  Rendered flats/index.html.erb within layouts/application (25.2ms)
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:65
Completed 200 OK in 399ms (Views: 375.7ms | ActiveRecord: 7.9ms)


Started GET "/flats?utf8=%E2%9C%93&q%5Bcity_cont%5D=&q%5Bcapacity_eq%5D=&q%5Bprice_gteq%5D=300&q%5Bprice_lteq%5D=2000&commit=Search" for 127.0.0.1 at 2018-08-01 17:27:35 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "q"=>{"city_cont"=>"", "capacity_eq"=>"", "price_gteq"=>"300", "price_lteq"=>"2000"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.7ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" WHERE ("flats"."price" >= 300 AND "flats"."price" <= 2000) LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  Rendered collection of templates [0 times] (0.0ms)
  Rendered flats/index.html.erb within layouts/application (24.8ms)
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:65
Completed 200 OK in 390ms (Views: 376.1ms | ActiveRecord: 3.9ms)


Started GET "/flats?utf8=%E2%9C%93&q%5Bcity_cont%5D=&q%5Bcapacity_eq%5D=&q%5Bprice_gteq%5D=3000&q%5Bprice_lteq%5D=20000&commit=Search" for 127.0.0.1 at 2018-08-01 17:27:43 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "q"=>{"city_cont"=>"", "capacity_eq"=>"", "price_gteq"=>"3000", "price_lteq"=>"20000"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.2ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" WHERE ("flats"."price" >= 3000 AND "flats"."price" <= 20000) LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [1 times] (20.2ms)
  Rendered flats/index.html.erb within layouts/application (36.1ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:65
Completed 200 OK in 412ms (Views: 391.2ms | ActiveRecord: 3.9ms)


Started GET "/flats?utf8=%E2%9C%93&q%5Bcity_cont%5D=&q%5Bcapacity_eq%5D=&q%5Bprice_gteq%5D=3000&q%5Bprice_lteq%5D=20000&commit=Search" for 127.0.0.1 at 2018-08-01 17:29:27 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "q"=>{"city_cont"=>"", "capacity_eq"=>"", "price_gteq"=>"3000", "price_lteq"=>"20000"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" WHERE ("flats"."price" >= 3000 AND "flats"."price" <= 20000) LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [1 times] (12.7ms)
  Rendered flats/index.html.erb within layouts/application (45.0ms)
Completed 500 Internal Server Error in 52ms (ActiveRecord: 1.2ms)


  
ActionView::Template::Error (undefined method `price_in_dollars_lteq' for #<Ransack::Search:0x00007f08865c2c78>):
    25:           <%= f.search_field :price_gteq, class: "form-control" %>
    26: 
    27:           <%= f.label :price_lteq, "to" %>
    28:           <%= f.search_field :price_in_dollars_lteq, class: "form-control" %>
    29: 
    30:       </div>
    31: 
  
app/views/flats/index.html.erb:28:in `block in _app_views_flats_index_html_erb___4053123067459466005_69837289714600'
app/views/flats/index.html.erb:12:in `_app_views_flats_index_html_erb___4053123067459466005_69837289714600'
Started GET "/flats?utf8=%E2%9C%93&q%5Bcity_cont%5D=&q%5Bcapacity_eq%5D=&q%5Bprice_gteq%5D=3000&q%5Bprice_lteq%5D=20000&commit=Search" for 127.0.0.1 at 2018-08-01 17:30:52 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "q"=>{"city_cont"=>"", "capacity_eq"=>"", "price_gteq"=>"3000", "price_lteq"=>"20000"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.7ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" WHERE ("flats"."price" >= 3000 AND "flats"."price" <= 20000) LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [1 times] (88.4ms)
  Rendered flats/index.html.erb within layouts/application (135.0ms)
Completed 500 Internal Server Error in 176ms (ActiveRecord: 22.3ms)


  
ActionView::Template::Error (undefined method `price_in_dollars' for #<Flat:0x00007f0886695010>
Did you mean?  price_in_database):
    24: 
    25:   <section class="footer-content">
    26:     Capacity: <%= flat.capacity %><br/>
    27:     Price: $<%= flat.price_in_dollars %>
    28:   </section>
    29: </article>
  
app/views/flats/_flat.html.erb:27:in `_app_views_flats__flat_html_erb__1882254049450864342_69837295745540'
app/views/flats/index.html.erb:4:in `_app_views_flats_index_html_erb___4053123067459466005_69837296146780'
Started GET "/flats?utf8=%E2%9C%93&q%5Bcity_cont%5D=&q%5Bcapacity_eq%5D=&q%5Bprice_gteq%5D=3000&q%5Bprice_lteq%5D=20000&commit=Search" for 127.0.0.1 at 2018-08-01 17:31:21 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "q"=>{"city_cont"=>"", "capacity_eq"=>"", "price_gteq"=>"3000", "price_lteq"=>"20000"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" WHERE ("flats"."price" >= 3000 AND "flats"."price" <= 20000) LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (3.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [1 times] (26.6ms)
  Rendered flats/index.html.erb within layouts/application (45.5ms)
Completed 500 Internal Server Error in 67ms (ActiveRecord: 4.0ms)


  
ActionView::Template::Error (undefined method `priced_lteq' for #<Ransack::Search:0x00007f0886960fd8>):
    25:           <%= f.search_field :price_gteq, class: "form-control" %>
    26: 
    27:           <%= f.label :price_lteq, "to" %>
    28:           <%= f.search_field :priced_lteq, class: "form-control" %>
    29: 
    30:       </div>
    31: 
  
app/views/flats/index.html.erb:28:in `block in _app_views_flats_index_html_erb___4053123067459466005_69837297206420'
app/views/flats/index.html.erb:12:in `_app_views_flats_index_html_erb___4053123067459466005_69837297206420'
Started GET "/flats?utf8=%E2%9C%93&q%5Bcity_cont%5D=&q%5Bcapacity_eq%5D=&q%5Bprice_gteq%5D=3000&q%5Bprice_lteq%5D=20000&commit=Search" for 127.0.0.1 at 2018-08-01 17:31:58 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "q"=>{"city_cont"=>"", "capacity_eq"=>"", "price_gteq"=>"3000", "price_lteq"=>"20000"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.2ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" WHERE ("flats"."price" >= 3000 AND "flats"."price" <= 20000) LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [1 times] (19.4ms)
  Rendered flats/index.html.erb within layouts/application (57.9ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:65
Completed 200 OK in 558ms (Views: 550.8ms | ActiveRecord: 4.4ms)


Started GET "/" for 127.0.0.1 at 2018-08-01 17:32:03 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [2 times] (18.3ms)
  Rendered flats/index.html.erb within layouts/application (28.0ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:65
Completed 200 OK in 240ms (Views: 235.1ms | ActiveRecord: 2.7ms)


Started GET "/flats/2/edit" for 127.0.0.1 at 2018-08-01 17:32:17 +0300
Processing by FlatsController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mFlat Load (1.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:50
  Rendering flats/edit.html.erb within layouts/application
  Rendered flats/_form.html.erb (83.5ms)
  Rendered flats/edit.html.erb within layouts/application (87.5ms)
Completed 500 Internal Server Error in 105ms (ActiveRecord: 1.1ms)


  
ActionView::Template::Error (undefined method `price_in_dollars' for #<Flat:0x00005568f67aa418>
Did you mean?  price_in_database):
    38: 
    39:   <div class="field form-group">
    40:     <%= form.label :price_in_dollars, "Price" %>
    41:     <%= form.number_field :price_in_dollars, class: 'form-control'  %>
    42:   </div>
    43: 
    44:   <div class="field form-group">
  
app/views/flats/_form.html.erb:41:in `block in _app_views_flats__form_html_erb__4255258214216417096_46954649964940'
app/views/flats/_form.html.erb:1:in `_app_views_flats__form_html_erb__4255258214216417096_46954649964940'
app/views/flats/edit.html.erb:3:in `_app_views_flats_edit_html_erb___536792671375563024_46954650092760'
Started GET "/flats/2/edit" for 127.0.0.1 at 2018-08-01 17:32:48 +0300
Processing by FlatsController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:50
  Rendering flats/edit.html.erb within layouts/application
  Rendered flats/_form.html.erb (12.3ms)
  Rendered flats/edit.html.erb within layouts/application (18.9ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:65
Completed 200 OK in 507ms (Views: 503.6ms | ActiveRecord: 0.8ms)


Started PATCH "/flats/2" for 127.0.0.1 at 2018-08-01 17:32:54 +0300
Processing by FlatsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"UQ0CkhTDQ85h6fc/dPIQmNHYZUZyEbvQWCTYO7pvq2ElWm40reL5gCmO8918bjRZeaiUgP6YWu5smubSGjxMtA==", "flat"=>{"name"=>"Modern Apartments ", "city"=>"Mukacheve", "address"=>"Sil'vaya Street 9", "description"=>"Modern Apartments is located in Mukacheve. Guests staying at this apartment have access to free WiFi.\r\nThe apartment includes 1 bedroom and a kitchen with a fridge and a kettle. A flat-screen TV with cable channels is featured.\r\n\r\nPolyana is 28 km from the apartment, while Uzhhorod is 37 km away. \r\n\r\nCouples particularly like the location — they rated it 9.1 for a two-person trip.\r\n\r\nThis property is also rated for the best value in Mukacheve! Guests are getting more for their money when compared to other properties in this city.\r\n\r\nModern Apartments has been welcoming FlatBooking guests since 30 Sept 2017.", "capacity"=>"2", "price"=>"24"}, "commit"=>"Save", "id"=>"2"}
  [1m[36mFlat Load (1.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:50
Unpermitted parameter: :price
  [1m[35m (1.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/flats_controller.rb:31
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:31
  [1m[35m (0.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/flats_controller.rb:31
Redirected to http://localhost:3000/flats/2
Completed 302 Found in 21ms (ActiveRecord: 4.6ms)


Started GET "/flats/2" for 127.0.0.1 at 2018-08-01 17:32:54 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:50
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (3.3ms)
  Rendered flats/show.html.erb within layouts/application (16.1ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:65
Completed 200 OK in 439ms (Views: 371.5ms | ActiveRecord: 5.0ms)


Started GET "/flats/2/edit" for 127.0.0.1 at 2018-08-01 17:33:14 +0300
Processing by FlatsController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:50
  Rendering flats/edit.html.erb within layouts/application
  Rendered flats/_form.html.erb (2.9ms)
  Rendered flats/edit.html.erb within layouts/application (3.8ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:65
Completed 200 OK in 245ms (Views: 216.1ms | ActiveRecord: 6.8ms)


Started PATCH "/flats/2" for 127.0.0.1 at 2018-08-01 17:33:17 +0300
Processing by FlatsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"7F/5IbWE13JiWud/0ueCrEQLo/dZ08pHUJiiB0qcpYFtEZLIM9SRxwWWydAyfZ3DKHY0JicjQoeYY0SZfYw82g==", "flat"=>{"name"=>"Modern Apartments ", "city"=>"Mukacheve", "address"=>"Sil'vaya Street 9", "description"=>"Modern Apartments is located in Mukacheve. Guests staying at this apartment have access to free WiFi.\r\nThe apartment includes 1 bedroom and a kitchen with a fridge and a kettle. A flat-screen TV with cable channels is featured.\r\n\r\nPolyana is 28 km from the apartment, while Uzhhorod is 37 km away. \r\n\r\nCouples particularly like the location — they rated it 9.1 for a two-person trip.\r\n\r\nThis property is also rated for the best value in Mukacheve! Guests are getting more for their money when compared to other properties in this city.\r\n\r\nModern Apartments has been welcoming FlatBooking guests since 30 Sept 2017.", "capacity"=>"2", "price"=>"24"}, "commit"=>"Save", "id"=>"2"}
  [1m[36mFlat Load (0.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:50
Unpermitted parameter: :price
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/flats_controller.rb:31
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:31
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/flats_controller.rb:31
Redirected to http://localhost:3000/flats/2
Completed 302 Found in 20ms (ActiveRecord: 2.3ms)


Started GET "/flats/2" for 127.0.0.1 at 2018-08-01 17:33:17 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mFlat Load (1.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:50
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (8.1ms)
  Rendered flats/show.html.erb within layouts/application (21.4ms)
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:65
Completed 200 OK in 508ms (Views: 448.0ms | ActiveRecord: 11.3ms)


Started GET "/" for 127.0.0.1 at 2018-08-01 17:33:21 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.3ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (3.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [2 times] (36.4ms)
  Rendered flats/index.html.erb within layouts/application (51.1ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:65
Completed 200 OK in 286ms (Views: 276.3ms | ActiveRecord: 6.4ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-01 17:33:23 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:50
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (3.1ms)
  Rendered flats/show.html.erb within layouts/application (22.8ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:65
Completed 200 OK in 267ms (Views: 251.6ms | ActiveRecord: 2.4ms)


Started GET "/flats/1/edit" for 127.0.0.1 at 2018-08-01 17:33:26 +0300
Processing by FlatsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (1.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:50
  Rendering flats/edit.html.erb within layouts/application
  Rendered flats/_form.html.erb (29.1ms)
  Rendered flats/edit.html.erb within layouts/application (32.8ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:65
Completed 200 OK in 299ms (Views: 290.9ms | ActiveRecord: 1.4ms)


Started PATCH "/flats/1" for 127.0.0.1 at 2018-08-01 17:33:29 +0300
Processing by FlatsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"rsUiPnaQ1hBnUWSs0AO5Ev9BQIi1rom0zH07HCEhXdhIsn5tUA04gU3Wo4hvUJnbvD49HAUzTmw0VkSVciL5kA==", "flat"=>{"name"=>"Letuchiy Gollandets", "city"=>"Uzhhorod", "address"=>"Peremohy(Kapushanska) Street 19", "description"=>"This hotel is set in the historic centre of Uzhgorod, a 15-minute walk from the Uzhgorod Castle. Free parking and a 24-hour reception is featured at Flying Dutchman Hotel.\r\nThe bright, air-conditioned rooms offer warm-coloured interiors and classic-style décor. Each room includes a flat-screen TV, a refrigerator and a private bathroom.\r\n\r\nA variety of cafés and restaurants can be found within a 5-minute walk from the hotel.\r\n\r\nA bus stop on Svobody Prospekt is 200 m from Flying Dutchman Hotel. Uzhgorod Train Station is 1.5 km away, and Uzhgorod International Airport is 2 km from the hotel. \r\n\r\nThis property also has one of the best-rated locations in Uzhhorod! Guests are happier about it compared to other properties in the area.\r\n\r\nCouples particularly like the location — they rated it 9.3 for a two-person trip.\r\n\r\nThis property is also rated for the best value in Uzhhorod! Guests are getting more for their money when compared to other properties in this city.\r\n\r\nWe speak your language!\r\n\r\nLetuchiy Gollandets has been welcoming FlatBooking guests since 17 Apr 2013.", "capacity"=>"2", "price"=>"59"}, "commit"=>"Save", "id"=>"1"}
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:50
Unpermitted parameter: :price
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/flats_controller.rb:31
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:31
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/flats_controller.rb:31
Redirected to http://localhost:3000/flats/1
Completed 302 Found in 7ms (ActiveRecord: 1.0ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-01 17:33:29 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:50
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (7.2ms)
  Rendered flats/show.html.erb within layouts/application (17.1ms)
  [1m[36mUser Load (5.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:65
Completed 200 OK in 387ms (Views: 377.1ms | ActiveRecord: 5.7ms)


Started GET "/flats/1/edit" for 127.0.0.1 at 2018-08-01 17:34:06 +0300
Processing by FlatsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:50
  Rendering flats/edit.html.erb within layouts/application
  Rendered flats/_form.html.erb (7.3ms)
  Rendered flats/edit.html.erb within layouts/application (8.3ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:65
Completed 200 OK in 223ms (Views: 194.3ms | ActiveRecord: 6.3ms)


Started PATCH "/flats/1" for 127.0.0.1 at 2018-08-01 17:34:09 +0300
Processing by FlatsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"tLr/27IMlGb67kYctVTnuT0GsXzTApY+H9n8Bi4nMhpSzaOIlJF699BpgTgKB8dwfnnM6GOfUebn8oOPfSSWUg==", "flat"=>{"name"=>"Letuchiy Gollandets", "city"=>"Uzhhorod", "address"=>"Peremohy(Kapushanska) Street 19", "description"=>"This hotel is set in the historic centre of Uzhgorod, a 15-minute walk from the Uzhgorod Castle. Free parking and a 24-hour reception is featured at Flying Dutchman Hotel.\r\nThe bright, air-conditioned rooms offer warm-coloured interiors and classic-style décor. Each room includes a flat-screen TV, a refrigerator and a private bathroom.\r\n\r\nA variety of cafés and restaurants can be found within a 5-minute walk from the hotel.\r\n\r\nA bus stop on Svobody Prospekt is 200 m from Flying Dutchman Hotel. Uzhgorod Train Station is 1.5 km away, and Uzhgorod International Airport is 2 km from the hotel. \r\n\r\nThis property also has one of the best-rated locations in Uzhhorod! Guests are happier about it compared to other properties in the area.\r\n\r\nCouples particularly like the location — they rated it 9.3 for a two-person trip.\r\n\r\nThis property is also rated for the best value in Uzhhorod! Guests are getting more for their money when compared to other properties in this city.\r\n\r\nWe speak your language!\r\n\r\nLetuchiy Gollandets has been welcoming FlatBooking guests since 17 Apr 2013.", "capacity"=>"2", "price"=>"59"}, "commit"=>"Save", "id"=>"1"}
  [1m[36mFlat Load (1.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:50
  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/flats_controller.rb:31
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:31
  [1m[36mFlat Update (0.5ms)[0m  [1m[33mUPDATE "flats" SET "price" = $1, "updated_at" = $2 WHERE "flats"."id" = $3[0m  [["price", 59], ["updated_at", "2018-08-01 14:34:09.874989"], ["id", 1]]
  ↳ app/controllers/flats_controller.rb:31
  [1m[35m (2.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/flats_controller.rb:31
Redirected to http://localhost:3000/flats/1
Completed 302 Found in 24ms (ActiveRecord: 5.9ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-01 17:34:09 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (1.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:50
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (4.2ms)
  Rendered flats/show.html.erb within layouts/application (21.7ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:65
Completed 200 OK in 452ms (Views: 397.8ms | ActiveRecord: 17.2ms)


Started GET "/" for 127.0.0.1 at 2018-08-01 17:34:12 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.6ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [2 times] (31.6ms)
  Rendered flats/index.html.erb within layouts/application (55.8ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:65
Completed 200 OK in 287ms (Views: 279.5ms | ActiveRecord: 2.8ms)


Started GET "/flats/2" for 127.0.0.1 at 2018-08-01 17:34:15 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mFlat Load (1.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:50
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (5.2ms)
  Rendered flats/show.html.erb within layouts/application (30.6ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:65
Completed 200 OK in 274ms (Views: 237.1ms | ActiveRecord: 2.6ms)


Started GET "/flats/2/edit" for 127.0.0.1 at 2018-08-01 17:34:18 +0300
Processing by FlatsController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mFlat Load (1.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:50
  Rendering flats/edit.html.erb within layouts/application
  Rendered flats/_form.html.erb (27.0ms)
  Rendered flats/edit.html.erb within layouts/application (31.4ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:65
Completed 200 OK in 257ms (Views: 248.0ms | ActiveRecord: 1.3ms)


Started PATCH "/flats/2" for 127.0.0.1 at 2018-08-01 17:34:21 +0300
Processing by FlatsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"MtFJvWzouD3ba3YfvJkEaYWNBxULDhoZVbyM75aUetiznyJU6rj+iLynWLBcAxsG6fCQxHX+ktmdR2pxoYTjgw==", "flat"=>{"name"=>"Modern Apartments ", "city"=>"Mukacheve", "address"=>"Sil'vaya Street 9", "description"=>"Modern Apartments is located in Mukacheve. Guests staying at this apartment have access to free WiFi.\r\nThe apartment includes 1 bedroom and a kitchen with a fridge and a kettle. A flat-screen TV with cable channels is featured.\r\n\r\nPolyana is 28 km from the apartment, while Uzhhorod is 37 km away. \r\n\r\nCouples particularly like the location — they rated it 9.1 for a two-person trip.\r\n\r\nThis property is also rated for the best value in Mukacheve! Guests are getting more for their money when compared to other properties in this city.\r\n\r\nModern Apartments has been welcoming FlatBooking guests since 30 Sept 2017.", "capacity"=>"2", "price"=>"24"}, "commit"=>"Save", "id"=>"2"}
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:50
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/flats_controller.rb:31
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:31
  [1m[36mFlat Update (0.5ms)[0m  [1m[33mUPDATE "flats" SET "price" = $1, "updated_at" = $2 WHERE "flats"."id" = $3[0m  [["price", 24], ["updated_at", "2018-08-01 14:34:21.828853"], ["id", 2]]
  ↳ app/controllers/flats_controller.rb:31
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/flats_controller.rb:31
Redirected to http://localhost:3000/flats/2
Completed 302 Found in 19ms (ActiveRecord: 4.1ms)


Started GET "/flats/2" for 127.0.0.1 at 2018-08-01 17:34:21 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:50
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (10.1ms)
  Rendered flats/show.html.erb within layouts/application (21.4ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:65
Completed 200 OK in 342ms (Views: 337.8ms | ActiveRecord: 1.4ms)


Started GET "/" for 127.0.0.1 at 2018-08-01 17:34:24 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [2 times] (17.7ms)
  Rendered flats/index.html.erb within layouts/application (28.7ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:65
Completed 200 OK in 253ms (Views: 249.7ms | ActiveRecord: 1.4ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-01 17:35:08 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (3.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:50
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (2.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (2.7ms)
  Rendered flats/show.html.erb within layouts/application (14.6ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:65
Completed 200 OK in 258ms (Views: 244.3ms | ActiveRecord: 6.6ms)


Started POST "/bookings" for 127.0.0.1 at 2018-08-01 17:35:24 +0300
  
AbstractController::ActionNotFound (The action 'create' could not be found for BookingsController):
  
actionpack (5.2.0) lib/abstract_controller/base.rb:129:in `process'
actionview (5.2.0) lib/action_view/rendering.rb:32:in `process'
actionpack (5.2.0) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (5.2.0) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (5.2.0) lib/action_dispatch/routing/route_set.rb:52:in `dispatch'
actionpack (5.2.0) lib/action_dispatch/routing/route_set.rb:34:in `serve'
actionpack (5.2.0) lib/action_dispatch/journey/router.rb:52:in `block in serve'
actionpack (5.2.0) lib/action_dispatch/journey/router.rb:35:in `each'
actionpack (5.2.0) lib/action_dispatch/journey/router.rb:35:in `serve'
actionpack (5.2.0) lib/action_dispatch/routing/route_set.rb:840:in `call'
warden (1.2.7) lib/warden/manager.rb:36:in `block in call'
warden (1.2.7) lib/warden/manager.rb:35:in `catch'
warden (1.2.7) lib/warden/manager.rb:35:in `call'
rack (2.0.5) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.0.5) lib/rack/etag.rb:25:in `call'
rack (2.0.5) lib/rack/conditional_get.rb:38:in `call'
rack (2.0.5) lib/rack/head.rb:12:in `call'
actionpack (5.2.0) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.0.5) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.5) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/cookies.rb:670:in `call'
activerecord (5.2.0) lib/active_record/migration.rb:559:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
activesupport (5.2.0) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (5.2.0) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:61:in `call'
web-console (3.6.2) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.6.2) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `catch'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.0) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/bookings" for 127.0.0.1 at 2018-08-01 17:41:22 +0300
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"xw4Ml8OL1hXadS4acqXHcxhH2bCziEI8Wba2TVjFID+zWWAxeqpsW5ISKvh6OeOysDcodj8BowJtCIik+JbH6g==", "booking"=>{"notice"=>"ff"}, "start"=>"08/22/2018", "end"=>"08/22/2018", "commit"=>"Book this flat"}
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:12
Completed 500 Internal Server Error in 503ms (ActiveRecord: 19.3ms)


  
NameError (undefined local variable or method `booking_params' for #<BookingsController:0x00005568f6bed908>
Did you mean?  booking_path):
  
app/controllers/bookings_controller.rb:12:in `create'
Started POST "/bookings" for 127.0.0.1 at 2018-08-01 17:41:47 +0300
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"xw4Ml8OL1hXadS4acqXHcxhH2bCziEI8Wba2TVjFID+zWWAxeqpsW5ISKvh6OeOysDcodj8BowJtCIik+JbH6g==", "booking"=>{"notice"=>"ff"}, "start"=>"08/22/2018", "end"=>"08/22/2018", "commit"=>"Book this flat"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:12
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/bookings_controller.rb:14
  [1m[36mBooking Create (0.7ms)[0m  [1m[32mINSERT INTO "bookings" ("user_id", "created_at", "updated_at", "notice") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 1], ["created_at", "2018-08-01 14:41:47.947473"], ["updated_at", "2018-08-01 14:41:47.947473"], ["notice", "ff"]]
  ↳ app/controllers/bookings_controller.rb:14
  [1m[35m (3.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/bookings_controller.rb:14
Redirected to http://localhost:3000/bookings/1
Completed 302 Found in 67ms (ActiveRecord: 10.6ms)


Started GET "/bookings/1" for 127.0.0.1 at 2018-08-01 17:41:47 +0300
Processing by BookingsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:29
  Rendering bookings/show.html.erb within layouts/application
  Rendered bookings/show.html.erb within layouts/application (0.3ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:65
Completed 200 OK in 453ms (Views: 449.0ms | ActiveRecord: 0.9ms)


  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/bookings/1" for 127.0.0.1 at 2018-08-01 17:55:31 +0300
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by BookingsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBooking Load (0.4ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:34
  Rendering bookings/show.html.erb within layouts/application
  Rendered bookings/show.html.erb within layouts/application (0.7ms)
Completed 500 Internal Server Error in 1277ms (ActiveRecord: 11.2ms)


  
ActionView::Template::Error (couldn't find file 'bootstrap' with type 'text/css'
Checked in these paths: 
  /home/york/Документы/Projects/FlatBooking/app/assets/config
  /home/york/Документы/Projects/FlatBooking/app/assets/images
  /home/york/Документы/Projects/FlatBooking/app/assets/javascripts
  /home/york/Документы/Projects/FlatBooking/app/assets/stylesheets
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-daterangepicker-rails-3.0.3/vendor/assets/javascripts
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-daterangepicker-rails-3.0.3/vendor/assets/stylesheets
  /home/york/.rvm/gems/ruby-2.5.1/gems/momentjs-rails-2.20.1/vendor/assets/javascripts
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-datepicker-rails-1.8.0.1/vendor/assets/javascripts
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-datepicker-rails-1.8.0.1/vendor/assets/stylesheets
  /home/york/.rvm/gems/ruby-2.5.1/gems/jquery-rails-4.3.3/vendor/assets/javascripts
  /home/york/.rvm/gems/ruby-2.5.1/gems/coffee-rails-4.2.2/lib/assets/javascripts
  /home/york/.rvm/gems/ruby-2.5.1/gems/actioncable-5.2.0/lib/assets/compiled
  /home/york/.rvm/gems/ruby-2.5.1/gems/activestorage-5.2.0/app/assets/javascripts
  /home/york/.rvm/gems/ruby-2.5.1/gems/actionview-5.2.0/lib/assets/compiled
  /home/york/.rvm/gems/ruby-2.5.1/gems/turbolinks-source-5.1.0/lib/assets/javascripts
  /home/york/Документы/Projects/FlatBooking/node_modules
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-sass-3.3.7/assets/stylesheets
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-sass-3.3.7/assets/javascripts
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-sass-3.3.7/assets/fonts
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-sass-3.3.7/assets/images):
    1: <!DOCTYPE html>
    2: <html>
    3:   <head>
    4:     <%= favicon_link_tag %>
    5:     <title>FlatBooking</title>
    6:     <%= csrf_meta_tags %>
    7:     <%= csp_meta_tag %>
  
app/assets/stylesheets/application.scss:16
app/views/layouts/application.html.erb:4:in `_app_views_layouts_application_html_erb___2349207500388786576_46958966643560'
Started GET "/bookings/1" for 127.0.0.1 at 2018-08-01 17:55:55 +0300
Processing by BookingsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBooking Load (0.4ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:34
  Rendering bookings/show.html.erb within layouts/application
  Rendered bookings/show.html.erb within layouts/application (0.5ms)
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:65
Completed 200 OK in 2858ms (Views: 2848.7ms | ActiveRecord: 7.0ms)


Started GET "/" for 127.0.0.1 at 2018-08-01 17:55:59 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (4.8ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [2 times] (22.0ms)
  Rendered flats/index.html.erb within layouts/application (88.5ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:65
Completed 200 OK in 315ms (Views: 274.1ms | ActiveRecord: 30.1ms)


Started GET "/" for 127.0.0.1 at 2018-08-01 17:57:24 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.8ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [2 times] (25.1ms)
  Rendered flats/index.html.erb within layouts/application (49.8ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:65
Completed 200 OK in 533ms (Views: 524.0ms | ActiveRecord: 2.9ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-01 17:57:26 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.9ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:50
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (4.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (259.4ms)
  Rendered flats/show.html.erb within layouts/application (291.0ms)
Completed 500 Internal Server Error in 307ms (ActiveRecord: 5.2ms)


  
ActionView::Template::Error (undefined method `input' for #<ActionView::Helpers::FormBuilder:0x00007f1284b77828>):
    22:     <input type="text" class="form-control datepicker" data-provide='datepicker' name="end" />
    23:   </div>
    24: 
    25:   <%= form.input :field_name, input_html: { class: "daterange" }, as: :string %>
    26:   <script type="text/javascript">
    27: $(document).ready(function() {
    28:   $('input[class="daterange"]').daterangepicker();
  
app/views/flats/_booking.html.erb:25:in `block in _app_views_flats__booking_html_erb__4450410324359882519_69858756387740'
app/views/flats/_booking.html.erb:1:in `_app_views_flats__booking_html_erb__4450410324359882519_69858756387740'
app/views/flats/show.html.erb:29:in `_app_views_flats_show_html_erb___899163092110551463_69858756606420'
Started GET "/flats/1" for 127.0.0.1 at 2018-08-01 17:58:40 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (1.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:50
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (2.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (47.4ms)
  Rendered flats/show.html.erb within layouts/application (77.4ms)
Completed 500 Internal Server Error in 100ms (ActiveRecord: 4.0ms)


  
ActionView::Template::Error (undefined method `field_name' for #<Booking:0x00007f128498ba00>):
    22:     <input type="text" class="form-control datepicker" data-provide='datepicker' name="end" />
    23:   </div>
    24: 
    25:   <%= form.text_area :field_name, input_html: { class: "daterange" }, as: :string %>
    26:   <script type="text/javascript">
    27: $(document).ready(function() {
    28:   $('input[class="daterange"]').daterangepicker();
  
app/views/flats/_booking.html.erb:25:in `block in _app_views_flats__booking_html_erb__4450410324359882519_69858755280260'
app/views/flats/_booking.html.erb:1:in `_app_views_flats__booking_html_erb__4450410324359882519_69858755280260'
app/views/flats/show.html.erb:29:in `_app_views_flats_show_html_erb___899163092110551463_69858755367700'
Started GET "/flats/1" for 127.0.0.1 at 2018-08-01 17:58:52 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:50
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (2.4ms)
  Rendered flats/show.html.erb within layouts/application (29.3ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:65
Completed 200 OK in 679ms (Views: 673.6ms | ActiveRecord: 3.0ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-01 18:00:57 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (1.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:50
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (5.2ms)
  Rendered flats/show.html.erb within layouts/application (31.1ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:65
Completed 200 OK in 603ms (Views: 589.8ms | ActiveRecord: 2.6ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-01 18:01:33 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (1.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:50
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (4.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (8.4ms)
  Rendered flats/show.html.erb within layouts/application (34.4ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:65
Completed 200 OK in 577ms (Views: 563.4ms | ActiveRecord: 6.5ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-01 18:02:44 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.9ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:50
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (8.8ms)
  Rendered flats/show.html.erb within layouts/application (36.7ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:65
Completed 200 OK in 510ms (Views: 500.8ms | ActiveRecord: 2.9ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-01 18:03:46 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:50
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (5.3ms)
  Rendered flats/show.html.erb within layouts/application (28.4ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:65
Completed 200 OK in 742ms (Views: 735.8ms | ActiveRecord: 2.1ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-01 18:04:56 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:50
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (14.2ms)
  Rendered flats/show.html.erb within layouts/application (39.7ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:70
Completed 200 OK in 510ms (Views: 497.8ms | ActiveRecord: 1.9ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-01 18:05:41 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:50
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (2.1ms)
  Rendered flats/show.html.erb within layouts/application (12.9ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:70
Completed 200 OK in 564ms (Views: 560.4ms | ActiveRecord: 1.1ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-01 18:05:48 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:50
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (11.9ms)
  Rendered flats/show.html.erb within layouts/application (36.2ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:70
Completed 200 OK in 502ms (Views: 491.1ms | ActiveRecord: 1.8ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-01 18:06:24 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:50
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (2.4ms)
  Rendered flats/show.html.erb within layouts/application (16.7ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:70
Completed 200 OK in 599ms (Views: 594.8ms | ActiveRecord: 1.4ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-01 18:07:12 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:50
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (2.2ms)
  Rendered flats/show.html.erb within layouts/application (18.8ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:70
Completed 200 OK in 597ms (Views: 590.7ms | ActiveRecord: 1.3ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-01 18:07:22 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:50
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (3.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (5.1ms)
  Rendered flats/show.html.erb within layouts/application (22.6ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:70
Completed 200 OK in 563ms (Views: 555.4ms | ActiveRecord: 4.0ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-01 18:07:53 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (1.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:50
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (10.6ms)
  Rendered flats/show.html.erb within layouts/application (22.7ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:70
Completed 200 OK in 574ms (Views: 568.5ms | ActiveRecord: 2.0ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-01 18:07:58 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:50
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (2.6ms)
  Rendered flats/show.html.erb within layouts/application (20.6ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:70
Completed 200 OK in 582ms (Views: 573.5ms | ActiveRecord: 2.4ms)


Started POST "/bookings" for 127.0.0.1 at 2018-08-01 18:10:59 +0300
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"+Pllyp9IkqGvruSR0QTEDxh+S6ezIeJxFchM6M9sQ0CMrglsJmko7+fJ4HPZmODOsA66YT+oA08hdnIBbz+klQ==", "booking"=>{"notice"=>"no dogs", "date"=>"08/07/2018 - 08/09/2018"}, "commit"=>"Book this flat"}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:12
Completed 500 Internal Server Error in 102ms (ActiveRecord: 11.7ms)


  
ArgumentError (bad value for range):
  
app/controllers/bookings_controller.rb:12:in `create'
Started GET "/" for 127.0.0.1 at 2018-08-02 18:46:14 +0300
  [1m[35m (1.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.4ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (2.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [2 times] (790.4ms)
  Rendered flats/index.html.erb within layouts/application (848.4ms)
Completed 200 OK in 1313ms (Views: 1268.8ms | ActiveRecord: 16.2ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-02 18:46:25 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:50
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (22.0ms)
  Rendered flats/show.html.erb within layouts/application (34.3ms)
Completed 200 OK in 364ms (Views: 327.6ms | ActiveRecord: 8.5ms)


Started POST "/bookings" for 127.0.0.1 at 2018-08-02 18:46:55 +0300
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"7z7R6d/MwlGBPSpJ1dDh36MyQBAvKjPfvBGS6x7AV1s5aeMfCThk3mf9nF9gb6wxne+8f98tKfqStnGdodKfQQ==", "booking"=>{"notice"=>"", "date"=>"08/01/2018 - 08/02/2018"}, "commit"=>"Book this flat"}
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `bookings' for nil:NilClass):
  
app/controllers/bookings_controller.rb:12:in `create'
Started GET "/users/sign_in" for 127.0.0.1 at 2018-08-02 18:47:26 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.9ms)
  Rendered devise/sessions/new.html.erb within layouts/application (13.3ms)
Completed 200 OK in 301ms (Views: 297.5ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-08-02 18:47:37 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"41B8w6E+CpYtzz2ay93Mw2X/kenYbwcKYCEIiCFth9jiuW8Esly0DzzKsgONlZTxu9Mt6paT0tlv3xRYL4TX0g==", "user"=>{"email"=>"Tork@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "tork@gmail.com"], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = $1, "sign_in_count" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["current_sign_in_at", "2018-08-02 15:47:37.340472"], ["sign_in_count", 2], ["updated_at", "2018-08-02 15:47:37.343451"], ["id", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 308ms (ActiveRecord: 4.0ms)


Started GET "/" for 127.0.0.1 at 2018-08-02 18:47:37 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [2 times] (11.9ms)
  Rendered flats/index.html.erb within layouts/application (19.5ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:70
Completed 200 OK in 341ms (Views: 337.0ms | ActiveRecord: 1.9ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-02 18:47:41 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:50
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (3.4ms)
  Rendered flats/show.html.erb within layouts/application (15.5ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:70
Completed 200 OK in 332ms (Views: 326.3ms | ActiveRecord: 2.0ms)


Started POST "/bookings" for 127.0.0.1 at 2018-08-02 18:47:45 +0300
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"jnthkCkNycWrZ1LUPFSXMkZGKnW9agCeK/EXYOwPksog7gs6/siR9Dm9AXdBsTLoGl1T9HUx3Gd19JNMk6JAzA==", "booking"=>{"notice"=>"", "date"=>"08/02/2018 - 08/02/2018"}, "commit"=>"Book this flat"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:12
Completed 500 Internal Server Error in 17ms (ActiveRecord: 0.9ms)


  
ArgumentError (bad value for range):
  
app/controllers/bookings_controller.rb:12:in `create'
Started POST "/bookings" for 127.0.0.1 at 2018-08-02 20:04:30 +0300
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"3wSSeQUYaIPCo2REEPr8A2qUvf4C3u2e+H9VV62uHTsvPP15vVe4PuA26qS+cxkVMjxTzdXZ7DbY0e460hxCKg==", "booking"=>{"notice"=>"", "date"=>"08/02/2018 - 08/02/2018"}, "commit"=>"Book this flat"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:12
Completed 500 Internal Server Error in 26ms (ActiveRecord: 6.3ms)


  
ArgumentError (Unknown type :daterange):
  
app/controllers/bookings_controller.rb:12:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(8115692404137957555)[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
Migrating to AddStartEndDate (20180802171158)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (2.3ms)[0m  [1m[35mALTER TABLE "bookings" ADD "start_date" date[0m
  ↳ db/migrate/20180802171158_add_start_end_date.rb:3
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "bookings" ADD "end_date" date[0m
  ↳ db/migrate/20180802171158_add_start_end_date.rb:4
  [1m[35m (2.0ms)[0m  [1m[35mALTER TABLE "bookings" DROP COLUMN "date"[0m
  ↳ db/migrate/20180802171158_add_start_end_date.rb:5
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20180802171158"]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[36mActiveRecord::InternalMetadata Load (1.0ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(8115692404137957555)[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
Started POST "/bookings" for 127.0.0.1 at 2018-08-02 20:16:56 +0300
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"3wSSeQUYaIPCo2REEPr8A2qUvf4C3u2e+H9VV62uHTsvPP15vVe4PuA26qS+cxkVMjxTzdXZ7DbY0e460hxCKg==", "booking"=>{"notice"=>"", "date"=>"08/02/2018 - 08/03/2018"}, "commit"=>"Book this flat"}
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:12
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/bookings_controller.rb:14
  [1m[36mBooking Create (2.9ms)[0m  [1m[32mINSERT INTO "bookings" ("user_id", "created_at", "updated_at", "notice", "start_date", "end_date") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 1], ["created_at", "2018-08-02 17:16:56.623253"], ["updated_at", "2018-08-02 17:16:56.623253"], ["notice", ""], ["start_date", "2018-02-08"], ["end_date", "2018-03-08"]]
  ↳ app/controllers/bookings_controller.rb:14
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/bookings_controller.rb:14
Redirected to http://localhost:3000/bookings/2
Completed 302 Found in 38ms (ActiveRecord: 13.1ms)


Started GET "/bookings/2" for 127.0.0.1 at 2018-08-02 20:16:56 +0300
Processing by BookingsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:34
  Rendering bookings/show.html.erb within layouts/application
  Rendered bookings/show.html.erb within layouts/application (0.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:70
Completed 200 OK in 206ms (Views: 203.6ms | ActiveRecord: 0.6ms)


  [1m[36mBooking Load (0.4ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBooking Load (0.8ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" LIMIT $1[0m  [["LIMIT", 11]]
Started GET "/" for 127.0.0.1 at 2018-08-02 20:20:08 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.8ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [2 times] (14.5ms)
  Rendered flats/index.html.erb within layouts/application (63.8ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:70
Completed 200 OK in 246ms (Views: 222.7ms | ActiveRecord: 10.4ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-02 20:20:10 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:50
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (2.0ms)
  Rendered flats/show.html.erb within layouts/application (9.8ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:70
Completed 200 OK in 196ms (Views: 192.2ms | ActiveRecord: 1.1ms)


Started GET "/" for 127.0.0.1 at 2018-08-02 20:20:27 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.5ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [2 times] (35.7ms)
  Rendered flats/index.html.erb within layouts/application (56.9ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:70
Completed 200 OK in 282ms (Views: 268.6ms | ActiveRecord: 3.0ms)


Started GET "/users/1" for 127.0.0.1 at 2018-08-02 20:20:29 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:3
  Rendering users/show.html.erb within layouts/application
  [1m[35m (2.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:17
  [1m[36mFlat Load (1.3ms)[0m  [1m[34mSELECT "flats".* FROM "flats" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:43
  Rendered collection of flats/_flat.html.erb [2 times] (17.9ms)
  Rendered users/show.html.erb within layouts/application (40.1ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:70
Completed 200 OK in 269ms (Views: 257.1ms | ActiveRecord: 5.2ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-02 20:20:32 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (1.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:50
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (7.8ms)
  Rendered flats/show.html.erb within layouts/application (29.6ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:70
Completed 200 OK in 260ms (Views: 249.6ms | ActiveRecord: 2.8ms)


Started GET "/" for 127.0.0.1 at 2018-08-02 20:20:38 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.9ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [2 times] (20.2ms)
  Rendered flats/index.html.erb within layouts/application (37.0ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:70
Completed 200 OK in 285ms (Views: 278.1ms | ActiveRecord: 3.5ms)


Started GET "/flats/2" for 127.0.0.1 at 2018-08-02 20:20:41 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mFlat Load (0.9ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:50
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (6.4ms)
  Rendered flats/show.html.erb within layouts/application (24.7ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:70
Completed 200 OK in 238ms (Views: 229.8ms | ActiveRecord: 2.4ms)


Started GET "/" for 127.0.0.1 at 2018-08-03 12:49:42 +0300
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.1ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [2 times] (332.4ms)
  Rendered flats/index.html.erb within layouts/application (367.7ms)
Completed 200 OK in 655ms (Views: 628.1ms | ActiveRecord: 11.1ms)


Started GET "/flats?utf8=%E2%9C%93&q%5Bcity_cont%5D=+Mukacheve&q%5Bcapacity_eq%5D=&q%5Bprice_gteq%5D=&q%5Bprice_lteq%5D=&commit=Search" for 127.0.0.1 at 2018-08-03 12:50:12 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "q"=>{"city_cont"=>" Mukacheve", "capacity_eq"=>"", "price_gteq"=>"", "price_lteq"=>""}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.6ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" WHERE "flats"."city" ILIKE '% Mukacheve%' LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  Rendered collection of templates [0 times] (0.0ms)
  Rendered flats/index.html.erb within layouts/application (15.1ms)
Completed 200 OK in 373ms (Views: 363.9ms | ActiveRecord: 1.6ms)


Started GET "/flats?utf8=%E2%9C%93&q%5Bcity_cont%5D=Mukacheve&q%5Bcapacity_eq%5D=&q%5Bprice_gteq%5D=&q%5Bprice_lteq%5D=&commit=Search" for 127.0.0.1 at 2018-08-03 12:50:22 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "q"=>{"city_cont"=>"Mukacheve", "capacity_eq"=>"", "price_gteq"=>"", "price_lteq"=>""}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.5ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" WHERE "flats"."city" ILIKE '%Mukacheve%' LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (2.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [1 times] (17.4ms)
  Rendered flats/index.html.erb within layouts/application (36.0ms)
Completed 200 OK in 344ms (Views: 333.2ms | ActiveRecord: 4.0ms)


Started GET "/" for 127.0.0.1 at 2018-08-03 12:50:28 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.7ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [2 times] (19.0ms)
  Rendered flats/index.html.erb within layouts/application (35.3ms)
Completed 200 OK in 242ms (Views: 232.6ms | ActiveRecord: 2.4ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-03 12:51:02 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:50
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (10.1ms)
  Rendered flats/show.html.erb within layouts/application (20.1ms)
Completed 200 OK in 239ms (Views: 191.4ms | ActiveRecord: 4.8ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-03 12:54:49 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (1.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:50
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (6.1ms)
  Rendered flats/show.html.erb within layouts/application (24.8ms)
Completed 200 OK in 497ms (Views: 486.1ms | ActiveRecord: 2.1ms)


Started GET "/" for 127.0.0.1 at 2018-08-03 12:54:51 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [2 times] (10.8ms)
  Rendered flats/index.html.erb within layouts/application (18.2ms)
Completed 200 OK in 190ms (Views: 186.3ms | ActiveRecord: 1.0ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-03 12:54:53 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:50
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (1.9ms)
  Rendered flats/show.html.erb within layouts/application (8.2ms)
Completed 200 OK in 207ms (Views: 202.3ms | ActiveRecord: 0.8ms)


Started GET "/" for 127.0.0.1 at 2018-08-03 12:55:47 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [2 times] (22.7ms)
  Rendered flats/index.html.erb within layouts/application (46.2ms)
Completed 200 OK in 215ms (Views: 203.3ms | ActiveRecord: 6.2ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-03 12:55:48 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (1.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:50
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (23.3ms)
  Rendered flats/show.html.erb within layouts/application (34.1ms)
Completed 500 Internal Server Error in 108ms (ActiveRecord: 15.2ms)


  
ActionView::Template::Error (undefined method `date' for #<Booking:0x00007f3e2e212ac8>
Did you mean?  date=):
    18: 
    19:   <div class="field form-group">
    20:     <%= form.label :date %>
    21:     <%= form.text_field :date, class: "daterange form-control" %>
    22:   </div>
    23: 
    24:   <script type="text/javascript">
  
app/views/flats/_booking.html.erb:21:in `block in _app_views_flats__booking_html_erb___1474004076479341817_69952519075780'
app/views/flats/_booking.html.erb:1:in `_app_views_flats__booking_html_erb___1474004076479341817_69952519075780'
app/views/flats/show.html.erb:29:in `_app_views_flats_show_html_erb___4438472753157356314_69952519195960'
Started GET "/flats/1" for 127.0.0.1 at 2018-08-03 12:56:24 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (1.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:50
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (5.7ms)
  Rendered flats/show.html.erb within layouts/application (68.3ms)
Completed 200 OK in 550ms (Views: 450.8ms | ActiveRecord: 22.7ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-03 12:57:25 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:50
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (4.8ms)
  Rendered flats/show.html.erb within layouts/application (19.5ms)
Completed 200 OK in 429ms (Views: 424.8ms | ActiveRecord: 0.8ms)


Started GET "/" for 127.0.0.1 at 2018-08-03 12:57:43 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.4ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [2 times] (12.4ms)
  Rendered flats/index.html.erb within layouts/application (25.2ms)
Completed 200 OK in 236ms (Views: 229.4ms | ActiveRecord: 2.8ms)


Started GET "/flats/2" for 127.0.0.1 at 2018-08-03 12:57:45 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mFlat Load (2.9ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:50
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (6.6ms)
  Rendered flats/show.html.erb within layouts/application (29.2ms)
Completed 200 OK in 269ms (Views: 256.3ms | ActiveRecord: 4.7ms)


Started POST "/bookings" for 127.0.0.1 at 2018-08-03 12:57:52 +0300
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"1UEO4pdMthOrfuVXM67KVmcPrSEMsU2CE0cXfy+nfXNX2G65/KHKiSonc1eOUx4oLI1F3G5iKSOjeKle4pd/Zw==", "booking"=>{"notice"=>"", "date"=>"08/10/2018 - 08/11/2018"}, "commit"=>"Book this flat"}
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `bookings' for nil:NilClass):
  
app/controllers/bookings_controller.rb:12:in `create'
Started GET "/" for 127.0.0.1 at 2018-08-03 12:57:57 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.2ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [2 times] (21.6ms)
  Rendered flats/index.html.erb within layouts/application (38.5ms)
Completed 200 OK in 255ms (Views: 249.5ms | ActiveRecord: 2.0ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-03 12:57:59 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.9ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:50
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (4.8ms)
  Rendered flats/show.html.erb within layouts/application (18.3ms)
Completed 200 OK in 237ms (Views: 230.0ms | ActiveRecord: 1.4ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-03 12:59:47 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:50
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (4.2ms)
  Rendered flats/show.html.erb within layouts/application (19.5ms)
Completed 200 OK in 467ms (Views: 463.6ms | ActiveRecord: 0.7ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2018-08-03 13:02:52 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.0ms)
  Rendered devise/sessions/new.html.erb within layouts/application (7.3ms)
Completed 200 OK in 268ms (Views: 250.9ms | ActiveRecord: 3.2ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-08-03 13:03:00 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"3vPutSsCfXuWWTqLe4/waTvYux5FoV8gacUaJ61yn6UQXWg7+6d4voaNX+Fygdv/7P9Y1ym3PSyjvd7V61VSZw==", "user"=>{"email"=>"Tork@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "tork@gmail.com"], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = $1, "last_sign_in_at" = $2, "sign_in_count" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["current_sign_in_at", "2018-08-03 10:03:00.329001"], ["last_sign_in_at", "2018-08-02 15:47:37.340472"], ["sign_in_count", 3], ["updated_at", "2018-08-03 10:03:00.330300"], ["id", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 193ms (ActiveRecord: 4.7ms)


Started GET "/" for 127.0.0.1 at 2018-08-03 13:03:00 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [2 times] (7.8ms)
  Rendered flats/index.html.erb within layouts/application (32.4ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:70
Completed 200 OK in 320ms (Views: 309.6ms | ActiveRecord: 3.7ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-03 13:03:06 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (1.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:50
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (4.9ms)
  Rendered flats/show.html.erb within layouts/application (16.7ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:70
Completed 200 OK in 195ms (Views: 169.7ms | ActiveRecord: 8.3ms)


Started POST "/bookings" for 127.0.0.1 at 2018-08-03 13:03:09 +0300
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"nnHBzId2Gt4UiZZwWWB4OYxInThmuOi/6I9dHiwhEvnJje1UuM43YFa/p48/JUonvGoltBU8OMslaapEhNwkKA==", "booking"=>{"notice"=>"", "date"=>"08/03/2018 - 08/03/2018"}, "commit"=>"Book this flat"}
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:12
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/bookings_controller.rb:15
  [1m[36mBooking Create (3.3ms)[0m  [1m[32mINSERT INTO "bookings" ("user_id", "created_at", "updated_at", "notice", "start_date", "end_date") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 1], ["created_at", "2018-08-03 10:03:09.149672"], ["updated_at", "2018-08-03 10:03:09.149672"], ["notice", ""], ["start_date", "2018-03-08"], ["end_date", "2018-03-08"]]
  ↳ app/controllers/bookings_controller.rb:15
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/bookings_controller.rb:15
Redirected to http://localhost:3000/bookings/3
Completed 302 Found in 53ms (ActiveRecord: 7.6ms)


Started GET "/bookings/3" for 127.0.0.1 at 2018-08-03 13:03:09 +0300
Processing by BookingsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mBooking Load (0.5ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:35
  Rendering bookings/show.html.erb within layouts/application
  Rendered bookings/show.html.erb within layouts/application (0.4ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:70
Completed 200 OK in 251ms (Views: 245.0ms | ActiveRecord: 0.9ms)


Started POST "/bookings" for 127.0.0.1 at 2018-08-03 13:03:37 +0300
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"xEdLs0stQCcERKYT4pBXkxvEC49+InCDn0gj+gRKI08o1sZbNjJh5xvL6X70Mv7FnaMdHm3U7k7M38Qp+WKABw==", "booking"=>{"notice"=>"Have 7 dogs", "date"=>"08/09/2018 - 08/10/2018"}, "commit"=>"Book this flat"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:12
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/bookings_controller.rb:15
  [1m[36mBooking Create (0.5ms)[0m  [1m[32mINSERT INTO "bookings" ("user_id", "created_at", "updated_at", "notice", "start_date", "end_date") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 1], ["created_at", "2018-08-03 10:03:37.925082"], ["updated_at", "2018-08-03 10:03:37.925082"], ["notice", "Have 7 dogs"], ["start_date", "2018-09-08"], ["end_date", "2018-10-08"]]
  ↳ app/controllers/bookings_controller.rb:15
  [1m[35m (2.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/bookings_controller.rb:15
Redirected to http://localhost:3000/bookings/4
Completed 302 Found in 19ms (ActiveRecord: 4.1ms)


Started GET "/bookings/4" for 127.0.0.1 at 2018-08-03 13:03:37 +0300
Processing by BookingsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mBooking Load (0.5ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:35
  Rendering bookings/show.html.erb within layouts/application
  Rendered bookings/show.html.erb within layouts/application (0.5ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:70
Completed 200 OK in 235ms (Views: 230.6ms | ActiveRecord: 1.0ms)


  [1m[36mBooking Load (0.4ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" LIMIT $1[0m  [["LIMIT", 11]]
Started GET "/" for 127.0.0.1 at 2018-08-03 13:07:27 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [2 times] (20.0ms)
  Rendered flats/index.html.erb within layouts/application (40.7ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:70
Completed 200 OK in 252ms (Views: 240.4ms | ActiveRecord: 6.5ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-03 13:07:29 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:50
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (217.5ms)
  Rendered flats/show.html.erb within layouts/application (238.0ms)
Completed 500 Internal Server Error in 308ms (ActiveRecord: 16.3ms)


  
ActionView::Template::Error (undefined method `bookings_path' for #<#<Class:0x00007f3e2e11d230>:0x00007f3e2ef4b730>):
    1: <%= form_for @booking do |form| %>
    2:   <% if booking.errors.any? %>
    3:     <div id="error_explanation" class="alert alert-danger">
    4:       <h5>Errors</h5>
  
app/views/flats/_booking.html.erb:1:in `_app_views_flats__booking_html_erb___1474004076479341817_69952526122880'
app/views/flats/show.html.erb:29:in `_app_views_flats_show_html_erb___4438472753157356314_69952526258240'
Started GET "/flats/1" for 127.0.0.1 at 2018-08-03 13:09:20 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:50
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (47.4ms)
  Rendered flats/show.html.erb within layouts/application (57.1ms)
Completed 500 Internal Server Error in 67ms (ActiveRecord: 0.7ms)


  
ActionView::Template::Error (undefined method `booking' for #<Flat:0x000055b7cbb807a8>
Did you mean?  bookings
               bookings=):
    1: <%= form_for @flat.booking do |form| %>
    2:   <% if booking.errors.any? %>
    3:     <div id="error_explanation" class="alert alert-danger">
    4:       <h5>Errors</h5>
  
app/views/flats/_booking.html.erb:1:in `_app_views_flats__booking_html_erb___1474004076479341817_47123948524020'
app/views/flats/show.html.erb:29:in `_app_views_flats_show_html_erb___4438472753157356314_47123942716220'
Started GET "/flats/1" for 127.0.0.1 at 2018-08-03 13:09:28 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:50
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mBooking Load (0.5ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 11]]
  ↳ /home/york/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:8
  Rendered flats/_booking.html.erb (31.1ms)
  Rendered flats/show.html.erb within layouts/application (46.0ms)
Completed 500 Internal Server Error in 54ms (ActiveRecord: 1.3ms)


  
ActionView::Template::Error (undefined method `to_key' for #<ActiveRecord::Associations::CollectionProxy []>
Did you mean?  to_set
               to_ary):
    1: <%= form_for @flat.bookings do |form| %>
    2:   <% if booking.errors.any? %>
    3:     <div id="error_explanation" class="alert alert-danger">
    4:       <h5>Errors</h5>
  
app/views/flats/_booking.html.erb:1:in `_app_views_flats__booking_html_erb___1474004076479341817_69952516040360'
app/views/flats/show.html.erb:29:in `_app_views_flats_show_html_erb___4438472753157356314_69952515448140'
Started GET "/flats/1" for 127.0.0.1 at 2018-08-03 13:11:10 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:50
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (3.0ms)
  Rendered flats/show.html.erb within layouts/application (18.2ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:70
Completed 200 OK in 456ms (Views: 442.4ms | ActiveRecord: 2.6ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-03 13:13:06 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (1.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:49
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (40.4ms)
  Rendered flats/show.html.erb within layouts/application (94.9ms)
Completed 500 Internal Server Error in 146ms (ActiveRecord: 19.9ms)


  
ActionView::Template::Error (undefined method `errors' for nil:NilClass):
    1: <%= form_for [@flat, Booking.new] do |form| %>
    2:   <% if booking.errors.any? %>
    3:     <div id="error_explanation" class="alert alert-danger">
    4:       <h5>Errors</h5>
    5: 
  
app/views/flats/_booking.html.erb:2:in `block in _app_views_flats__booking_html_erb___1474004076479341817_47123932453780'
app/views/flats/_booking.html.erb:1:in `_app_views_flats__booking_html_erb___1474004076479341817_47123932453780'
app/views/flats/show.html.erb:29:in `_app_views_flats_show_html_erb___4438472753157356314_47123950566220'
Started GET "/flats/1" for 127.0.0.1 at 2018-08-03 13:19:42 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (1.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:49
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (3.2ms)
  Rendered flats/show.html.erb within layouts/application (20.7ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:70
Completed 200 OK in 368ms (Views: 361.9ms | ActiveRecord: 2.5ms)


Started POST "/flats/1/bookings" for 127.0.0.1 at 2018-08-03 13:20:15 +0300
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"kTNt1a0C8gnVvePhXSdYgezy3LKVyWOU5ngaLtvj1ox9ouA90B3TycoyrIxLhfHXapXKI4Y//Vm17/39Jst1xA==", "booking"=>{"notice"=>"credit card", "date"=>"08/09/2018 - 08/10/2018"}, "commit"=>"Book this flat", "flat_id"=>"1"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:12
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/bookings_controller.rb:15
  [1m[36mBooking Create (0.8ms)[0m  [1m[32mINSERT INTO "bookings" ("user_id", "created_at", "updated_at", "notice", "start_date", "end_date") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 1], ["created_at", "2018-08-03 10:20:15.746300"], ["updated_at", "2018-08-03 10:20:15.746300"], ["notice", "credit card"], ["start_date", "2018-09-08"], ["end_date", "2018-10-08"]]
  ↳ app/controllers/bookings_controller.rb:15
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/bookings_controller.rb:15
Redirected to 
Completed 500 Internal Server Error in 343ms (ActiveRecord: 2.9ms)


  
NoMethodError (undefined method `booking_url' for #<BookingsController:0x00007f3e2ed5fdb8>
Did you mean?  booking_params):
  
app/controllers/bookings_controller.rb:16:in `create'
Started POST "/flats/1/bookings" for 127.0.0.1 at 2018-08-03 13:21:24 +0300
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"kTNt1a0C8gnVvePhXSdYgezy3LKVyWOU5ngaLtvj1ox9ouA90B3TycoyrIxLhfHXapXKI4Y//Vm17/39Jst1xA==", "booking"=>{"notice"=>"credit card", "date"=>"08/09/2018 - 08/10/2018"}, "commit"=>"Book this flat", "flat_id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:12
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/bookings_controller.rb:15
  [1m[36mBooking Create (0.4ms)[0m  [1m[32mINSERT INTO "bookings" ("user_id", "created_at", "updated_at", "notice", "start_date", "end_date") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 1], ["created_at", "2018-08-03 10:21:25.072576"], ["updated_at", "2018-08-03 10:21:25.072576"], ["notice", "credit card"], ["start_date", "2018-09-08"], ["end_date", "2018-10-08"]]
  ↳ app/controllers/bookings_controller.rb:15
  [1m[35m (3.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/bookings_controller.rb:15
Redirected to http://localhost:3000/
Completed 302 Found in 87ms (ActiveRecord: 19.5ms)


Started GET "/" for 127.0.0.1 at 2018-08-03 13:21:25 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.0ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [2 times] (11.6ms)
  Rendered flats/index.html.erb within layouts/application (45.5ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:70
Completed 200 OK in 347ms (Views: 333.4ms | ActiveRecord: 9.0ms)


  [1m[36mBooking Load (0.4ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" LIMIT $1[0m  [["LIMIT", 11]]
Started GET "/flats/1" for 127.0.0.1 at 2018-08-03 13:22:42 +0300
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (1.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:49
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (16.0ms)
  Rendered flats/show.html.erb within layouts/application (235.7ms)
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:70
Completed 200 OK in 854ms (Views: 793.5ms | ActiveRecord: 15.9ms)


Started POST "/flats/1/bookings" for 127.0.0.1 at 2018-08-03 13:22:56 +0300
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"vo4ATTfa9utzuDLQ5oexGtVuiv1+wUyp0IzvUy6PkmMqCSzsv4ojeRcAKo+2uh1ckabMY8kLpQ4E2geyOhMOgA==", "booking"=>{"notice"=>"", "date"=>"08/16/2018 - 08/17/2018"}, "commit"=>"Book this flat", "flat_id"=>"1"}
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:12
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/bookings_controller.rb:15
  [1m[36mBooking Create (1.2ms)[0m  [1m[32mINSERT INTO "bookings" ("user_id", "flat_id", "created_at", "updated_at", "notice") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 1], ["flat_id", 1], ["created_at", "2018-08-03 10:22:57.001920"], ["updated_at", "2018-08-03 10:22:57.001920"], ["notice", ""]]
  ↳ app/controllers/bookings_controller.rb:15
  [1m[35m (2.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/bookings_controller.rb:15
Redirected to http://localhost:3000/
Completed 302 Found in 39ms (ActiveRecord: 5.4ms)


Started GET "/" for 127.0.0.1 at 2018-08-03 13:22:57 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.3ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [2 times] (11.1ms)
  Rendered flats/index.html.erb within layouts/application (25.4ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:70
Completed 200 OK in 342ms (Views: 337.6ms | ActiveRecord: 2.1ms)


  [1m[36mBooking Load (0.5ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" LIMIT $1[0m  [["LIMIT", 11]]
Started GET "/flats/1" for 127.0.0.1 at 2018-08-03 13:23:31 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:49
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (6.2ms)
  Rendered flats/show.html.erb within layouts/application (14.7ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:70
Completed 200 OK in 230ms (Views: 224.6ms | ActiveRecord: 2.4ms)


Started POST "/flats/1/bookings" for 127.0.0.1 at 2018-08-03 13:23:55 +0300
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"rx5TX06Eb+W9QzV6uiLARDLEhZT7bX08JQeh+qJPYP87mX/+xtS6d9n7LSXqH2wCdgzDCkynlJvxUUkbttP8HA==", "booking"=>{"notice"=>"What food?", "date"=>"08/07/2018 - 08/08/2018"}, "commit"=>"Book this flat", "flat_id"=>"1"}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:12
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/bookings_controller.rb:15
  [1m[36mBooking Create (1.3ms)[0m  [1m[32mINSERT INTO "bookings" ("user_id", "flat_id", "created_at", "updated_at", "notice", "start_date", "end_date") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 1], ["flat_id", 1], ["created_at", "2018-08-03 10:23:55.387434"], ["updated_at", "2018-08-03 10:23:55.387434"], ["notice", "What food?"], ["start_date", "2018-07-08"], ["end_date", "2018-08-08"]]
  ↳ app/controllers/bookings_controller.rb:15
  [1m[35m (2.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/bookings_controller.rb:15
Redirected to http://localhost:3000/
Completed 302 Found in 31ms (ActiveRecord: 6.0ms)


Started GET "/" for 127.0.0.1 at 2018-08-03 13:23:55 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.9ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [2 times] (29.7ms)
  Rendered flats/index.html.erb within layouts/application (43.4ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:70
Completed 200 OK in 300ms (Views: 293.9ms | ActiveRecord: 3.5ms)


  [1m[36mBooking Load (1.4ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mBooking Load (1.1ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mBooking Destroy (3.4ms)[0m  [1m[31mDELETE FROM "bookings"[0m
  [1m[36mBooking Load (0.4ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" LIMIT $1[0m  [["LIMIT", 11]]
Started GET "/" for 127.0.0.1 at 2018-08-03 13:25:56 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.7ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [2 times] (35.2ms)
  Rendered flats/index.html.erb within layouts/application (62.2ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:70
Completed 200 OK in 422ms (Views: 412.9ms | ActiveRecord: 4.1ms)


Started GET "/" for 127.0.0.1 at 2018-08-03 13:27:28 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [2 times] (25.0ms)
  Rendered flats/index.html.erb within layouts/application (32.2ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:70
Completed 200 OK in 213ms (Views: 209.5ms | ActiveRecord: 1.7ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-03 13:47:42 +0300
  [1m[35m (3.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (2.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:49
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (19.7ms)
  Rendered flats/show.html.erb within layouts/application (501.0ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:70
Completed 200 OK in 926ms (Views: 825.3ms | ActiveRecord: 19.4ms)


Started POST "/flats/1/bookings" for 127.0.0.1 at 2018-08-03 13:48:26 +0300
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"hTkIhd3LJXx2IwA2kETPy3FSCIjrch05GGwEFfKXiZ9pqIVtoNQEvGmsT1uG5mad9zUeGfiEg/RL++PGD78q1w==", "booking"=>{"notice"=>"Need limuzine", "date"=>"08/07/2018 - 08/08/2018"}, "commit"=>"Book this flat", "flat_id"=>"1"}
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:12
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/bookings_controller.rb:15
  [1m[36mBooking Create (0.6ms)[0m  [1m[32mINSERT INTO "bookings" ("user_id", "flat_id", "created_at", "updated_at", "notice", "start_date", "end_date") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 1], ["flat_id", 1], ["created_at", "2018-08-03 10:48:26.628556"], ["updated_at", "2018-08-03 10:48:26.628556"], ["notice", "Need limuzine"], ["start_date", "2018-07-08"], ["end_date", "2018-08-08"]]
  ↳ app/controllers/bookings_controller.rb:15
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/bookings_controller.rb:15
Completed 500 Internal Server Error in 238ms (ActiveRecord: 4.3ms)


  
NoMethodError (undefined method `new_booking' for UserMailer:Class):
  
app/controllers/bookings_controller.rb:16:in `create'
Started POST "/flats/1/bookings" for 127.0.0.1 at 2018-08-03 13:49:30 +0300
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"hTkIhd3LJXx2IwA2kETPy3FSCIjrch05GGwEFfKXiZ9pqIVtoNQEvGmsT1uG5mad9zUeGfiEg/RL++PGD78q1w==", "booking"=>{"notice"=>"Need limuzine", "date"=>"08/07/2018 - 08/08/2018"}, "commit"=>"Book this flat", "flat_id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:12
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/bookings_controller.rb:15
  [1m[36mBooking Create (0.5ms)[0m  [1m[32mINSERT INTO "bookings" ("user_id", "flat_id", "created_at", "updated_at", "notice", "start_date", "end_date") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 1], ["flat_id", 1], ["created_at", "2018-08-03 10:49:31.237501"], ["updated_at", "2018-08-03 10:49:31.237501"], ["notice", "Need limuzine"], ["start_date", "2018-07-08"], ["end_date", "2018-08-08"]]
  ↳ app/controllers/bookings_controller.rb:15
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/bookings_controller.rb:15
CreateBookingMailer#new_booking: processed outbound mail in 15.2ms
Completed 500 Internal Server Error in 192ms (ActiveRecord: 17.0ms)


  
NoMethodError (undefined method `flat' for #<Booking:0x00007f13d110b1c0>
Did you mean?  flat_id):
  
app/mailers/create_booking_mailer.rb:5:in `new_booking'
app/controllers/bookings_controller.rb:16:in `create'
Started POST "/flats/1/bookings" for 127.0.0.1 at 2018-08-03 13:51:34 +0300
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"hTkIhd3LJXx2IwA2kETPy3FSCIjrch05GGwEFfKXiZ9pqIVtoNQEvGmsT1uG5mad9zUeGfiEg/RL++PGD78q1w==", "booking"=>{"notice"=>"Need limuzine", "date"=>"08/07/2018 - 08/08/2018"}, "commit"=>"Book this flat", "flat_id"=>"1"}
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:12
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/bookings_controller.rb:15
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:15
  [1m[36mBooking Create (0.5ms)[0m  [1m[32mINSERT INTO "bookings" ("user_id", "flat_id", "created_at", "updated_at", "notice", "start_date", "end_date") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 1], ["flat_id", 1], ["created_at", "2018-08-03 10:51:34.285008"], ["updated_at", "2018-08-03 10:51:34.285008"], ["notice", "Need limuzine"], ["start_date", "2018-07-08"], ["end_date", "2018-08-08"]]
  ↳ app/controllers/bookings_controller.rb:15
  [1m[35m (2.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/bookings_controller.rb:15
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/mailers/create_booking_mailer.rb:5
  Rendering create_booking_mailer/new_booking.html.erb within layouts/mailer
  Rendered create_booking_mailer/new_booking.html.erb within layouts/mailer (2.1ms)
  Rendering create_booking_mailer/new_booking.text.erb within layouts/mailer
  Rendered create_booking_mailer/new_booking.text.erb within layouts/mailer (2.4ms)
CreateBookingMailer#new_booking: processed outbound mail in 107.4ms
Sent mail to tork@gmail.com (80.3ms)
Date: Fri, 03 Aug 2018 13:51:34 +0300
From: yorkqw@gmail.com
To: tork@gmail.com
Message-ID: <5b6433b667c0b_11b72ad3f30180dc379b0@york-HP-250-G5-Notebook-PC.mail>
Subject: Your flat booked
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5b6433b6643ca_11b72ad3f30180dc37841";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5b6433b6643ca_11b72ad3f30180dc37841
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hello Tork

Tork booked your flat Letuchiy Gollandets from 2018-07-08 to 2018-08-08 and say:
Need limuzine


----==_mimepart_5b6433b6643ca_11b72ad3f30180dc37841
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <h1> Hello Tork</h1>

Tork booked your flat Letuchiy Gollandets from 2018-07-08 to 2018-08-08 and say:
Need limuzine


  </body>
</html>

----==_mimepart_5b6433b6643ca_11b72ad3f30180dc37841--

Redirected to http://localhost:3000/
Completed 302 Found in 329ms (ActiveRecord: 25.3ms)


Started GET "/" for 127.0.0.1 at 2018-08-03 13:51:34 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.1ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [2 times] (25.1ms)
  Rendered flats/index.html.erb within layouts/application (48.5ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:70
Completed 200 OK in 390ms (Views: 381.8ms | ActiveRecord: 3.0ms)


Started GET "/" for 127.0.0.1 at 2018-08-03 14:24:09 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (3.2ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [2 times] (19.9ms)
  Rendered flats/index.html.erb within layouts/application (43.2ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:70
Completed 200 OK in 256ms (Views: 248.0ms | ActiveRecord: 4.3ms)


  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(8115692404137957555)[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
Migrating to AddReservedDateToFlat (20180803112508)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (2.2ms)[0m  [1m[35mALTER TABLE "flats" ADD "reserved_date" date[][0m
  ↳ db/migrate/20180803112508_add_reserved_date_to_flat.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20180803112508"]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(8115692404137957555)[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[36mBooking Destroy (2.3ms)[0m  [1m[31mDELETE FROM "bookings"[0m
Started GET "/flats/1" for 127.0.0.1 at 2018-08-03 14:45:16 +0300
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:49
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (20.3ms)
  Rendered flats/show.html.erb within layouts/application (60.3ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:70
Completed 200 OK in 266ms (Views: 218.7ms | ActiveRecord: 16.3ms)


Started POST "/flats/1/bookings" for 127.0.0.1 at 2018-08-03 14:45:29 +0300
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"2X7KSEYEDM9WZcsqahjhhHoS8jer+uQXUnAssUoHN1JN+ebpzlTZXTLd03U6JU3CPtq0qRwwDbCGJsRQXpursQ==", "booking"=>{"notice"=>"Hello", "date"=>"08/15/2018 - 08/16/2018"}, "commit"=>"Book this flat", "flat_id"=>"1"}
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:12
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/bookings_controller.rb:15
  [1m[36mFlat Load (1.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:15
  [1m[36mBooking Create (1.6ms)[0m  [1m[32mINSERT INTO "bookings" ("user_id", "flat_id", "created_at", "updated_at", "notice") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 1], ["flat_id", 1], ["created_at", "2018-08-03 11:45:29.115269"], ["updated_at", "2018-08-03 11:45:29.115269"], ["notice", "Hello"]]
  ↳ app/controllers/bookings_controller.rb:15
  [1m[35m (2.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/bookings_controller.rb:15
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/mailers/create_booking_mailer.rb:5
  Rendering create_booking_mailer/new_booking.html.erb within layouts/mailer
  Rendered create_booking_mailer/new_booking.html.erb within layouts/mailer (2.0ms)
  Rendering create_booking_mailer/new_booking.text.erb within layouts/mailer
  Rendered create_booking_mailer/new_booking.text.erb within layouts/mailer (0.6ms)
CreateBookingMailer#new_booking: processed outbound mail in 33.7ms
Sent mail to tork@gmail.com (58.5ms)
Date: Fri, 03 Aug 2018 14:45:29 +0300
From: yorkqw@gmail.com
To: tork@gmail.com
Message-ID: <5b6440592c6eb_11b72ad3f301817c38118@york-HP-250-G5-Notebook-PC.mail>
Subject: Your flat booked
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5b6440592baec_11b72ad3f301817c3806a";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5b6440592baec_11b72ad3f301817c3806a
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hello Tork

Tork booked your flat Letuchiy Gollandets from  to  and say:
Hello


----==_mimepart_5b6440592baec_11b72ad3f301817c3806a
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <h1> Hello Tork</h1>

Tork booked your flat Letuchiy Gollandets from  to  and say:
Hello


  </body>
</html>

----==_mimepart_5b6440592baec_11b72ad3f301817c3806a--

Completed 500 Internal Server Error in 175ms (ActiveRecord: 7.9ms)


  
NameError (uninitialized constant BookingsController::BookingService):
  
app/controllers/bookings_controller.rb:17:in `create'
Started POST "/flats/1/bookings" for 127.0.0.1 at 2018-08-03 14:54:23 +0300
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"cB3BVsp5c39dJBmdnsS5GdbPs0Ba50znZ+AI3Sl4bKycjEy+t2ZSv0KrVvCIZhBPUKil0UkR0io0d+8O1FDP5A==", "booking"=>{"notice"=>"no dog", "date"=>"08/22/2018 - 08/23/2018"}, "commit"=>"Book this flat", "flat_id"=>"1"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:12
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/bookings_controller.rb:15
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:15
  [1m[36mBooking Create (0.6ms)[0m  [1m[32mINSERT INTO "bookings" ("user_id", "flat_id", "created_at", "updated_at", "notice") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 1], ["flat_id", 1], ["created_at", "2018-08-03 11:54:24.002113"], ["updated_at", "2018-08-03 11:54:24.002113"], ["notice", "no dog"]]
  ↳ app/controllers/bookings_controller.rb:15
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/bookings_controller.rb:15
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/mailers/create_booking_mailer.rb:5
  Rendering create_booking_mailer/new_booking.html.erb within layouts/mailer
  Rendered create_booking_mailer/new_booking.html.erb within layouts/mailer (0.6ms)
  Rendering create_booking_mailer/new_booking.text.erb within layouts/mailer
  Rendered create_booking_mailer/new_booking.text.erb within layouts/mailer (0.4ms)
CreateBookingMailer#new_booking: processed outbound mail in 28.4ms
Sent mail to tork@gmail.com (55.6ms)
Date: Fri, 03 Aug 2018 14:54:24 +0300
From: yorkqw@gmail.com
To: tork@gmail.com
Message-ID: <5b644270a07b_11b72ad3f301820838330@york-HP-250-G5-Notebook-PC.mail>
Subject: Your flat booked
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5b644270965c_11b72ad3f301820838278";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5b644270965c_11b72ad3f301820838278
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hello Tork

Tork booked your flat Letuchiy Gollandets from  to  and say:
no dog


----==_mimepart_5b644270965c_11b72ad3f301820838278
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <h1> Hello Tork</h1>

Tork booked your flat Letuchiy Gollandets from  to  and say:
no dog


  </body>
</html>

----==_mimepart_5b644270965c_11b72ad3f301820838278--

Completed 500 Internal Server Error in 223ms (ActiveRecord: 19.1ms)


  
NameError (uninitialized constant BookingsController::BookingService):
  
app/controllers/bookings_controller.rb:17:in `create'
  [1m[36mBooking Load (0.6ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" LIMIT $1[0m  [["LIMIT", 11]]
Started POST "/flats/1/bookings" for 127.0.0.1 at 2018-08-03 14:57:56 +0300
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"cB3BVsp5c39dJBmdnsS5GdbPs0Ba50znZ+AI3Sl4bKycjEy+t2ZSv0KrVvCIZhBPUKil0UkR0io0d+8O1FDP5A==", "booking"=>{"notice"=>"no dog", "date"=>"08/16/2018 - 08/17/2018"}, "commit"=>"Book this flat", "flat_id"=>"1"}
  [1m[36mUser Load (6.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:12
  [1m[35m (1.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/bookings_controller.rb:15
  [1m[36mFlat Load (1.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:15
  [1m[36mBooking Create (1.1ms)[0m  [1m[32mINSERT INTO "bookings" ("user_id", "flat_id", "created_at", "updated_at", "notice") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 1], ["flat_id", 1], ["created_at", "2018-08-03 11:57:56.995026"], ["updated_at", "2018-08-03 11:57:56.995026"], ["notice", "no dog"]]
  ↳ app/controllers/bookings_controller.rb:15
  [1m[35m (2.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/bookings_controller.rb:15
  [1m[36mUser Load (3.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/mailers/create_booking_mailer.rb:5
  Rendering create_booking_mailer/new_booking.html.erb within layouts/mailer
  Rendered create_booking_mailer/new_booking.html.erb within layouts/mailer (4.8ms)
  Rendering create_booking_mailer/new_booking.text.erb within layouts/mailer
  Rendered create_booking_mailer/new_booking.text.erb within layouts/mailer (1.1ms)
CreateBookingMailer#new_booking: processed outbound mail in 68.4ms
Sent mail to tork@gmail.com (91.6ms)
Date: Fri, 03 Aug 2018 14:57:57 +0300
From: yorkqw@gmail.com
To: tork@gmail.com
Message-ID: <5b644345155fc_11b72ad3f30180dc3859a@york-HP-250-G5-Notebook-PC.mail>
Subject: Your flat booked
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5b644345fd07_11b72ad3f30180dc3847f";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5b644345fd07_11b72ad3f30180dc3847f
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hello Tork

Tork booked your flat Letuchiy Gollandets from  to  and say:
no dog


----==_mimepart_5b644345fd07_11b72ad3f30180dc3847f
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <h1> Hello Tork</h1>

Tork booked your flat Letuchiy Gollandets from  to  and say:
no dog


  </body>
</html>

----==_mimepart_5b644345fd07_11b72ad3f30180dc3847f--

Completed 500 Internal Server Error in 227ms (ActiveRecord: 15.3ms)


  
NameError (uninitialized constant BookingsController::BookingService):
  
app/controllers/bookings_controller.rb:17:in `create'
Started POST "/flats/1/bookings" for 127.0.0.1 at 2018-08-03 15:01:09 +0300
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"cB3BVsp5c39dJBmdnsS5GdbPs0Ba50znZ+AI3Sl4bKycjEy+t2ZSv0KrVvCIZhBPUKil0UkR0io0d+8O1FDP5A==", "booking"=>{"notice"=>"no dog", "date"=>"08/16/2018 - 08/17/2018"}, "commit"=>"Book this flat", "flat_id"=>"1"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:12
Completed 500 Internal Server Error in 74ms (ActiveRecord: 4.7ms)


  
NameError (uninitialized constant Booking::BookingService):
  
app/models/booking.rb:5:in `<class:Booking>'
app/models/booking.rb:1:in `<main>'
app/controllers/bookings_controller.rb:12:in `create'
Started POST "/flats/1/bookings" for 127.0.0.1 at 2018-08-03 15:06:13 +0300
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"cB3BVsp5c39dJBmdnsS5GdbPs0Ba50znZ+AI3Sl4bKycjEy+t2ZSv0KrVvCIZhBPUKil0UkR0io0d+8O1FDP5A==", "booking"=>{"notice"=>"no dog", "date"=>"08/16/2018 - 08/17/2018"}, "commit"=>"Book this flat", "flat_id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:12
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/bookings_controller.rb:15
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:15
  [1m[36mBooking Create (1.2ms)[0m  [1m[32mINSERT INTO "bookings" ("user_id", "flat_id", "created_at", "updated_at", "notice") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 1], ["flat_id", 1], ["created_at", "2018-08-03 12:06:13.557775"], ["updated_at", "2018-08-03 12:06:13.557775"], ["notice", "no dog"]]
  ↳ app/controllers/bookings_controller.rb:15
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/bookings_controller.rb:15
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/mailers/create_booking_mailer.rb:5
  Rendering create_booking_mailer/new_booking.html.erb within layouts/mailer
  Rendered create_booking_mailer/new_booking.html.erb within layouts/mailer (3.2ms)
  Rendering create_booking_mailer/new_booking.text.erb within layouts/mailer
  Rendered create_booking_mailer/new_booking.text.erb within layouts/mailer (0.7ms)
CreateBookingMailer#new_booking: processed outbound mail in 38.4ms
Sent mail to tork@gmail.com (69.6ms)
Date: Fri, 03 Aug 2018 15:06:13 +0300
From: yorkqw@gmail.com
To: tork@gmail.com
Message-ID: <5b6445359add5_11b72ad3f30180dc3870@york-HP-250-G5-Notebook-PC.mail>
Subject: Your flat booked
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5b64453597cbe_11b72ad3f30180dc38687";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5b64453597cbe_11b72ad3f30180dc38687
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hello Tork

Tork booked your flat Letuchiy Gollandets from  to  and say:
no dog


----==_mimepart_5b64453597cbe_11b72ad3f30180dc38687
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <h1> Hello Tork</h1>

Tork booked your flat Letuchiy Gollandets from  to  and say:
no dog


  </body>
</html>

----==_mimepart_5b64453597cbe_11b72ad3f30180dc38687--

Completed 500 Internal Server Error in 316ms (ActiveRecord: 14.5ms)


  
NameError (uninitialized constant BookingsController::BookingService):
  
app/controllers/bookings_controller.rb:17:in `create'
Started POST "/flats/1/bookings" for 127.0.0.1 at 2018-08-03 15:21:39 +0300
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"cB3BVsp5c39dJBmdnsS5GdbPs0Ba50znZ+AI3Sl4bKycjEy+t2ZSv0KrVvCIZhBPUKil0UkR0io0d+8O1FDP5A==", "booking"=>{"notice"=>"no dog", "date"=>"08/16/2018 - 08/17/2018"}, "commit"=>"Book this flat", "flat_id"=>"1"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:12
  [1m[35m (1.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/bookings_controller.rb:15
  [1m[36mFlat Load (0.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:15
  [1m[36mBooking Create (0.6ms)[0m  [1m[32mINSERT INTO "bookings" ("user_id", "flat_id", "created_at", "updated_at", "notice") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 1], ["flat_id", 1], ["created_at", "2018-08-03 12:21:39.777082"], ["updated_at", "2018-08-03 12:21:39.777082"], ["notice", "no dog"]]
  ↳ app/controllers/bookings_controller.rb:15
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/bookings_controller.rb:15
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/mailers/create_booking_mailer.rb:5
  Rendering create_booking_mailer/new_booking.html.erb within layouts/mailer
  Rendered create_booking_mailer/new_booking.html.erb within layouts/mailer (2.4ms)
  Rendering create_booking_mailer/new_booking.text.erb within layouts/mailer
  Rendered create_booking_mailer/new_booking.text.erb within layouts/mailer (0.8ms)
CreateBookingMailer#new_booking: processed outbound mail in 49.2ms
Sent mail to tork@gmail.com (98.6ms)
Date: Fri, 03 Aug 2018 15:21:39 +0300
From: yorkqw@gmail.com
To: tork@gmail.com
Message-ID: <5b6448d3d11fd_11b72ad3f301817c38966@york-HP-250-G5-Notebook-PC.mail>
Subject: Your flat booked
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5b6448d3cdbac_11b72ad3f301817c38889";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5b6448d3cdbac_11b72ad3f301817c38889
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hello Tork

Tork booked your flat Letuchiy Gollandets from  to  and say:
no dog


----==_mimepart_5b6448d3cdbac_11b72ad3f301817c38889
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <h1> Hello Tork</h1>

Tork booked your flat Letuchiy Gollandets from  to  and say:
no dog


  </body>
</html>

----==_mimepart_5b6448d3cdbac_11b72ad3f301817c38889--

Completed 500 Internal Server Error in 369ms (ActiveRecord: 31.4ms)


  
NameError (uninitialized constant BookingsController::BookingService):
  
app/controllers/bookings_controller.rb:17:in `create'
Started POST "/flats/1/bookings" for 127.0.0.1 at 2018-08-03 15:31:07 +0300
  [1m[35m (4.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"cB3BVsp5c39dJBmdnsS5GdbPs0Ba50znZ+AI3Sl4bKycjEy+t2ZSv0KrVvCIZhBPUKil0UkR0io0d+8O1FDP5A==", "booking"=>{"notice"=>"no dog", "date"=>"08/16/2018 - 08/17/2018"}, "commit"=>"Book this flat", "flat_id"=>"1"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:12
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/bookings_controller.rb:15
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:15
  [1m[36mBooking Create (1.8ms)[0m  [1m[32mINSERT INTO "bookings" ("user_id", "flat_id", "created_at", "updated_at", "notice") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 1], ["flat_id", 1], ["created_at", "2018-08-03 12:31:08.133646"], ["updated_at", "2018-08-03 12:31:08.133646"], ["notice", "no dog"]]
  ↳ app/controllers/bookings_controller.rb:15
  [1m[35m (2.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/bookings_controller.rb:15
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/mailers/create_booking_mailer.rb:5
  Rendering create_booking_mailer/new_booking.html.erb within layouts/mailer
  Rendered create_booking_mailer/new_booking.html.erb within layouts/mailer (2.1ms)
  Rendering create_booking_mailer/new_booking.text.erb within layouts/mailer
  Rendered create_booking_mailer/new_booking.text.erb within layouts/mailer (1.9ms)
CreateBookingMailer#new_booking: processed outbound mail in 59.9ms
Sent mail to tork@gmail.com (38.9ms)
Date: Fri, 03 Aug 2018 15:31:08 +0300
From: yorkqw@gmail.com
To: tork@gmail.com
Message-ID: <5b644b0c6906b_21a82ac7de1d9428565ad@york-HP-250-G5-Notebook-PC.mail>
Subject: Your flat booked
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5b644b0c66d09_21a82ac7de1d94285645b";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5b644b0c66d09_21a82ac7de1d94285645b
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hello Tork

Tork booked your flat Letuchiy Gollandets from  to  and say:
no dog


----==_mimepart_5b644b0c66d09_21a82ac7de1d94285645b
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <h1> Hello Tork</h1>

Tork booked your flat Letuchiy Gollandets from  to  and say:
no dog


  </body>
</html>

----==_mimepart_5b644b0c66d09_21a82ac7de1d94285645b--

Completed 500 Internal Server Error in 558ms (ActiveRecord: 35.6ms)


  
TypeError (can't iterate from NilClass):
  
app/services/booking_service.rb:7:in `add_reserved_date'
app/controllers/bookings_controller.rb:17:in `create'
  [1m[36mBooking Load (0.9ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" LIMIT $1[0m  [["LIMIT", 11]]
Started POST "/flats/1/bookings" for 127.0.0.1 at 2018-08-03 15:33:42 +0300
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"cB3BVsp5c39dJBmdnsS5GdbPs0Ba50znZ+AI3Sl4bKycjEy+t2ZSv0KrVvCIZhBPUKil0UkR0io0d+8O1FDP5A==", "booking"=>{"notice"=>"no dog", "date"=>"08/16/2018 - 08/17/2018"}, "commit"=>"Book this flat", "flat_id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:12
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/bookings_controller.rb:15
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:15
  [1m[36mBooking Create (0.5ms)[0m  [1m[32mINSERT INTO "bookings" ("user_id", "flat_id", "created_at", "updated_at", "notice") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 1], ["flat_id", 1], ["created_at", "2018-08-03 12:33:42.753351"], ["updated_at", "2018-08-03 12:33:42.753351"], ["notice", "no dog"]]
  ↳ app/controllers/bookings_controller.rb:15
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/bookings_controller.rb:15
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/mailers/create_booking_mailer.rb:5
  Rendering create_booking_mailer/new_booking.html.erb within layouts/mailer
  Rendered create_booking_mailer/new_booking.html.erb within layouts/mailer (2.5ms)
  Rendering create_booking_mailer/new_booking.text.erb within layouts/mailer
  Rendered create_booking_mailer/new_booking.text.erb within layouts/mailer (0.5ms)
CreateBookingMailer#new_booking: processed outbound mail in 27.7ms
Sent mail to tork@gmail.com (39.5ms)
Date: Fri, 03 Aug 2018 15:33:42 +0300
From: yorkqw@gmail.com
To: tork@gmail.com
Message-ID: <5b644ba6c13b8_21a82ac7de1d8fc85677f@york-HP-250-G5-Notebook-PC.mail>
Subject: Your flat booked
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5b644ba6bfeff_21a82ac7de1d8fc85662c";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5b644ba6bfeff_21a82ac7de1d8fc85662c
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hello Tork

Tork booked your flat Letuchiy Gollandets from  to  and say:
no dog


----==_mimepart_5b644ba6bfeff_21a82ac7de1d8fc85662c
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <h1> Hello Tork</h1>

Tork booked your flat Letuchiy Gollandets from  to  and say:
no dog


  </body>
</html>

----==_mimepart_5b644ba6bfeff_21a82ac7de1d8fc85662c--

Completed 500 Internal Server Error in 248ms (ActiveRecord: 21.3ms)


  
TypeError (can't iterate from NilClass):
  
app/services/booking_service.rb:7:in `add_reserved_date'
app/controllers/bookings_controller.rb:17:in `create'
Started POST "/flats/1/bookings" for 127.0.0.1 at 2018-08-03 15:37:37 +0300
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"cB3BVsp5c39dJBmdnsS5GdbPs0Ba50znZ+AI3Sl4bKycjEy+t2ZSv0KrVvCIZhBPUKil0UkR0io0d+8O1FDP5A==", "booking"=>{"notice"=>"no cash", "date"=>"08/08/2018 - 08/10/2018"}, "commit"=>"Book this flat", "flat_id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:12
Completed 500 Internal Server Error in 92ms (ActiveRecord: 12.1ms)


  
NameError (undefined local variable or method `buebug' for #<Booking:0x00007ff2108ed8e8>
Did you mean?  byebug):
  
app/models/booking.rb:15:in `date='
app/controllers/bookings_controller.rb:12:in `create'
Started POST "/flats/1/bookings" for 127.0.0.1 at 2018-08-03 15:37:55 +0300
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"cB3BVsp5c39dJBmdnsS5GdbPs0Ba50znZ+AI3Sl4bKycjEy+t2ZSv0KrVvCIZhBPUKil0UkR0io0d+8O1FDP5A==", "booking"=>{"notice"=>"no cash", "date"=>"08/08/2018 - 08/10/2018"}, "commit"=>"Book this flat", "flat_id"=>"1"}
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:12
Completed 500 Internal Server Error in 307326ms (ActiveRecord: 15.9ms)


  
SystemExit (exit):
  
(byebug):1:in `exit'
(byebug):1:in `date='
app/models/booking.rb:16:in `date='
app/controllers/bookings_controller.rb:12:in `create'
Started GET "/" for 127.0.0.1 at 2018-08-03 15:43:32 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (4.9ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
Started GET "/" for 127.0.0.1 at 2018-08-03 15:43:41 +0300
  [1m[36mCACHE User Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [2 times] (8031.7ms)
  Rendered flats/index.html.erb within layouts/application (8633.8ms)
  [1m[36mUser Load (3.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:70
Completed 200 OK in 18935ms (Views: 18528.0ms | ActiveRecord: 30.8ms)


Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (3.5ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [2 times] (881.1ms)
  Rendered flats/index.html.erb within layouts/application (1487.2ms)
  [1m[36mUser Load (4.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:70
Completed 200 OK in 11015ms (Views: 10795.2ms | ActiveRecord: 35.9ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-03 15:44:11 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (1.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:49
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (7.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (1168.0ms)
  Rendered flats/show.html.erb within layouts/application (1303.9ms)
  [1m[36mUser Load (33.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:70
Completed 200 OK in 15023ms (Views: 14886.5ms | ActiveRecord: 58.7ms)


Started GET "/" for 127.0.0.1 at 2018-08-03 15:54:44 +0300
Started GET "/flats/1" for 127.0.0.1 at 2018-08-03 15:54:46 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (6.0ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [2 times] (765.6ms)
  Rendered flats/index.html.erb within layouts/application (1373.3ms)
  [1m[36mUser Load (3.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:70
Completed 200 OK in 12258ms (Views: 12011.0ms | ActiveRecord: 42.5ms)


Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (3.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:49
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (424.2ms)
  Rendered flats/show.html.erb within layouts/application (1136.4ms)
  [1m[36mUser Load (7.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:70
Completed 200 OK in 11671ms (Views: 10815.0ms | ActiveRecord: 63.9ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-03 15:55:47 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (6.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:49
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (28.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (74.7ms)
  Rendered flats/show.html.erb within layouts/application (263.6ms)
  [1m[36mUser Load (3.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:70
Completed 200 OK in 7617ms (Views: 7513.5ms | ActiveRecord: 38.7ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-03 15:56:26 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (6.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:49
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (66.3ms)
  Rendered flats/show.html.erb within layouts/application (252.0ms)
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:70
Completed 200 OK in 8011ms (Views: 7902.2ms | ActiveRecord: 8.8ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-03 15:57:17 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (5.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:49
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (5.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (76.6ms)
  Rendered flats/show.html.erb within layouts/application (283.8ms)
Started GET "/" for 127.0.0.1 at 2018-08-03 15:57:20 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (74.4ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (52.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [2 times] (731.7ms)
  Rendered flats/index.html.erb within layouts/application (1138.1ms)
  [1m[36mUser Load (32.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:70
Completed 200 OK in 18466ms (Views: 18329.2ms | ActiveRecord: 43.0ms)


  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:70
Completed 200 OK in 18038ms (Views: 17763.5ms | ActiveRecord: 181.1ms)


Started GET "/" for 127.0.0.1 at 2018-08-03 15:59:14 +0300
  [1m[35m (2.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (4.5ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (4.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [2 times] (341.1ms)
  Rendered flats/index.html.erb within layouts/application (414.8ms)
Completed 200 OK in 802ms (Views: 740.5ms | ActiveRecord: 19.4ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-03 15:59:20 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:49
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (50.1ms)
  Rendered flats/show.html.erb within layouts/application (57.4ms)
Completed 200 OK in 290ms (Views: 280.0ms | ActiveRecord: 6.0ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-03 16:01:22 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (1.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:49
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (7.2ms)
  Rendered flats/show.html.erb within layouts/application (32.4ms)
Completed 200 OK in 477ms (Views: 465.0ms | ActiveRecord: 1.9ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-03 16:02:33 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:49
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (3.3ms)
  Rendered flats/show.html.erb within layouts/application (19.9ms)
Completed 200 OK in 380ms (Views: 376.5ms | ActiveRecord: 1.1ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-03 16:03:45 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:49
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (3.4ms)
  Rendered flats/show.html.erb within layouts/application (17.8ms)
Completed 200 OK in 592ms (Views: 587.3ms | ActiveRecord: 2.1ms)


Started GET "/" for 127.0.0.1 at 2018-08-03 16:03:48 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.5ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [2 times] (32.5ms)
  Rendered flats/index.html.erb within layouts/application (55.7ms)
Completed 200 OK in 271ms (Views: 263.3ms | ActiveRecord: 2.7ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-03 16:03:50 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (1.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:49
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (6.0ms)
  Rendered flats/show.html.erb within layouts/application (25.1ms)
Completed 200 OK in 249ms (Views: 234.7ms | ActiveRecord: 2.2ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-03 16:04:19 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:49
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (3.7ms)
  Rendered flats/show.html.erb within layouts/application (15.0ms)
Completed 200 OK in 528ms (Views: 524.7ms | ActiveRecord: 1.7ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-03 16:05:33 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:49
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (9.2ms)
  Rendered flats/show.html.erb within layouts/application (32.9ms)
Completed 200 OK in 484ms (Views: 477.8ms | ActiveRecord: 1.3ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-03 16:05:49 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (1.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:49
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (15.4ms)
  Rendered flats/show.html.erb within layouts/application (41.2ms)
Completed 200 OK in 616ms (Views: 607.4ms | ActiveRecord: 3.4ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-03 16:22:17 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (4.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:49
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (11.4ms)
  Rendered flats/show.html.erb within layouts/application (26.8ms)
Completed 200 OK in 2869ms (Views: 2853.3ms | ActiveRecord: 5.5ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-03 16:24:32 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:49
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (4.7ms)
  Rendered flats/show.html.erb within layouts/application (15.0ms)
Completed 200 OK in 488ms (Views: 481.1ms | ActiveRecord: 1.1ms)


Started POST "/flats/1/bookings" for 127.0.0.1 at 2018-08-03 16:26:08 +0300
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"nhlcvK/VwaY082N43aWUcmLaaCtcoQcRDzImgI9Halg8kwvpHUE3qCgDS4fgc8qZ4WEl/zEEFfixheKUq8d//w==", "booking"=>{"notice"=>"credit card, no dogs", "start_date"=>"08/07/2018", "end_date"=>"08/13/2018"}, "commit"=>"Book this flat", "flat_id"=>"1"}
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `bookings' for nil:NilClass):
  
app/controllers/bookings_controller.rb:12:in `create'
Started GET "/users/sign_in" for 127.0.0.1 at 2018-08-03 16:26:16 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (4.7ms)
  Rendered devise/sessions/new.html.erb within layouts/application (17.5ms)
Completed 200 OK in 272ms (Views: 203.3ms | ActiveRecord: 21.1ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-08-03 16:26:24 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"j46lvUJgffE3Pi/mim3Pjp5Dl92Rrn7Lsf2ZVnJEh1/Cu2cEIvxxCl5yGZAHKVIjLJXcYOJoeGgBwriaY7OhIg==", "user"=>{"email"=>"Tork@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (4.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "tork@gmail.com"], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = $1, "last_sign_in_at" = $2, "sign_in_count" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["current_sign_in_at", "2018-08-03 13:26:24.386007"], ["last_sign_in_at", "2018-08-03 10:03:00.329001"], ["sign_in_count", 4], ["updated_at", "2018-08-03 13:26:24.391485"], ["id", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 198ms (ActiveRecord: 7.7ms)


Started GET "/" for 127.0.0.1 at 2018-08-03 16:26:24 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.8ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [2 times] (29.2ms)
  Rendered flats/index.html.erb within layouts/application (70.1ms)
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 327ms (Views: 309.2ms | ActiveRecord: 10.2ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-03 16:26:27 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:49
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (26.7ms)
  Rendered flats/show.html.erb within layouts/application (37.8ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 228ms (Views: 220.3ms | ActiveRecord: 3.9ms)


Started POST "/flats/1/bookings" for 127.0.0.1 at 2018-08-03 16:26:40 +0300
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"7PKEa3HWv74ZebEjBSY6KQpURMB3vvvou5nR7Z1axWMzKM9bFdEMpS7EfJxsfbFfmPeB9HpPWpvK4284NYOG/A==", "booking"=>{"notice"=>"", "start_date"=>"08/07/2018", "end_date"=>"08/13/2018"}, "commit"=>"Book this flat", "flat_id"=>"1"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:12
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/bookings_controller.rb:15
  [1m[36mFlat Load (0.9ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:15
  [1m[35m (3.3ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/bookings_controller.rb:15
Completed 500 Internal Server Error in 90ms (ActiveRecord: 5.6ms)


  
NoMethodError (undefined method `date' for #<Booking:0x00007f3d848a2370>
Did you mean?  update):
  
app/controllers/bookings_controller.rb:15:in `create'
Started POST "/flats/1/bookings" for 127.0.0.1 at 2018-08-03 16:27:18 +0300
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"7PKEa3HWv74ZebEjBSY6KQpURMB3vvvou5nR7Z1axWMzKM9bFdEMpS7EfJxsfbFfmPeB9HpPWpvK4284NYOG/A==", "booking"=>{"notice"=>"", "start_date"=>"08/07/2018", "end_date"=>"08/13/2018"}, "commit"=>"Book this flat", "flat_id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:12
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/bookings_controller.rb:15
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:15
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/bookings_controller.rb:15
Completed 500 Internal Server Error in 103ms (ActiveRecord: 15.0ms)


  
NoMethodError (undefined method `date' for #<Booking:0x00007f3d91fa4c38>
Did you mean?  update):
  
app/controllers/bookings_controller.rb:15:in `create'
Started POST "/flats/1/bookings" for 127.0.0.1 at 2018-08-03 16:28:41 +0300
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"7PKEa3HWv74ZebEjBSY6KQpURMB3vvvou5nR7Z1axWMzKM9bFdEMpS7EfJxsfbFfmPeB9HpPWpvK4284NYOG/A==", "booking"=>{"notice"=>"", "start_date"=>"08/07/2018", "end_date"=>"08/13/2018"}, "commit"=>"Book this flat", "flat_id"=>"1"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:12
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/bookings_controller.rb:15
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:15
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/bookings_controller.rb:15
Completed 500 Internal Server Error in 109ms (ActiveRecord: 20.1ms)


  
ActionView::MissingTemplate (Missing template bookings/new, application/new with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :coffee, :jbuilder]}. Searched in:
  * "/home/york/Документы/Projects/FlatBooking/app/views"
  * "/home/york/.rvm/gems/ruby-2.5.1/gems/kaminari-core-1.1.1/app/views"
  * "/home/york/.rvm/gems/ruby-2.5.1/gems/devise-4.4.3/app/views"
):
  
app/controllers/bookings_controller.rb:21:in `create'
Started POST "/flats/1/bookings" for 127.0.0.1 at 2018-08-03 16:29:10 +0300
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"7PKEa3HWv74ZebEjBSY6KQpURMB3vvvou5nR7Z1axWMzKM9bFdEMpS7EfJxsfbFfmPeB9HpPWpvK4284NYOG/A==", "booking"=>{"notice"=>"", "start_date"=>"08/07/2018", "end_date"=>"08/13/2018"}, "commit"=>"Book this flat", "flat_id"=>"1"}
  [1m[36mUser Load (2.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:12
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/bookings_controller.rb:15
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:15
  [1m[35m (0.7ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/bookings_controller.rb:15
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered flats/_flat.html.erb (9.9ms)
Completed 200 OK in 131ms (Views: 13.8ms | ActiveRecord: 22.4ms)


Started POST "/flats/1/bookings" for 127.0.0.1 at 2018-08-03 16:29:38 +0300
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"7PKEa3HWv74ZebEjBSY6KQpURMB3vvvou5nR7Z1axWMzKM9bFdEMpS7EfJxsfbFfmPeB9HpPWpvK4284NYOG/A==", "booking"=>{"notice"=>"", "start_date"=>"08/07/2018", "end_date"=>"08/13/2018"}, "commit"=>"Book this flat", "flat_id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:12
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/bookings_controller.rb:15
  [1m[36mFlat Load (0.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:15
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/bookings_controller.rb:15
Redirected to http://localhost:3000/flats/1
Completed 302 Found in 95ms (ActiveRecord: 16.1ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-03 16:29:38 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:49
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (5.6ms)
  Rendered flats/show.html.erb within layouts/application (11.3ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 332ms (Views: 329.8ms | ActiveRecord: 0.9ms)


Started POST "/flats/1/bookings" for 127.0.0.1 at 2018-08-03 16:30:06 +0300
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"vgLfI0dwIx9JqdVrr8PCY58X3c89C04vkDaBOCp7O7zgUiQDh7DA9qEeodwuZ/URJsEf+u3pxGTjE9vFKGeuLQ==", "booking"=>{"notice"=>"dog", "start_date"=>"08/08/2018", "end_date"=>"08/14/2018"}, "commit"=>"Book this flat", "flat_id"=>"1"}
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:12
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/bookings_controller.rb:15
  [1m[36mFlat Load (1.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:15
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/bookings_controller.rb:15
Redirected to http://localhost:3000/flats/1
Completed 302 Found in 36ms (ActiveRecord: 3.9ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-03 16:30:06 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:49
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (5.5ms)
  Rendered flats/show.html.erb within layouts/application (19.8ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 288ms (Views: 281.8ms | ActiveRecord: 1.8ms)


  [1m[36mBooking Load (1.0ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mBooking Destroy (3.6ms)[0m  [1m[31mDELETE FROM "bookings"[0m
Started POST "/flats/1/bookings" for 127.0.0.1 at 2018-08-03 16:31:45 +0300
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"2CTcYkIq1y5fUdCg8S8/xanlGxTMcvvUqpzVffWbKwSGdCdCguo0x7fmpBdwiwi3EDPZIRyQcZ/ZuY+A94e+lQ==", "booking"=>{"notice"=>"dooooooooog", "start_date"=>"08/22/2018", "end_date"=>"08/29/2018"}, "commit"=>"Book this flat", "flat_id"=>"1"}
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:12
  [1m[35m (0.8ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/bookings_controller.rb:15
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:15
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/bookings_controller.rb:15
Redirected to http://localhost:3000/flats/1
Completed 302 Found in 34ms (ActiveRecord: 3.9ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-03 16:31:45 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:49
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (10.2ms)
  Rendered flats/show.html.erb within layouts/application (29.5ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 376ms (Views: 361.1ms | ActiveRecord: 2.7ms)


  [1m[36mBooking Load (0.9ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" LIMIT $1[0m  [["LIMIT", 11]]
Started POST "/flats/1/bookings" for 127.0.0.1 at 2018-08-03 16:33:05 +0300
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"g1yADB5sGEry6KkeabW09us9jPLvjj+FPRQZK8a9HhzdDHss3qz7oxpf3anoEYOEUutOxz9stc5OMUPWxKGLjQ==", "booking"=>{"notice"=>"vcbncvb", "start_date"=>"08/29/2018", "end_date"=>"08/30/2018"}, "commit"=>"Book this flat", "flat_id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:12
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/bookings_controller.rb:15
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:15
  [1m[36mBooking Create (1.1ms)[0m  [1m[32mINSERT INTO "bookings" ("user_id", "flat_id", "created_at", "updated_at", "notice") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 1], ["flat_id", 1], ["created_at", "2018-08-03 13:33:05.477148"], ["updated_at", "2018-08-03 13:33:05.477148"], ["notice", "vcbncvb"]]
  ↳ app/controllers/bookings_controller.rb:15
  [1m[35m (2.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/bookings_controller.rb:15
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/mailers/create_booking_mailer.rb:5
  Rendering create_booking_mailer/new_booking.html.erb within layouts/mailer
  Rendered create_booking_mailer/new_booking.html.erb within layouts/mailer (0.6ms)
  Rendering create_booking_mailer/new_booking.text.erb within layouts/mailer
  Rendered create_booking_mailer/new_booking.text.erb within layouts/mailer (1.8ms)
CreateBookingMailer#new_booking: processed outbound mail in 134.3ms
Sent mail to tork@gmail.com (47.4ms)
Date: Fri, 03 Aug 2018 16:33:05 +0300
From: yorkqw@gmail.com
To: tork@gmail.com
Message-ID: <5b645991e6132_74a2ac67ef60c1050758@york-HP-250-G5-Notebook-PC.mail>
Subject: Your flat booked
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5b645991e3688_74a2ac67ef60c1050630";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5b645991e3688_74a2ac67ef60c1050630
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hello Tork

Tork booked your flat Letuchiy Gollandets from  to  and say:
vcbncvb


----==_mimepart_5b645991e3688_74a2ac67ef60c1050630
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <h1> Hello Tork</h1>

Tork booked your flat Letuchiy Gollandets from  to  and say:
vcbncvb


  </body>
</html>

----==_mimepart_5b645991e3688_74a2ac67ef60c1050630--

Redirected to http://localhost:3000/
Completed 302 Found in 633ms (ActiveRecord: 24.5ms)


Started GET "/" for 127.0.0.1 at 2018-08-03 16:33:06 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.9ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [2 times] (11.7ms)
  Rendered flats/index.html.erb within layouts/application (32.9ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 478ms (Views: 472.6ms | ActiveRecord: 1.6ms)


Started GET "/" for 127.0.0.1 at 2018-08-03 16:33:16 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.4ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [2 times] (21.8ms)
  Rendered flats/index.html.erb within layouts/application (48.3ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 590ms (Views: 578.1ms | ActiveRecord: 2.5ms)


  [1m[36mBooking Load (0.4ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" LIMIT $1[0m  [["LIMIT", 11]]
Started GET "/flats/1" for 127.0.0.1 at 2018-08-03 16:35:30 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:49
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (12.0ms)
  Rendered flats/show.html.erb within layouts/application (31.3ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 265ms (Views: 235.3ms | ActiveRecord: 9.0ms)


Started POST "/flats/1/bookings" for 127.0.0.1 at 2018-08-03 16:35:40 +0300
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"rA33Pj4gSonhXwBHbdMvhDyxVKq1/rb+twWBpYpfcKtz17wOWif5ktbizfgEiKTyrhKRnrgPF43Gfz9wIoYzNA==", "booking"=>{"notice"=>"trhrh", "start_date"=>"08/08/2018", "end_date"=>"08/14/2018"}, "commit"=>"Book this flat", "flat_id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:12
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/bookings_controller.rb:15
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:15
  [1m[35m (1.0ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/bookings_controller.rb:15
Redirected to http://localhost:3000/flats/1
Completed 302 Found in 16ms (ActiveRecord: 2.2ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-03 16:35:40 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:49
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (3.9ms)
  Rendered flats/show.html.erb within layouts/application (12.3ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 280ms (Views: 276.8ms | ActiveRecord: 1.5ms)


Started POST "/flats/1/bookings" for 127.0.0.1 at 2018-08-03 16:35:59 +0300
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"KegkwsRKbywkp1K2q0Dy2BT1C11I5WjS+7MpAbgldBN3uN/iBIqMxcwQJgEq5MWqrSPJaJgH4pmIlnP8ujnhgg==", "booking"=>{"notice"=>"", "start_date"=>"08/07/2018", "end_date"=>"08/08/2018"}, "commit"=>"Book this flat", "flat_id"=>"1"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:12
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/bookings_controller.rb:15
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:15
  [1m[36mBooking Create (1.0ms)[0m  [1m[32mINSERT INTO "bookings" ("user_id", "flat_id", "created_at", "updated_at", "notice", "start_date", "end_date") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 1], ["flat_id", 1], ["created_at", "2018-08-03 13:35:59.234754"], ["updated_at", "2018-08-03 13:35:59.234754"], ["notice", ""], ["start_date", "2018-07-08"], ["end_date", "2018-08-08"]]
  ↳ app/controllers/bookings_controller.rb:15
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/bookings_controller.rb:15
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/mailers/create_booking_mailer.rb:5
  Rendering create_booking_mailer/new_booking.html.erb within layouts/mailer
  Rendered create_booking_mailer/new_booking.html.erb within layouts/mailer (2.0ms)
  Rendering create_booking_mailer/new_booking.text.erb within layouts/mailer
  Rendered create_booking_mailer/new_booking.text.erb within layouts/mailer (0.6ms)
CreateBookingMailer#new_booking: processed outbound mail in 60.3ms
Sent mail to tork@gmail.com (40.3ms)
Date: Fri, 03 Aug 2018 16:35:59 +0300
From: yorkqw@gmail.com
To: tork@gmail.com
Message-ID: <5b645a3f4ee50_74a2ac67ef60c105097@york-HP-250-G5-Notebook-PC.mail>
Subject: Your flat booked
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5b645a3f48622_74a2ac67ef60c105085a";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5b645a3f48622_74a2ac67ef60c105085a
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hello Tork

Tork booked your flat Letuchiy Gollandets from 2018-07-08 to 2018-08-08 and say:



----==_mimepart_5b645a3f48622_74a2ac67ef60c105085a
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <h1> Hello Tork</h1>

Tork booked your flat Letuchiy Gollandets from 2018-07-08 to 2018-08-08 and say:



  </body>
</html>

----==_mimepart_5b645a3f48622_74a2ac67ef60c105085a--

Redirected to http://localhost:3000/
Completed 302 Found in 162ms (ActiveRecord: 6.0ms)


Started GET "/" for 127.0.0.1 at 2018-08-03 16:35:59 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [2 times] (30.5ms)
  Rendered flats/index.html.erb within layouts/application (41.7ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 461ms (Views: 455.9ms | ActiveRecord: 1.6ms)


  [1m[36mBooking Load (1.0ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mBooking Load (0.4ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2018-08-03 16:41:54 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.9ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [2 times] (28.8ms)
  Rendered flats/index.html.erb within layouts/application (51.8ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 692ms (Views: 683.9ms | ActiveRecord: 6.1ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-03 16:41:55 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (1.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:49
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (7.3ms)
  Rendered flats/show.html.erb within layouts/application (31.0ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 304ms (Views: 287.7ms | ActiveRecord: 3.6ms)


Started GET "/" for 127.0.0.1 at 2018-08-03 16:42:01 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.3ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [2 times] (30.2ms)
  Rendered flats/index.html.erb within layouts/application (55.7ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 299ms (Views: 287.6ms | ActiveRecord: 4.2ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-03 16:42:02 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (1.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:49
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (7.3ms)
  Rendered flats/show.html.erb within layouts/application (31.0ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 300ms (Views: 285.8ms | ActiveRecord: 3.5ms)


Started POST "/flats/1/bookings" for 127.0.0.1 at 2018-08-03 16:42:05 +0300
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"FJmFN4cH3jBktpZNpvGUEafha9iXMb1kcZuAht2qxU/LQ84H4wBtK1MLW/LPqh9nNUKu7JrAHBcA4T5TdXOG0A==", "booking"=>{"notice"=>"", "start_date"=>"", "end_date"=>""}, "commit"=>"Book this flat", "flat_id"=>"1"}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:12
  [1m[35m (2.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/bookings_controller.rb:15
  [1m[36mFlat Load (2.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:15
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/bookings_controller.rb:15
Redirected to http://localhost:3000/flats/1
Completed 302 Found in 41ms (ActiveRecord: 6.5ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-03 16:42:05 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (2.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:49
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (8.9ms)
  Rendered flats/show.html.erb within layouts/application (31.0ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 377ms (Views: 358.9ms | ActiveRecord: 4.4ms)


Started POST "/flats/1/bookings" for 127.0.0.1 at 2018-08-03 16:42:22 +0300
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"YFSDtuunjztrx7m2fBbc6diwP1oazGbKbpwaPeL11vI+BHiWK2ds0oNwzQH9suubYWb9b8ou7IEduUDA4OlDYw==", "booking"=>{"notice"=>"", "start_date"=>"08/08/2018", "end_date"=>"08/09/2018"}, "commit"=>"Book this flat", "flat_id"=>"1"}
  [1m[36mUser Load (3.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:12
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/bookings_controller.rb:15
  [1m[36mFlat Load (1.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:15
  [1m[36mBooking Create (1.5ms)[0m  [1m[32mINSERT INTO "bookings" ("user_id", "flat_id", "created_at", "updated_at", "notice", "start_date", "end_date") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 1], ["flat_id", 1], ["created_at", "2018-08-03 13:42:22.208637"], ["updated_at", "2018-08-03 13:42:22.208637"], ["notice", ""], ["start_date", "2018-08-08"], ["end_date", "2018-09-08"]]
  ↳ app/controllers/bookings_controller.rb:15
  [1m[35m (2.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/bookings_controller.rb:15
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/mailers/create_booking_mailer.rb:5
  Rendering create_booking_mailer/new_booking.html.erb within layouts/mailer
  Rendered create_booking_mailer/new_booking.html.erb within layouts/mailer (1.2ms)
  Rendering create_booking_mailer/new_booking.text.erb within layouts/mailer
  Rendered create_booking_mailer/new_booking.text.erb within layouts/mailer (3.9ms)
CreateBookingMailer#new_booking: processed outbound mail in 61.5ms
Sent mail to tork@gmail.com (49.9ms)
Date: Fri, 03 Aug 2018 16:42:22 +0300
From: yorkqw@gmail.com
To: tork@gmail.com
Message-ID: <5b645bbe45974_74a2ac67ef60d145113b@york-HP-250-G5-Notebook-PC.mail>
Subject: Your flat booked
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5b645bbe41dc9_74a2ac67ef60d1451075";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5b645bbe41dc9_74a2ac67ef60d1451075
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hello Tork

Tork booked your flat Letuchiy Gollandets from 2018-08-08 to 2018-09-08 and say:



----==_mimepart_5b645bbe41dc9_74a2ac67ef60d1451075
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <h1> Hello Tork</h1>

Tork booked your flat Letuchiy Gollandets from 2018-08-08 to 2018-09-08 and say:



  </body>
</html>

----==_mimepart_5b645bbe41dc9_74a2ac67ef60d1451075--

Redirected to http://localhost:3000/
Completed 302 Found in 157ms (ActiveRecord: 10.4ms)


Started GET "/" for 127.0.0.1 at 2018-08-03 16:42:22 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [2 times] (19.0ms)
  Rendered flats/index.html.erb within layouts/application (38.1ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 446ms (Views: 441.5ms | ActiveRecord: 1.4ms)


  [1m[36mBooking Load (1.0ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 21], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2018-08-03 16:45:50 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [2 times] (26.4ms)
  Rendered flats/index.html.erb within layouts/application (48.6ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 485ms (Views: 472.7ms | ActiveRecord: 2.8ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-03 16:45:52 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.9ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:49
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (6.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (8.6ms)
  Rendered flats/show.html.erb within layouts/application (31.2ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 311ms (Views: 297.5ms | ActiveRecord: 7.7ms)


Started POST "/flats/1/bookings" for 127.0.0.1 at 2018-08-03 16:46:04 +0300
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"i5oaGH4w6UgAF2KW7qvTsWbdtMmO2P6QPGbsWMH3/ZVUQFEoGjdaUzeqrymH8FjH9H5x/YMpX+NNHFKNaS6+Cg==", "booking"=>{"notice"=>"", "start_date"=>"08/08/2018", "end_date"=>"08/10/2018"}, "commit"=>"Book this flat", "flat_id"=>"1"}
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:12
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/bookings_controller.rb:15
  [1m[36mFlat Load (1.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:15
  [1m[36mBooking Create (1.0ms)[0m  [1m[32mINSERT INTO "bookings" ("user_id", "flat_id", "created_at", "updated_at", "notice", "start_date", "end_date") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 1], ["flat_id", 1], ["created_at", "2018-08-03 13:46:04.445964"], ["updated_at", "2018-08-03 13:46:04.445964"], ["notice", ""], ["start_date", "2018-08-08"], ["end_date", "2018-10-08"]]
  ↳ app/controllers/bookings_controller.rb:15
  [1m[35m (2.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/bookings_controller.rb:15
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/mailers/create_booking_mailer.rb:5
  Rendering create_booking_mailer/new_booking.html.erb within layouts/mailer
  Rendered create_booking_mailer/new_booking.html.erb within layouts/mailer (5.6ms)
  Rendering create_booking_mailer/new_booking.text.erb within layouts/mailer
  Rendered create_booking_mailer/new_booking.text.erb within layouts/mailer (1.9ms)
CreateBookingMailer#new_booking: processed outbound mail in 60.2ms
Sent mail to tork@gmail.com (62.6ms)
Date: Fri, 03 Aug 2018 16:46:04 +0300
From: yorkqw@gmail.com
To: tork@gmail.com
Message-ID: <5b645c9c7e3cb_74a2ac67ef60ef4513b3@york-HP-250-G5-Notebook-PC.mail>
Subject: Your flat booked
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5b645c9c7d51a_74a2ac67ef60ef4512cd";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5b645c9c7d51a_74a2ac67ef60ef4512cd
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hello Tork

Tork booked your flat Letuchiy Gollandets from 2018-08-08 to 2018-10-08 and say:



----==_mimepart_5b645c9c7d51a_74a2ac67ef60ef4512cd
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <h1> Hello Tork</h1>

Tork booked your flat Letuchiy Gollandets from 2018-08-08 to 2018-10-08 and say:



  </body>
</html>

----==_mimepart_5b645c9c7d51a_74a2ac67ef60ef4512cd--

Redirected to http://localhost:3000/
Completed 302 Found in 154ms (ActiveRecord: 7.6ms)


Started GET "/" for 127.0.0.1 at 2018-08-03 16:46:04 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.8ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [2 times] (20.2ms)
  Rendered flats/index.html.erb within layouts/application (36.0ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 426ms (Views: 421.5ms | ActiveRecord: 2.4ms)


Started GET "/" for 127.0.0.1 at 2018-08-03 16:49:38 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.6ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [2 times] (16.3ms)
  Rendered flats/index.html.erb within layouts/application (34.3ms)
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 557ms (Views: 547.0ms | ActiveRecord: 5.6ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-03 16:49:39 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:49
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (3.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (4.7ms)
  Rendered flats/show.html.erb within layouts/application (24.6ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 304ms (Views: 294.0ms | ActiveRecord: 4.4ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-03 16:51:09 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.9ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:49
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (5.8ms)
  Rendered flats/show.html.erb within layouts/application (27.8ms)
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 601ms (Views: 583.2ms | ActiveRecord: 3.7ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-03 16:52:12 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:49
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (16.5ms)
  Rendered flats/show.html.erb within layouts/application (30.4ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 497ms (Views: 491.1ms | ActiveRecord: 1.2ms)


Started POST "/flats/1/bookings" for 127.0.0.1 at 2018-08-03 16:52:21 +0300
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"1FiuqsicFM30sniAs+s8otn3FQOTgg+cw9jtMU92LpeKCFWKCFz3JBwFDDcyTwvQYCHXNkNghdew/bfMTWq7Bg==", "booking"=>{"notice"=>"", "start_date"=>"08/22/2018", "end_date"=>"08/24/2018"}, "commit"=>"Book this flat", "flat_id"=>"1"}
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:12
  [1m[35m (1.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/bookings_controller.rb:15
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:15
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/bookings_controller.rb:15
Redirected to http://localhost:3000/flats/1
Completed 302 Found in 33ms (ActiveRecord: 4.6ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-03 16:52:21 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (1.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:49
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (2.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (7.6ms)
  Rendered flats/show.html.erb within layouts/application (29.9ms)
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 427ms (Views: 410.5ms | ActiveRecord: 5.8ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-03 16:53:12 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.9ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:49
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (5.6ms)
  Rendered flats/show.html.erb within layouts/application (29.9ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 424ms (Views: 413.1ms | ActiveRecord: 2.5ms)


Started GET "/" for 127.0.0.1 at 2018-08-03 16:53:33 +0300
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (3.6ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [2 times] (1104.3ms)
  Rendered flats/index.html.erb within layouts/application (1187.4ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 2253ms (Views: 2220.5ms | ActiveRecord: 11.3ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-03 16:53:38 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (1.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:49
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (47.7ms)
  Rendered flats/show.html.erb within layouts/application (77.4ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 330ms (Views: 315.0ms | ActiveRecord: 6.7ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-03 16:54:07 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:49
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (11.2ms)
  Rendered flats/show.html.erb within layouts/application (31.7ms)
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 559ms (Views: 551.9ms | ActiveRecord: 2.7ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-03 16:54:44 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:49
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (8.4ms)
  Rendered flats/show.html.erb within layouts/application (23.9ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 572ms (Views: 564.0ms | ActiveRecord: 1.9ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-03 16:54:58 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:49
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (3.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (9.1ms)
  Rendered flats/show.html.erb within layouts/application (26.3ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 540ms (Views: 534.2ms | ActiveRecord: 4.0ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-03 16:55:22 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:49
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (10.6ms)
  Rendered flats/show.html.erb within layouts/application (17.9ms)
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 549ms (Views: 544.2ms | ActiveRecord: 2.4ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-03 16:55:34 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:49
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (5.6ms)
  Rendered flats/show.html.erb within layouts/application (32.4ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 491ms (Views: 487.0ms | ActiveRecord: 1.3ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-03 16:56:45 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.9ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:49
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (5.0ms)
  Rendered flats/show.html.erb within layouts/application (28.5ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 531ms (Views: 519.0ms | ActiveRecord: 2.6ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-03 16:58:34 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (1.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:49
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (11.1ms)
  Rendered flats/show.html.erb within layouts/application (41.3ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 537ms (Views: 525.5ms | ActiveRecord: 3.1ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-03 16:58:53 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (1.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:49
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (8.4ms)
  Rendered flats/show.html.erb within layouts/application (28.4ms)
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 441ms (Views: 429.0ms | ActiveRecord: 3.6ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-03 17:02:27 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (1.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:49
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (9.9ms)
  Rendered flats/show.html.erb within layouts/application (25.3ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 708ms (Views: 699.3ms | ActiveRecord: 2.4ms)


Started GET "/" for 127.0.0.1 at 2018-08-03 17:03:50 +0300
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.4ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [2 times] (961.3ms)
  Rendered flats/index.html.erb within layouts/application (1045.9ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 1985ms (Views: 1939.1ms | ActiveRecord: 12.2ms)


Started GET "/" for 127.0.0.1 at 2018-08-03 17:03:52 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.0ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [2 times] (32.0ms)
  Rendered flats/index.html.erb within layouts/application (48.0ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 475ms (Views: 470.4ms | ActiveRecord: 3.0ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-03 17:03:54 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:49
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (67.4ms)
  Rendered flats/show.html.erb within layouts/application (81.0ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 320ms (Views: 303.2ms | ActiveRecord: 13.2ms)


Started POST "/flats/1/bookings" for 127.0.0.1 at 2018-08-03 17:04:11 +0300
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"4NF9BATpoU4JFI4aEP3D1i7ExkKE5xTfV0jPgSjepkk/CzY0YO4SVT6pQ6V5pkigvGcDdokWtawmMnFUgAfl1g==", "booking"=>{"notice"=>"", "start_date"=>"18-08-15", "end_date"=>"18-08-16"}, "commit"=>"Book this flat", "flat_id"=>"1"}
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:12
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/bookings_controller.rb:15
  [1m[36mFlat Load (1.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:15
  [1m[36mBooking Create (0.9ms)[0m  [1m[32mINSERT INTO "bookings" ("user_id", "flat_id", "created_at", "updated_at", "notice", "start_date", "end_date") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 1], ["flat_id", 1], ["created_at", "2018-08-03 14:04:11.665013"], ["updated_at", "2018-08-03 14:04:11.665013"], ["notice", ""], ["start_date", "0018-08-15"], ["end_date", "0018-08-16"]]
  ↳ app/controllers/bookings_controller.rb:15
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/bookings_controller.rb:15
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/mailers/create_booking_mailer.rb:5
  Rendering create_booking_mailer/new_booking.html.erb within layouts/mailer
  Rendered create_booking_mailer/new_booking.html.erb within layouts/mailer (0.6ms)
  Rendering create_booking_mailer/new_booking.text.erb within layouts/mailer
  Rendered create_booking_mailer/new_booking.text.erb within layouts/mailer (0.5ms)
CreateBookingMailer#new_booking: processed outbound mail in 37.8ms
Sent mail to tork@gmail.com (45.7ms)
Date: Fri, 03 Aug 2018 17:04:11 +0300
From: yorkqw@gmail.com
To: tork@gmail.com
Message-ID: <5b6460dbdc005_14002b0b99f935108723@york-HP-250-G5-Notebook-PC.mail>
Subject: Your flat booked
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5b6460dbdb520_14002b0b99f93510861b";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5b6460dbdb520_14002b0b99f93510861b
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hello Tork

Tork booked your flat Letuchiy Gollandets from 0018-08-15 to 0018-08-16 and say:



----==_mimepart_5b6460dbdb520_14002b0b99f93510861b
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <h1> Hello Tork</h1>

Tork booked your flat Letuchiy Gollandets from 0018-08-15 to 0018-08-16 and say:



  </body>
</html>

----==_mimepart_5b6460dbdb520_14002b0b99f93510861b--

Redirected to http://localhost:3000/
Completed 302 Found in 320ms (ActiveRecord: 5.7ms)


Started GET "/" for 127.0.0.1 at 2018-08-03 17:04:11 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [2 times] (23.1ms)
  Rendered flats/index.html.erb within layouts/application (44.9ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 482ms (Views: 478.8ms | ActiveRecord: 1.5ms)


  [1m[36mBooking Load (1.0ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" LIMIT $1[0m  [["LIMIT", 11]]
Started GET "/" for 127.0.0.1 at 2018-08-03 17:04:57 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.7ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [2 times] (28.0ms)
  Rendered flats/index.html.erb within layouts/application (44.5ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 732ms (Views: 722.6ms | ActiveRecord: 3.2ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-03 17:04:59 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (1.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:49
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (7.3ms)
  Rendered flats/show.html.erb within layouts/application (23.2ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 279ms (Views: 272.1ms | ActiveRecord: 1.9ms)


Started GET "/" for 127.0.0.1 at 2018-08-03 17:05:22 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.8ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (5.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [2 times] (32.8ms)
  Rendered flats/index.html.erb within layouts/application (55.1ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 392ms (Views: 378.7ms | ActiveRecord: 7.8ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-03 17:05:34 +0300
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:49
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (47.3ms)
  Rendered flats/show.html.erb within layouts/application (932.9ms)
  [1m[36mUser Load (2.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 1717ms (Views: 1634.7ms | ActiveRecord: 14.1ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-03 17:07:03 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:49
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (6.9ms)
  Rendered flats/show.html.erb within layouts/application (32.0ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 678ms (Views: 661.5ms | ActiveRecord: 1.7ms)


Started GET "/" for 127.0.0.1 at 2018-08-03 17:07:05 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (5.0ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [2 times] (18.8ms)
  Rendered flats/index.html.erb within layouts/application (60.8ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 288ms (Views: 276.6ms | ActiveRecord: 6.2ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-03 17:07:06 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (9.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:49
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (13.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (6.6ms)
  Rendered flats/show.html.erb within layouts/application (40.6ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 302ms (Views: 265.2ms | ActiveRecord: 23.6ms)


Started POST "/flats/1/bookings" for 127.0.0.1 at 2018-08-03 17:07:28 +0300
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"1q1QJaU8FJq28o1xqlHnxFQrrENh/mtblwa5nOZmvxgJdxsVwTungYFPQM7DCmyyxohpd2wPyijmfAdJTr/8hw==", "booking"=>{"notice"=>"", "start_date"=>"18-08-15", "end_date"=>"18-08-21"}, "commit"=>"Book this flat", "flat_id"=>"1"}
  [1m[36mUser Load (2.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:12
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/bookings_controller.rb:15
  [1m[36mFlat Load (1.9ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:15
  [1m[36mBooking Create (1.5ms)[0m  [1m[32mINSERT INTO "bookings" ("user_id", "flat_id", "created_at", "updated_at", "notice", "start_date", "end_date") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 1], ["flat_id", 1], ["created_at", "2018-08-03 14:07:28.985403"], ["updated_at", "2018-08-03 14:07:28.985403"], ["notice", ""], ["start_date", "0018-08-15"], ["end_date", "0018-08-21"]]
  ↳ app/controllers/bookings_controller.rb:15
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/bookings_controller.rb:15
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/mailers/create_booking_mailer.rb:5
  Rendering create_booking_mailer/new_booking.html.erb within layouts/mailer
  Rendered create_booking_mailer/new_booking.html.erb within layouts/mailer (2.7ms)
  Rendering create_booking_mailer/new_booking.text.erb within layouts/mailer
  Rendered create_booking_mailer/new_booking.text.erb within layouts/mailer (0.7ms)
CreateBookingMailer#new_booking: processed outbound mail in 71.4ms
Sent mail to tork@gmail.com (49.6ms)
Date: Fri, 03 Aug 2018 17:07:29 +0300
From: yorkqw@gmail.com
To: tork@gmail.com
Message-ID: <5b6461a140186_14fd2aff9c5b95ac9895a@york-HP-250-G5-Notebook-PC.mail>
Subject: Your flat booked
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5b6461a13de67_14fd2aff9c5b95ac98893";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5b6461a13de67_14fd2aff9c5b95ac98893
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hello Tork

Tork booked your flat Letuchiy Gollandets from 0018-08-15 to 0018-08-21 and say:



----==_mimepart_5b6461a13de67_14fd2aff9c5b95ac98893
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <h1> Hello Tork</h1>

Tork booked your flat Letuchiy Gollandets from 0018-08-15 to 0018-08-21 and say:



  </body>
</html>

----==_mimepart_5b6461a13de67_14fd2aff9c5b95ac98893--

Redirected to http://localhost:3000/
Completed 302 Found in 372ms (ActiveRecord: 8.8ms)


Started GET "/" for 127.0.0.1 at 2018-08-03 17:07:29 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [2 times] (28.5ms)
  Rendered flats/index.html.erb within layouts/application (57.5ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 500ms (Views: 494.9ms | ActiveRecord: 2.0ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-03 17:07:36 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (1.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:49
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (3.1ms)
  Rendered flats/show.html.erb within layouts/application (25.5ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 273ms (Views: 263.4ms | ActiveRecord: 2.2ms)


Started GET "/" for 127.0.0.1 at 2018-08-03 17:10:04 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.8ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [2 times] (19.1ms)
  Rendered flats/index.html.erb within layouts/application (31.5ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:62
Completed 200 OK in 409ms (Views: 405.6ms | ActiveRecord: 1.7ms)


Started GET "/" for 127.0.0.1 at 2018-08-03 17:10:04 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.1ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [2 times] (24.1ms)
  Rendered flats/index.html.erb within layouts/application (39.9ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:62
Completed 200 OK in 408ms (Views: 400.0ms | ActiveRecord: 3.3ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-03 17:10:06 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (1.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:49
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (10.0ms)
  Rendered flats/show.html.erb within layouts/application (32.7ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:62
Completed 200 OK in 275ms (Views: 267.8ms | ActiveRecord: 2.1ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-03 17:10:33 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:49
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (8.4ms)
  Rendered flats/show.html.erb within layouts/application (30.0ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 564ms (Views: 556.6ms | ActiveRecord: 2.3ms)


Started POST "/flats/1/bookings" for 127.0.0.1 at 2018-08-03 17:10:45 +0300
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"8vT2yy44LwxQDDW7DZAKvOCEL1w8mtqrouOIvn3rUx+spA3r7vjM5bi7QQyMND3OWVLtaex4UODRxtJDf/fGjg==", "booking"=>{"notice"=>"ghfghfghfgh", "start_date"=>"2018-08-14", "end_date"=>"2018-08-22"}, "commit"=>"Book this flat", "flat_id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:12
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/bookings_controller.rb:15
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:15
  [1m[36mBooking Create (1.0ms)[0m  [1m[32mINSERT INTO "bookings" ("user_id", "flat_id", "created_at", "updated_at", "notice", "start_date", "end_date") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 1], ["flat_id", 1], ["created_at", "2018-08-03 14:10:45.335528"], ["updated_at", "2018-08-03 14:10:45.335528"], ["notice", "ghfghfghfgh"], ["start_date", "2018-08-14"], ["end_date", "2018-08-22"]]
  ↳ app/controllers/bookings_controller.rb:15
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/bookings_controller.rb:15
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/mailers/create_booking_mailer.rb:5
  Rendering create_booking_mailer/new_booking.html.erb within layouts/mailer
  Rendered create_booking_mailer/new_booking.html.erb within layouts/mailer (1.1ms)
  Rendering create_booking_mailer/new_booking.text.erb within layouts/mailer
  Rendered create_booking_mailer/new_booking.text.erb within layouts/mailer (1.3ms)
CreateBookingMailer#new_booking: processed outbound mail in 46.2ms
Sent mail to tork@gmail.com (70.3ms)
Date: Fri, 03 Aug 2018 17:10:45 +0300
From: yorkqw@gmail.com
To: tork@gmail.com
Message-ID: <5b646265605f9_14fd2aff9c5b92c8991ed@york-HP-250-G5-Notebook-PC.mail>
Subject: Your flat booked
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5b6462655c53d_14fd2aff9c5b92c89902";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5b6462655c53d_14fd2aff9c5b92c89902
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hello Tork

Tork booked your flat Letuchiy Gollandets from 2018-08-14 to 2018-08-22 and say:
ghfghfghfgh


----==_mimepart_5b6462655c53d_14fd2aff9c5b92c89902
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <h1> Hello Tork</h1>

Tork booked your flat Letuchiy Gollandets from 2018-08-14 to 2018-08-22 and say:
ghfghfghfgh


  </body>
</html>

----==_mimepart_5b6462655c53d_14fd2aff9c5b92c89902--

Redirected to http://localhost:3000/
Completed 302 Found in 133ms (ActiveRecord: 5.8ms)


Started GET "/" for 127.0.0.1 at 2018-08-03 17:10:45 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.5ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [2 times] (11.8ms)
  Rendered flats/index.html.erb within layouts/application (31.9ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 423ms (Views: 418.1ms | ActiveRecord: 2.5ms)


  [1m[36mBooking Load (1.1ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mBooking Load (1.1ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 25], ["LIMIT", 1]]
  [1m[36mBooking Destroy (2.0ms)[0m  [1m[31mDELETE FROM "bookings"[0m
  [1m[36mBooking Load (1.0ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" LIMIT $1[0m  [["LIMIT", 11]]
Started GET "/flats/1" for 127.0.0.1 at 2018-08-03 17:13:44 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:49
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (11.6ms)
  Rendered flats/show.html.erb within layouts/application (31.5ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 251ms (Views: 220.6ms | ActiveRecord: 8.9ms)


Started POST "/flats/1/bookings" for 127.0.0.1 at 2018-08-03 17:13:57 +0300
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"cnRJs5Zm3mIQur3lhkZDGEus6WUk/qZN5J5r1FV6R5+trgKD8mFteScHcFrvHchu2Q8sUSkPBz6V5NUB/aMEAA==", "booking"=>{"notice"=>"ghfghfghfg", "start_date"=>"18-08-14", "end_date"=>"18-08-15"}, "commit"=>"Book this flat", "flat_id"=>"1"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:12
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/bookings_controller.rb:15
  [1m[36mFlat Load (1.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:15
  [1m[36mBooking Create (0.6ms)[0m  [1m[32mINSERT INTO "bookings" ("user_id", "flat_id", "created_at", "updated_at", "notice", "start_date", "end_date") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 1], ["flat_id", 1], ["created_at", "2018-08-03 14:13:57.650621"], ["updated_at", "2018-08-03 14:13:57.650621"], ["notice", "ghfghfghfg"], ["start_date", "0018-08-14"], ["end_date", "0018-08-15"]]
  ↳ app/controllers/bookings_controller.rb:15
  [1m[35m (2.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/bookings_controller.rb:15
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/mailers/create_booking_mailer.rb:5
  Rendering create_booking_mailer/new_booking.html.erb within layouts/mailer
  Rendered create_booking_mailer/new_booking.html.erb within layouts/mailer (2.2ms)
  Rendering create_booking_mailer/new_booking.text.erb within layouts/mailer
  Rendered create_booking_mailer/new_booking.text.erb within layouts/mailer (2.0ms)
CreateBookingMailer#new_booking: processed outbound mail in 30.9ms
Sent mail to tork@gmail.com (60.6ms)
Date: Fri, 03 Aug 2018 17:13:57 +0300
From: yorkqw@gmail.com
To: tork@gmail.com
Message-ID: <5b646325ad23d_14fd2aff9c5b94d099350@york-HP-250-G5-Notebook-PC.mail>
Subject: Your flat booked
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5b646325a9f48_14fd2aff9c5b94d0992c";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5b646325a9f48_14fd2aff9c5b94d0992c
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hello Tork

Tork booked your flat Letuchiy Gollandets from 0018-08-14 to 0018-08-15 and say:
ghfghfghfg


----==_mimepart_5b646325a9f48_14fd2aff9c5b94d0992c
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <h1> Hello Tork</h1>

Tork booked your flat Letuchiy Gollandets from 0018-08-14 to 0018-08-15 and say:
ghfghfghfg


  </body>
</html>

----==_mimepart_5b646325a9f48_14fd2aff9c5b94d0992c--

Completed 500 Internal Server Error in 148ms (ActiveRecord: 6.0ms)


  
NoMethodError (undefined method `<<' for nil:NilClass):
  
app/services/booking_service.rb:8:in `block in add_reserved_date'
app/services/booking_service.rb:7:in `add_reserved_date'
app/controllers/bookings_controller.rb:17:in `create'
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(8115692404137957555)[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
Migrating to AddDefaultreservedDate (20180803141611)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (4.4ms)[0m  [1m[35mALTER TABLE "flats" ALTER COLUMN "reserved_date" TYPE date[], ALTER COLUMN "reserved_date" SET DEFAULT '{}'[0m
  ↳ db/migrate/20180803141611_add_defaultreserved_date.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20180803141611"]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[36mActiveRecord::InternalMetadata Load (1.5ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(8115692404137957555)[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mFlat Load (1.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mFlat Load (0.9ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mFlat Load (1.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mFlat Update (0.3ms)[0m  [1m[33mUPDATE "flats" SET "updated_at" = $1, "reserved_date" = $2 WHERE "flats"."id" = $3[0m  [["updated_at", "2018-08-03 14:21:37.708984"], ["reserved_date", "{}"], ["id", 1]]
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mFlat Load (1.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mFlat Load (1.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mFlat Update (0.3ms)[0m  [1m[33mUPDATE "flats" SET "updated_at" = $1, "reserved_date" = $2 WHERE "flats"."id" = $3[0m  [["updated_at", "2018-08-03 14:22:36.908713"], ["reserved_date", "{}"], ["id", 2]]
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mFlat Load (1.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" LIMIT $1[0m  [["LIMIT", 11]]
Started POST "/flats/1/bookings" for 127.0.0.1 at 2018-08-03 17:23:04 +0300
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"NNozT1LNO06pTgjBACO+Jvk2SMXvRbu5zi6LlQY3ELZqishvkg3Yp0H5fHaBh4lUQOCK8D+nMfK9C9FoBCuFJw==", "booking"=>{"notice"=>"ghfghfghfg", "start_date"=>"2018-08-21", "end_date"=>"2018-08-22"}, "commit"=>"Book this flat", "flat_id"=>"1"}
  [1m[36mUser Load (6.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:12
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/bookings_controller.rb:15
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:15
  [1m[36mBooking Create (0.5ms)[0m  [1m[32mINSERT INTO "bookings" ("user_id", "flat_id", "created_at", "updated_at", "notice", "start_date", "end_date") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 1], ["flat_id", 1], ["created_at", "2018-08-03 14:23:04.976691"], ["updated_at", "2018-08-03 14:23:04.976691"], ["notice", "ghfghfghfg"], ["start_date", "2018-08-21"], ["end_date", "2018-08-22"]]
  ↳ app/controllers/bookings_controller.rb:15
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/bookings_controller.rb:15
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/mailers/create_booking_mailer.rb:5
  Rendering create_booking_mailer/new_booking.html.erb within layouts/mailer
  Rendered create_booking_mailer/new_booking.html.erb within layouts/mailer (2.3ms)
  Rendering create_booking_mailer/new_booking.text.erb within layouts/mailer
  Rendered create_booking_mailer/new_booking.text.erb within layouts/mailer (0.8ms)
CreateBookingMailer#new_booking: processed outbound mail in 55.6ms
Sent mail to tork@gmail.com (71.5ms)
Date: Fri, 03 Aug 2018 17:23:05 +0300
From: yorkqw@gmail.com
To: tork@gmail.com
Message-ID: <5b646549116b4_14fd2aff9c5b939099577@york-HP-250-G5-Notebook-PC.mail>
Subject: Your flat booked
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5b646549d2a7_14fd2aff9c5b939099416";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5b646549d2a7_14fd2aff9c5b939099416
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hello Tork

Tork booked your flat Letuchiy Gollandets from 2018-08-21 to 2018-08-22 and say:
ghfghfghfg


----==_mimepart_5b646549d2a7_14fd2aff9c5b939099416
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <h1> Hello Tork</h1>

Tork booked your flat Letuchiy Gollandets from 2018-08-21 to 2018-08-22 and say:
ghfghfghfg


  </body>
</html>

----==_mimepart_5b646549d2a7_14fd2aff9c5b939099416--

Redirected to http://localhost:3000/
Completed 302 Found in 319ms (ActiveRecord: 34.4ms)


Started GET "/" for 127.0.0.1 at 2018-08-03 17:23:05 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (3.2ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [2 times] (20.5ms)
  Rendered flats/index.html.erb within layouts/application (55.6ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 451ms (Views: 444.3ms | ActiveRecord: 4.2ms)


  [1m[36mFlat Load (1.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/flats/new" for 127.0.0.1 at 2018-08-03 17:25:06 +0300
Processing by FlatsController#new as HTML
  Rendering flats/new.html.erb within layouts/application
  Rendered flats/_form.html.erb (39.7ms)
  Rendered flats/new.html.erb within layouts/application (41.7ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 327ms (Views: 324.1ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2018-08-03 17:26:57 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.2ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [2 times] (18.2ms)
  Rendered flats/index.html.erb within layouts/application (33.5ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 541ms (Views: 535.8ms | ActiveRecord: 3.2ms)


Started POST "/flats" for 127.0.0.1 at 2018-08-03 17:28:25 +0300
Processing by FlatsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"J+BwONzV5vdWrHWj0uIUbhw8/Z/9QvBTy78aXh/PpEdI1zym7GnoNmgjKBWtacHZyI1FCvATaTbRXIFoZWmPEg==", "flat"=>{"name"=>"Boutique Hotel Villa P", "city"=>"Uzhhorod", "address"=>"Kapitulna Street 22", "description"=>"Located in a historical villa, this property is set just 50 m from the Uzhgorod Castle and offers a wine cellar with tasting sessions. Free parking, free WiFi and a 24-hour reception are featured at Boutique Hotel Villa P.\r\nThe bright, air-conditioned rooms offer warm-coloured interiors and classic-style décor. All rooms include a flat-screen TV, a minibar and a private bathroom with bathrobes, slippers and a hairdryer.\r\n\r\nThe on-site restaurant serves continental breakfast every morning. You can have a set meal dinner with a preliminary order.\r\n\r\nThe Uzh River is a 2-minute walk from the hotel.\r\n\r\nUzhgorod Central Train Station is 2 km from Boutique Hotel Villa P, and Uzhgorod Airport is 3 km away. \r\n\r\nThis property also has one of the best-rated locations in Uzhhorod! Guests are happier about it compared to other properties in the area.\r\n\r\nCouples particularly like the location — they rated it 9.8 for a two-person trip.\r\n\r\nThis property is also rated for the best value in Uzhhorod! Guests are getting more for their money when compared to other properties in this city.\r\n\r\nWe speak your language!\r\n\r\nBoutique Hotel Villa P has been welcoming Booking guests since 13 May 2013.", "capacity"=>"2", "price"=>"55", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007faf0a7c5900 @tempfile=#<Tempfile:/tmp/RackMultipart20180803-5373-14e099m.jpg>, @original_filename="106311545.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"flat[image]\"; filename=\"106311545.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "commit"=>"Save"}
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:19
[paperclip] Trying to link /tmp/RackMultipart20180803-5373-14e099m.jpg to /tmp/e5a2d330915cbe559b9e4d436242c0ff20180803-5373-4ww9wh.jpg
[paperclip] Trying to link /tmp/e5a2d330915cbe559b9e4d436242c0ff20180803-5373-4ww9wh.jpg to /tmp/e5a2d330915cbe559b9e4d436242c0ff20180803-5373-wfn9rt.jpg
Command :: file -b --mime '/tmp/e5a2d330915cbe559b9e4d436242c0ff20180803-5373-wfn9rt.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/e5a2d330915cbe559b9e4d436242c0ff20180803-5373-4ww9wh.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/e5a2d330915cbe559b9e4d436242c0ff20180803-5373-4ww9wh.jpg[0]'
Command :: convert '/tmp/e5a2d330915cbe559b9e4d436242c0ff20180803-5373-4ww9wh.jpg[0]' -auto-orient -resize "800x800>" '/tmp/389a2035d5458b224f7dacbfbfd59f4e20180803-5373-x190xb'
[paperclip] Trying to link /tmp/389a2035d5458b224f7dacbfbfd59f4e20180803-5373-x190xb to /tmp/9a9f6a29bdda9bf2ca35e5ec3b4b66f920180803-5373-546hsr
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/e5a2d330915cbe559b9e4d436242c0ff20180803-5373-4ww9wh.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/e5a2d330915cbe559b9e4d436242c0ff20180803-5373-4ww9wh.jpg[0]'
Command :: convert '/tmp/e5a2d330915cbe559b9e4d436242c0ff20180803-5373-4ww9wh.jpg[0]' -auto-orient -resize "300x300>" '/tmp/389a2035d5458b224f7dacbfbfd59f4e20180803-5373-5p9uke'
[paperclip] Trying to link /tmp/389a2035d5458b224f7dacbfbfd59f4e20180803-5373-5p9uke to /tmp/1d427eee0272ea466f4a481beb84c19d20180803-5373-vatj0j
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/e5a2d330915cbe559b9e4d436242c0ff20180803-5373-4ww9wh.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/e5a2d330915cbe559b9e4d436242c0ff20180803-5373-4ww9wh.jpg[0]'
Command :: convert '/tmp/e5a2d330915cbe559b9e4d436242c0ff20180803-5373-4ww9wh.jpg[0]' -auto-orient -resize "100x100>" '/tmp/389a2035d5458b224f7dacbfbfd59f4e20180803-5373-1njcv1v'
[paperclip] Trying to link /tmp/389a2035d5458b224f7dacbfbfd59f4e20180803-5373-1njcv1v to /tmp/a11c89517c5b56732db584dd0736822520180803-5373-13ybcyl
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/flats_controller.rb:21
[paperclip] Trying to link /tmp/e5a2d330915cbe559b9e4d436242c0ff20180803-5373-4ww9wh.jpg to /tmp/e5a2d330915cbe559b9e4d436242c0ff20180803-5373-1szvgco.jpg
Command :: file -b --mime '/tmp/e5a2d330915cbe559b9e4d436242c0ff20180803-5373-1szvgco.jpg'
  [1m[36mFlat Create (0.9ms)[0m  [1m[32mINSERT INTO "flats" ("name", "address", "description", "capacity", "price", "created_at", "updated_at", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "user_id", "city") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13) RETURNING "id"[0m  [["name", "Boutique Hotel Villa P"], ["address", "Kapitulna Street 22"], ["description", "Located in a historical villa, this property is set just 50 m from the Uzhgorod Castle and offers a wine cellar with tasting sessions. Free parking, free WiFi and a 24-hour reception are featured at Boutique Hotel Villa P.\r\nThe bright, air-conditioned rooms offer warm-coloured interiors and classic-style décor. All rooms include a flat-screen TV, a minibar and a private bathroom with bathrobes, slippers and a hairdryer.\r\n\r\nThe on-site restaurant serves continental breakfast every morning. You can have a set meal dinner with a preliminary order.\r\n\r\nThe Uzh River is a 2-minute walk from the hotel.\r\n\r\nUzhgorod Central Train Station is 2 km from Boutique Hotel Villa P, and Uzhgorod Airport is 3 km away. \r\n\r\nThis property also has one of the best-rated locations in Uzhhorod! Guests are happier about it compared to other properties in the area.\r\n\r\nCouples particularly like the location — they rated it 9.8 for a two-person trip.\r\n\r\nThis property is also rated for the best value in Uzhhorod! Guests are getting more for their money when compared to other properties in this city.\r\n\r\nWe speak your language!\r\n\r\nBoutique Hotel Villa P has been welcoming Booking guests since 13 May 2013."], ["capacity", 2], ["price", 55], ["created_at", "2018-08-03 14:28:26.303477"], ["updated_at", "2018-08-03 14:28:26.303477"], ["image_file_name", "106311545.jpg"], ["image_content_type", "image/jpeg"], ["image_file_size", 77742], ["image_updated_at", "2018-08-03 14:28:25.902927"], ["user_id", 1], ["city", "Uzhhorod"]]
  ↳ app/controllers/flats_controller.rb:21
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/flats_controller.rb:21
Redirected to http://localhost:3000/flats/3
Completed 302 Found in 447ms (ActiveRecord: 4.4ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-08-03 17:28:26 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (1.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:49
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (6.2ms)
  Rendered flats/show.html.erb within layouts/application (19.7ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 387ms (Views: 373.2ms | ActiveRecord: 2.1ms)


Started POST "/flats/3/bookings" for 127.0.0.1 at 2018-08-03 17:28:41 +0300
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"z7CNYeqOukHxrdbO0z08KbEKy1SfFCwoxCWc87j3+haR4HZBKk5ZqBkaonlSmQtbCNwJYU/2pmO3AMYOuutvhw==", "booking"=>{"notice"=>"ghgfh", "start_date"=>"2018-08-08", "end_date"=>"2018-08-11"}, "commit"=>"Book this flat", "flat_id"=>"3"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:12
  [1m[35m (1.0ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/bookings_controller.rb:15
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:15
  [1m[36mBooking Create (1.0ms)[0m  [1m[32mINSERT INTO "bookings" ("user_id", "flat_id", "created_at", "updated_at", "notice", "start_date", "end_date") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 1], ["flat_id", 3], ["created_at", "2018-08-03 14:28:41.953490"], ["updated_at", "2018-08-03 14:28:41.953490"], ["notice", "ghgfh"], ["start_date", "2018-08-08"], ["end_date", "2018-08-11"]]
  ↳ app/controllers/bookings_controller.rb:15
  [1m[35m (4.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/bookings_controller.rb:15
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/mailers/create_booking_mailer.rb:5
  Rendering create_booking_mailer/new_booking.html.erb within layouts/mailer
  Rendered create_booking_mailer/new_booking.html.erb within layouts/mailer (1.2ms)
  Rendering create_booking_mailer/new_booking.text.erb within layouts/mailer
  Rendered create_booking_mailer/new_booking.text.erb within layouts/mailer (0.9ms)
CreateBookingMailer#new_booking: processed outbound mail in 50.7ms
Sent mail to tork@gmail.com (98.9ms)
Date: Fri, 03 Aug 2018 17:28:42 +0300
From: yorkqw@gmail.com
To: tork@gmail.com
Message-ID: <5b64669a6276_14fd2aff9c5b91c4997d@york-HP-250-G5-Notebook-PC.mail>
Subject: Your flat booked
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5b64669a20dc_14fd2aff9c5b91c4996ef";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5b64669a20dc_14fd2aff9c5b91c4996ef
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hello Tork

Tork booked your flat Boutique Hotel Villa P from 2018-08-08 to 2018-08-11 and say:
ghgfh


----==_mimepart_5b64669a20dc_14fd2aff9c5b91c4996ef
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <h1> Hello Tork</h1>

Tork booked your flat Boutique Hotel Villa P from 2018-08-08 to 2018-08-11 and say:
ghgfh


  </body>
</html>

----==_mimepart_5b64669a20dc_14fd2aff9c5b91c4996ef--

Redirected to http://localhost:3000/
Completed 302 Found in 181ms (ActiveRecord: 9.3ms)


Started GET "/" for 127.0.0.1 at 2018-08-03 17:28:42 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (36.4ms)
  Rendered flats/index.html.erb within layouts/application (60.7ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 555ms (Views: 546.9ms | ActiveRecord: 1.9ms)


  [1m[36mFlat Load (1.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBooking Load (0.6ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" LIMIT $1[0m  [["LIMIT", 11]]
Started GET "/flats/3" for 127.0.0.1 at 2018-08-03 17:33:37 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:49
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (10.9ms)
  Rendered flats/show.html.erb within layouts/application (29.8ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 240ms (Views: 210.6ms | ActiveRecord: 8.4ms)


Started POST "/flats/3/bookings" for 127.0.0.1 at 2018-08-03 17:33:47 +0300
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"rKC3DtfW/7BffYkkXc8oxmbEJNp4WZHQm7woIKTPLULkJmwL8izRedciHWuQJ3EovRspysHsWr+T0s8J6MccWQ==", "booking"=>{"notice"=>"trhrtfhgfh", "start_date"=>"18-08-20", "end_date"=>"18-08-22"}, "commit"=>"Book this flat", "flat_id"=>"3"}
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:12
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/bookings_controller.rb:15
  [1m[36mFlat Load (1.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:15
  [1m[36mBooking Create (2.1ms)[0m  [1m[32mINSERT INTO "bookings" ("user_id", "flat_id", "created_at", "updated_at", "notice", "start_date", "end_date") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 1], ["flat_id", 3], ["created_at", "2018-08-03 14:33:48.044220"], ["updated_at", "2018-08-03 14:33:48.044220"], ["notice", "trhrtfhgfh"], ["start_date", "0018-08-20"], ["end_date", "0018-08-22"]]
  ↳ app/controllers/bookings_controller.rb:15
  [1m[35m (2.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/bookings_controller.rb:15
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/mailers/create_booking_mailer.rb:5
  Rendering create_booking_mailer/new_booking.html.erb within layouts/mailer
  Rendered create_booking_mailer/new_booking.html.erb within layouts/mailer (3.0ms)
  Rendering create_booking_mailer/new_booking.text.erb within layouts/mailer
  Rendered create_booking_mailer/new_booking.text.erb within layouts/mailer (1.6ms)
CreateBookingMailer#new_booking: processed outbound mail in 49.5ms
Sent mail to tork@gmail.com (58.7ms)
Date: Fri, 03 Aug 2018 17:33:48 +0300
From: yorkqw@gmail.com
To: tork@gmail.com
Message-ID: <5b6467cc1f410_14fd2aff9c5b92c899994@york-HP-250-G5-Notebook-PC.mail>
Subject: Your flat booked
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5b6467cc1e8e3_14fd2aff9c5b92c899854";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5b6467cc1e8e3_14fd2aff9c5b92c899854
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hello Tork

Tork booked your flat Boutique Hotel Villa P from 0018-08-20 to 0018-08-22 and say:
trhrtfhgfh


----==_mimepart_5b6467cc1e8e3_14fd2aff9c5b92c899854
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <h1> Hello Tork</h1>

Tork booked your flat Boutique Hotel Villa P from 0018-08-20 to 0018-08-22 and say:
trhrtfhgfh


  </body>
</html>

----==_mimepart_5b6467cc1e8e3_14fd2aff9c5b92c899854--

Completed 500 Internal Server Error in 96791ms (ActiveRecord: 9.7ms)


  
SystemExit (exit):
  
(byebug):1:in `exit'
(byebug):1:in `block in add_reserved_date'
app/services/booking_service.rb:9:in `block in add_reserved_date'
app/services/booking_service.rb:7:in `add_reserved_date'
app/controllers/bookings_controller.rb:17:in `create'
Started POST "/flats/3/bookings" for 127.0.0.1 at 2018-08-03 17:36:15 +0300
  [1m[35m (2.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"P73JHb1JoNeu7P6A8UhHSzY4y5jnIF6DZQgwMSSrwxdh7TI9fYlDPkZbijdw7HA5j+4JrTfC1MgWLWrMJrdWhg==", "booking"=>{"notice"=>"credit dog", "start_date"=>"2018-08-06", "end_date"=>"2018-08-09"}, "commit"=>"Book this flat", "flat_id"=>"3"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:12
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/bookings_controller.rb:15
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:15
  [1m[36mBooking Create (0.6ms)[0m  [1m[32mINSERT INTO "bookings" ("user_id", "flat_id", "created_at", "updated_at", "notice", "start_date", "end_date") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 1], ["flat_id", 3], ["created_at", "2018-08-03 14:36:16.297874"], ["updated_at", "2018-08-03 14:36:16.297874"], ["notice", "credit dog"], ["start_date", "2018-08-06"], ["end_date", "2018-08-09"]]
  ↳ app/controllers/bookings_controller.rb:15
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/bookings_controller.rb:15
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/mailers/create_booking_mailer.rb:5
  Rendering create_booking_mailer/new_booking.html.erb within layouts/mailer
  Rendered create_booking_mailer/new_booking.html.erb within layouts/mailer (0.9ms)
  Rendering create_booking_mailer/new_booking.text.erb within layouts/mailer
  Rendered create_booking_mailer/new_booking.text.erb within layouts/mailer (0.4ms)
CreateBookingMailer#new_booking: processed outbound mail in 52.9ms
Sent mail to tork@gmail.com (55.1ms)
Date: Fri, 03 Aug 2018 17:36:16 +0300
From: yorkqw@gmail.com
To: tork@gmail.com
Message-ID: <5b646860990ec_1cbd2ab7c8e1873c18051@york-HP-250-G5-Notebook-PC.mail>
Subject: Your flat booked
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5b646860977f9_1cbd2ab7c8e1873c17996";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5b646860977f9_1cbd2ab7c8e1873c17996
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hello Tork

Tork booked your flat Boutique Hotel Villa P from 2018-08-06 to 2018-08-09 and say:
credit dog


----==_mimepart_5b646860977f9_1cbd2ab7c8e1873c17996
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <h1> Hello Tork</h1>

Tork booked your flat Boutique Hotel Villa P from 2018-08-06 to 2018-08-09 and say:
credit dog


  </body>
</html>

----==_mimepart_5b646860977f9_1cbd2ab7c8e1873c17996--

Redirected to http://localhost:3000/
Completed 302 Found in 578ms (ActiveRecord: 23.9ms)


Started GET "/" for 127.0.0.1 at 2018-08-03 17:36:16 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.4ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (678.1ms)
  Rendered flats/index.html.erb within layouts/application (691.0ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 1131ms (Views: 1115.0ms | ActiveRecord: 3.8ms)


  [1m[36mFlat Load (1.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Started GET "/flats/3" for 127.0.0.1 at 2018-08-03 17:37:19 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:49
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (21.3ms)
  Rendered flats/show.html.erb within layouts/application (43.3ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 266ms (Views: 234.7ms | ActiveRecord: 7.6ms)


Started POST "/flats/3/bookings" for 127.0.0.1 at 2018-08-03 17:37:31 +0300
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"bpeXE1bPWeMY8jtRiESae/QY+59BRfJQ+NXC7MpMd84mEUwWczV3KpCtrx5FrMOVL8f2j/jwOT/wuyXFhkRG1Q==", "booking"=>{"notice"=>"cat", "start_date"=>"18-08-06", "end_date"=>"18-08-09"}, "commit"=>"Book this flat", "flat_id"=>"3"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:12
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/bookings_controller.rb:15
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:15
  [1m[36mBooking Create (0.5ms)[0m  [1m[32mINSERT INTO "bookings" ("user_id", "flat_id", "created_at", "updated_at", "notice", "start_date", "end_date") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 1], ["flat_id", 3], ["created_at", "2018-08-03 14:37:31.181571"], ["updated_at", "2018-08-03 14:37:31.181571"], ["notice", "cat"], ["start_date", "0018-08-06"], ["end_date", "0018-08-09"]]
  ↳ app/controllers/bookings_controller.rb:15
  [1m[35m (2.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/bookings_controller.rb:15
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/mailers/create_booking_mailer.rb:5
  Rendering create_booking_mailer/new_booking.html.erb within layouts/mailer
  Rendered create_booking_mailer/new_booking.html.erb within layouts/mailer (1.3ms)
  Rendering create_booking_mailer/new_booking.text.erb within layouts/mailer
  Rendered create_booking_mailer/new_booking.text.erb within layouts/mailer (0.7ms)
CreateBookingMailer#new_booking: processed outbound mail in 46.6ms
Sent mail to tork@gmail.com (73.0ms)
Date: Fri, 03 Aug 2018 17:37:31 +0300
From: yorkqw@gmail.com
To: tork@gmail.com
Message-ID: <5b6468ab3e19f_1cbd2ab7c8e18408182fb@york-HP-250-G5-Notebook-PC.mail>
Subject: Your flat booked
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5b6468ab3b26e_1cbd2ab7c8e1840818167";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5b6468ab3b26e_1cbd2ab7c8e1840818167
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hello Tork

Tork booked your flat Boutique Hotel Villa P from 0018-08-06 to 0018-08-09 and say:
cat


----==_mimepart_5b6468ab3b26e_1cbd2ab7c8e1840818167
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <h1> Hello Tork</h1>

Tork booked your flat Boutique Hotel Villa P from 0018-08-06 to 0018-08-09 and say:
cat


  </body>
</html>

----==_mimepart_5b6468ab3b26e_1cbd2ab7c8e1840818167--

  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/booking_service.rb:10
  [1m[36mFlat Update (0.5ms)[0m  [1m[33mUPDATE "flats" SET "reserved_date" = $1, "updated_at" = $2 WHERE "flats"."id" = $3[0m  [["reserved_date", "{0018-08-06}"], ["updated_at", "2018-08-03 14:37:31.328224"], ["id", 3]]
  ↳ app/services/booking_service.rb:10
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/booking_service.rb:10
  [1m[35m (9.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/booking_service.rb:10
  [1m[36mFlat Update (0.7ms)[0m  [1m[33mUPDATE "flats" SET "reserved_date" = $1, "updated_at" = $2 WHERE "flats"."id" = $3[0m  [["reserved_date", "{0018-08-06,0018-08-07}"], ["updated_at", "2018-08-03 14:37:31.344516"], ["id", 3]]
  ↳ app/services/booking_service.rb:10
  [1m[35m (2.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/booking_service.rb:10
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/booking_service.rb:10
  [1m[36mFlat Update (0.5ms)[0m  [1m[33mUPDATE "flats" SET "reserved_date" = $1, "updated_at" = $2 WHERE "flats"."id" = $3[0m  [["reserved_date", "{0018-08-06,0018-08-07,0018-08-08}"], ["updated_at", "2018-08-03 14:37:31.355395"], ["id", 3]]
  ↳ app/services/booking_service.rb:10
  [1m[35m (2.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/booking_service.rb:10
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/booking_service.rb:10
  [1m[36mFlat Update (0.5ms)[0m  [1m[33mUPDATE "flats" SET "reserved_date" = $1, "updated_at" = $2 WHERE "flats"."id" = $3[0m  [["reserved_date", "{0018-08-06,0018-08-07,0018-08-08,0018-08-09}"], ["updated_at", "2018-08-03 14:37:31.361536"], ["id", 3]]
  ↳ app/services/booking_service.rb:10
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/booking_service.rb:10
Redirected to http://localhost:3000/
Completed 302 Found in 202ms (ActiveRecord: 26.8ms)


Started GET "/" for 127.0.0.1 at 2018-08-03 17:37:31 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.5ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (31.2ms)
  Rendered flats/index.html.erb within layouts/application (54.7ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 453ms (Views: 447.5ms | ActiveRecord: 3.3ms)


  [1m[36mFlat Load (1.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBooking Destroy (3.5ms)[0m  [1m[31mDELETE FROM "bookings"[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mFlat Update (0.4ms)[0m  [1m[33mUPDATE "flats" SET "updated_at" = $1, "reserved_date" = $2 WHERE "flats"."id" = $3[0m  [["updated_at", "2018-08-03 14:39:35.950157"], ["reserved_date", "{}"], ["id", 3]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
Started GET "/" for 127.0.0.1 at 2018-08-03 17:45:13 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (9.6ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (27.3ms)
  Rendered flats/index.html.erb within layouts/application (53.4ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 464ms (Views: 451.4ms | ActiveRecord: 10.7ms)


Started GET "/flats/2" for 127.0.0.1 at 2018-08-03 17:45:17 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:49
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (2.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (4.1ms)
  Rendered flats/show.html.erb within layouts/application (21.3ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 274ms (Views: 267.4ms | ActiveRecord: 3.7ms)


Started GET "/" for 127.0.0.1 at 2018-08-03 17:45:33 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.8ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (19.9ms)
  Rendered flats/index.html.erb within layouts/application (30.2ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 294ms (Views: 290.6ms | ActiveRecord: 1.7ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-03 17:45:35 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (2.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:49
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (12.3ms)
  Rendered flats/show.html.erb within layouts/application (38.6ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 268ms (Views: 257.0ms | ActiveRecord: 4.1ms)


Started POST "/flats/1/bookings" for 127.0.0.1 at 2018-08-03 17:45:48 +0300
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Fi+tI+JUP/GRlLYbMKSOc6x4s0vU26qW/39wjrMwRhbJ9eYThlOM6qYpe6RZ/wUFPtt2f9kqC+WOBc5bG+kFiQ==", "booking"=>{"notice"=>"7 dogs", "start_date"=>"18-08-14", "end_date"=>"18-08-17"}, "commit"=>"Book this flat", "flat_id"=>"1"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:12
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/bookings_controller.rb:15
  [1m[36mFlat Load (4.9ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:15
  [1m[36mBooking Create (1.9ms)[0m  [1m[32mINSERT INTO "bookings" ("user_id", "flat_id", "created_at", "updated_at", "notice", "start_date", "end_date") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 1], ["flat_id", 1], ["created_at", "2018-08-03 14:45:48.851124"], ["updated_at", "2018-08-03 14:45:48.851124"], ["notice", "7 dogs"], ["start_date", "0018-08-14"], ["end_date", "0018-08-17"]]
  ↳ app/controllers/bookings_controller.rb:15
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/bookings_controller.rb:15
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/mailers/create_booking_mailer.rb:5
  Rendering create_booking_mailer/new_booking.html.erb within layouts/mailer
  Rendered create_booking_mailer/new_booking.html.erb within layouts/mailer (0.5ms)
  Rendering create_booking_mailer/new_booking.text.erb within layouts/mailer
  Rendered create_booking_mailer/new_booking.text.erb within layouts/mailer (0.4ms)
CreateBookingMailer#new_booking: processed outbound mail in 19.5ms
Sent mail to tork@gmail.com (62.3ms)
Date: Fri, 03 Aug 2018 17:45:48 +0300
From: yorkqw@gmail.com
To: tork@gmail.com
Message-ID: <5b646a9cd635b_1cbd2ab7c8e1893018481@york-HP-250-G5-Notebook-PC.mail>
Subject: Your flat booked
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5b646a9cd58e8_1cbd2ab7c8e18930183e3";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5b646a9cd58e8_1cbd2ab7c8e18930183e3
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hello Tork

Tork booked your flat Letuchiy Gollandets from 0018-08-14 to 0018-08-17 and say:
7 dogs


----==_mimepart_5b646a9cd58e8_1cbd2ab7c8e18930183e3
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <h1> Hello Tork</h1>

Tork booked your flat Letuchiy Gollandets from 0018-08-14 to 0018-08-17 and say:
7 dogs


  </body>
</html>

----==_mimepart_5b646a9cd58e8_1cbd2ab7c8e18930183e3--

  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/booking_service.rb:10
  [1m[36mFlat Update (0.5ms)[0m  [1m[33mUPDATE "flats" SET "reserved_date" = $1, "updated_at" = $2 WHERE "flats"."id" = $3[0m  [["reserved_date", "{0018-08-14}"], ["updated_at", "2018-08-03 14:45:48.942055"], ["id", 1]]
  ↳ app/services/booking_service.rb:10
  [1m[35m (3.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/booking_service.rb:10
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/booking_service.rb:10
  [1m[36mFlat Update (0.6ms)[0m  [1m[33mUPDATE "flats" SET "reserved_date" = $1, "updated_at" = $2 WHERE "flats"."id" = $3[0m  [["reserved_date", "{0018-08-14,0018-08-15}"], ["updated_at", "2018-08-03 14:45:48.967715"], ["id", 1]]
  ↳ app/services/booking_service.rb:10
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/booking_service.rb:10
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/booking_service.rb:10
  [1m[36mFlat Update (0.5ms)[0m  [1m[33mUPDATE "flats" SET "reserved_date" = $1, "updated_at" = $2 WHERE "flats"."id" = $3[0m  [["reserved_date", "{0018-08-14,0018-08-15,0018-08-16}"], ["updated_at", "2018-08-03 14:45:48.983222"], ["id", 1]]
  ↳ app/services/booking_service.rb:10
  [1m[35m (5.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/booking_service.rb:10
  [1m[35m (1.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/booking_service.rb:10
  [1m[36mFlat Update (1.5ms)[0m  [1m[33mUPDATE "flats" SET "reserved_date" = $1, "updated_at" = $2 WHERE "flats"."id" = $3[0m  [["reserved_date", "{0018-08-14,0018-08-15,0018-08-16,0018-08-17}"], ["updated_at", "2018-08-03 14:45:49.002120"], ["id", 1]]
  ↳ app/services/booking_service.rb:10
  [1m[35m (3.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/booking_service.rb:10
Redirected to http://localhost:3000/
Completed 302 Found in 219ms (ActiveRecord: 28.4ms)


Started GET "/" for 127.0.0.1 at 2018-08-03 17:45:49 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (4.2ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (18.8ms)
  Rendered flats/index.html.erb within layouts/application (37.4ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 388ms (Views: 379.4ms | ActiveRecord: 5.8ms)


Started GET "/flats/2" for 127.0.0.1 at 2018-08-03 17:45:53 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mFlat Load (0.9ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:49
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (3.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (10.3ms)
  Rendered flats/show.html.erb within layouts/application (46.4ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 323ms (Views: 310.5ms | ActiveRecord: 5.0ms)


Started GET "/" for 127.0.0.1 at 2018-08-03 17:45:56 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.1ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (47.6ms)
  Rendered flats/index.html.erb within layouts/application (66.8ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 329ms (Views: 318.7ms | ActiveRecord: 4.5ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-08-03 17:45:57 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (1.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:49
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (9.2ms)
  Rendered flats/show.html.erb within layouts/application (35.4ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 287ms (Views: 277.3ms | ActiveRecord: 2.7ms)


Started GET "/" for 127.0.0.1 at 2018-08-03 17:45:59 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.6ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (21.4ms)
  Rendered flats/index.html.erb within layouts/application (37.1ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 313ms (Views: 301.8ms | ActiveRecord: 2.5ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-03 17:46:00 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (1.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:49
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (8.4ms)
  Rendered flats/show.html.erb within layouts/application (30.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 292ms (Views: 284.6ms | ActiveRecord: 2.1ms)


Started POST "/flats/1/bookings" for 127.0.0.1 at 2018-08-03 17:47:57 +0300
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"p+Gm8WewVzhpds21HvaFvtAnjE7WM6YBoHkUHnvCSb14O+3BA7fkI17LAAp3rQ7IQoRJetvCB3LRA6rL0xsKIg==", "booking"=>{"notice"=>"uiyuiyu", "start_date"=>"18-08-19", "end_date"=>"18-08-20"}, "commit"=>"Book this flat", "flat_id"=>"1"}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:12
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/bookings_controller.rb:15
  [1m[36mFlat Load (0.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:15
  [1m[36mBooking Create (0.5ms)[0m  [1m[32mINSERT INTO "bookings" ("user_id", "flat_id", "created_at", "updated_at", "notice", "start_date", "end_date") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 1], ["flat_id", 1], ["created_at", "2018-08-03 14:47:58.121564"], ["updated_at", "2018-08-03 14:47:58.121564"], ["notice", "uiyuiyu"], ["start_date", "0018-08-19"], ["end_date", "0018-08-20"]]
  ↳ app/controllers/bookings_controller.rb:15
  [1m[35m (2.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/bookings_controller.rb:15
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/mailers/create_booking_mailer.rb:5
  Rendering create_booking_mailer/new_booking.html.erb within layouts/mailer
  Rendered create_booking_mailer/new_booking.html.erb within layouts/mailer (3.2ms)
  Rendering create_booking_mailer/new_booking.text.erb within layouts/mailer
  Rendered create_booking_mailer/new_booking.text.erb within layouts/mailer (0.5ms)
CreateBookingMailer#new_booking: processed outbound mail in 29.6ms
Sent mail to tork@gmail.com (64.7ms)
Date: Fri, 03 Aug 2018 17:47:58 +0300
From: yorkqw@gmail.com
To: tork@gmail.com
Message-ID: <5b646b1e27dce_1cbd2ab7c8e185c01863b@york-HP-250-G5-Notebook-PC.mail>
Subject: Your flat booked
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5b646b1e27317_1cbd2ab7c8e185c01857e";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5b646b1e27317_1cbd2ab7c8e185c01857e
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hello Tork

Tork booked your flat Letuchiy Gollandets from 0018-08-19 to 0018-08-20 and say:
uiyuiyu


----==_mimepart_5b646b1e27317_1cbd2ab7c8e185c01857e
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <h1> Hello Tork</h1>

Tork booked your flat Letuchiy Gollandets from 0018-08-19 to 0018-08-20 and say:
uiyuiyu


  </body>
</html>

----==_mimepart_5b646b1e27317_1cbd2ab7c8e185c01857e--

Completed 500 Internal Server Error in 231ms (ActiveRecord: 17.5ms)


  
NoMethodError (undefined method `push!' for #<Array:0x00007f66c3cbc588>
Did you mean?  push):
  
app/services/booking_service.rb:9:in `block in add_reserved_date'
app/services/booking_service.rb:7:in `add_reserved_date'
app/controllers/bookings_controller.rb:17:in `create'
Started POST "/flats/1/bookings" for 127.0.0.1 at 2018-08-03 17:48:14 +0300
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"p+Gm8WewVzhpds21HvaFvtAnjE7WM6YBoHkUHnvCSb14O+3BA7fkI17LAAp3rQ7IQoRJetvCB3LRA6rL0xsKIg==", "booking"=>{"notice"=>"uiyuiyu", "start_date"=>"18-08-19", "end_date"=>"18-08-20"}, "commit"=>"Book this flat", "flat_id"=>"1"}
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:12
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/bookings_controller.rb:15
  [1m[36mFlat Load (1.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:15
  [1m[36mBooking Create (1.5ms)[0m  [1m[32mINSERT INTO "bookings" ("user_id", "flat_id", "created_at", "updated_at", "notice", "start_date", "end_date") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 1], ["flat_id", 1], ["created_at", "2018-08-03 14:48:15.274736"], ["updated_at", "2018-08-03 14:48:15.274736"], ["notice", "uiyuiyu"], ["start_date", "0018-08-19"], ["end_date", "0018-08-20"]]
  ↳ app/controllers/bookings_controller.rb:15
  [1m[35m (2.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/bookings_controller.rb:15
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/mailers/create_booking_mailer.rb:5
  Rendering create_booking_mailer/new_booking.html.erb within layouts/mailer
  Rendered create_booking_mailer/new_booking.html.erb within layouts/mailer (1.2ms)
  Rendering create_booking_mailer/new_booking.text.erb within layouts/mailer
  Rendered create_booking_mailer/new_booking.text.erb within layouts/mailer (0.6ms)
CreateBookingMailer#new_booking: processed outbound mail in 34.6ms
Sent mail to tork@gmail.com (85.7ms)
Date: Fri, 03 Aug 2018 17:48:15 +0300
From: yorkqw@gmail.com
To: tork@gmail.com
Message-ID: <5b646b2f52809_1cbd2ab7c8e18408188d8@york-HP-250-G5-Notebook-PC.mail>
Subject: Your flat booked
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5b646b2f509bd_1cbd2ab7c8e184081871e";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5b646b2f509bd_1cbd2ab7c8e184081871e
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hello Tork

Tork booked your flat Letuchiy Gollandets from 0018-08-19 to 0018-08-20 and say:
uiyuiyu


----==_mimepart_5b646b2f509bd_1cbd2ab7c8e184081871e
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <h1> Hello Tork</h1>

Tork booked your flat Letuchiy Gollandets from 0018-08-19 to 0018-08-20 and say:
uiyuiyu


  </body>
</html>

----==_mimepart_5b646b2f509bd_1cbd2ab7c8e184081871e--

  [1m[35m (3.8ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/booking_service.rb:10
  [1m[36mFlat Update (2.0ms)[0m  [1m[33mUPDATE "flats" SET "reserved_date" = $1, "updated_at" = $2 WHERE "flats"."id" = $3[0m  [["reserved_date", "{0018-08-14,0018-08-15,0018-08-16,0018-08-17,0018-08-19}"], ["updated_at", "2018-08-03 14:48:15.435960"], ["id", 1]]
  ↳ app/services/booking_service.rb:10
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/booking_service.rb:10
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/booking_service.rb:10
  [1m[36mFlat Update (0.7ms)[0m  [1m[33mUPDATE "flats" SET "reserved_date" = $1, "updated_at" = $2 WHERE "flats"."id" = $3[0m  [["reserved_date", "{0018-08-14,0018-08-15,0018-08-16,0018-08-17,0018-08-19,0018-08-20}"], ["updated_at", "2018-08-03 14:48:15.449127"], ["id", 1]]
  ↳ app/services/booking_service.rb:10
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/booking_service.rb:10
Redirected to http://localhost:3000/
Completed 302 Found in 346ms (ActiveRecord: 33.1ms)


Started GET "/" for 127.0.0.1 at 2018-08-03 17:48:15 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (30.1ms)
  Rendered flats/index.html.erb within layouts/application (47.1ms)
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 500ms (Views: 489.0ms | ActiveRecord: 3.0ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-03 17:48:20 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:49
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (6.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (13.9ms)
  Rendered flats/show.html.erb within layouts/application (37.3ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 329ms (Views: 314.9ms | ActiveRecord: 7.3ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-03 17:51:28 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (1.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:49
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (30.7ms)
  Rendered flats/show.html.erb within layouts/application (136.2ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 676ms (Views: 556.2ms | ActiveRecord: 29.3ms)


Started POST "/flats/1/bookings" for 127.0.0.1 at 2018-08-03 17:51:38 +0300
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"zKF2NZG2y+MkqYa52WtSi1gzPwpGWUqfPKiHfwernI+S8Y0VUXYoCswe8g5Yz2X54eX9P5a7wNRPjd2CBbcJHg==", "booking"=>{"notice"=>"", "start_date"=>"2018-08-23", "end_date"=>"2018-08-22"}, "commit"=>"Book this flat", "flat_id"=>"1"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:12
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/bookings_controller.rb:15
  [1m[36mFlat Load (3.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:15
  [1m[36mBooking Create (0.8ms)[0m  [1m[32mINSERT INTO "bookings" ("user_id", "flat_id", "created_at", "updated_at", "notice", "start_date", "end_date") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 1], ["flat_id", 1], ["created_at", "2018-08-03 14:51:38.804889"], ["updated_at", "2018-08-03 14:51:38.804889"], ["notice", ""], ["start_date", "2018-08-23"], ["end_date", "2018-08-22"]]
  ↳ app/controllers/bookings_controller.rb:15
  [1m[35m (2.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/bookings_controller.rb:15
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/mailers/create_booking_mailer.rb:5
  Rendering create_booking_mailer/new_booking.html.erb within layouts/mailer
  Rendered create_booking_mailer/new_booking.html.erb within layouts/mailer (1.0ms)
  Rendering create_booking_mailer/new_booking.text.erb within layouts/mailer
  Rendered create_booking_mailer/new_booking.text.erb within layouts/mailer (3.5ms)
CreateBookingMailer#new_booking: processed outbound mail in 46.1ms
Sent mail to tork@gmail.com (61.2ms)
Date: Fri, 03 Aug 2018 17:51:38 +0300
From: yorkqw@gmail.com
To: tork@gmail.com
Message-ID: <5b646bfad7405_1cbd2ab7c8e1832c19087@york-HP-250-G5-Notebook-PC.mail>
Subject: Your flat booked
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5b646bfad372a_1cbd2ab7c8e1832c18984";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5b646bfad372a_1cbd2ab7c8e1832c18984
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hello Tork

Tork booked your flat Letuchiy Gollandets from 2018-08-23 to 2018-08-22 and say:



----==_mimepart_5b646bfad372a_1cbd2ab7c8e1832c18984
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <h1> Hello Tork</h1>

Tork booked your flat Letuchiy Gollandets from 2018-08-23 to 2018-08-22 and say:



  </body>
</html>

----==_mimepart_5b646bfad372a_1cbd2ab7c8e1832c18984--

Redirected to http://localhost:3000/
Completed 302 Found in 177ms (ActiveRecord: 9.5ms)


Started GET "/" for 127.0.0.1 at 2018-08-03 17:51:38 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (52.9ms)
  Rendered flats/index.html.erb within layouts/application (72.6ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 496ms (Views: 486.6ms | ActiveRecord: 3.3ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-03 17:51:43 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:49
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (3.9ms)
  Rendered flats/show.html.erb within layouts/application (17.9ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 258ms (Views: 249.4ms | ActiveRecord: 1.8ms)


Started POST "/flats/1/bookings" for 127.0.0.1 at 2018-08-03 17:51:55 +0300
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"2AaUeyaJF6bcR6Cd3f6p9ae5aeLLycRcTVb4IRHlv74H3N9LQo6kvev6bSK0pSKDNRqs1sY4ZS88LEb0uTz8IQ==", "booking"=>{"notice"=>"", "start_date"=>"08/24/2018", "end_date"=>"08/25/2018"}, "commit"=>"Book this flat", "flat_id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:12
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/bookings_controller.rb:15
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:15
  [1m[35m (1.0ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/bookings_controller.rb:15
Redirected to http://localhost:3000/flats/1
Completed 302 Found in 18ms (ActiveRecord: 2.3ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-03 17:51:55 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:49
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (8.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (8.8ms)
  Rendered flats/show.html.erb within layouts/application (35.3ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 396ms (Views: 383.1ms | ActiveRecord: 9.3ms)


Started GET "/" for 127.0.0.1 at 2018-08-03 17:52:31 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.5ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (31.8ms)
  Rendered flats/index.html.erb within layouts/application (47.7ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 273ms (Views: 266.0ms | ActiveRecord: 3.0ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-03 17:52:35 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:49
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (3.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (9.1ms)
  Rendered flats/show.html.erb within layouts/application (36.8ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 343ms (Views: 332.9ms | ActiveRecord: 4.5ms)


  [1m[36mBooking Destroy (2.2ms)[0m  [1m[31mDELETE FROM "bookings"[0m
  [1m[36mFlat Load (1.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mFlat Update (0.4ms)[0m  [1m[33mUPDATE "flats" SET "updated_at" = $1, "reserved_date" = $2 WHERE "flats"."id" = $3[0m  [["updated_at", "2018-08-03 14:53:53.813253"], ["reserved_date", "{}"], ["id", 1]]
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
Started GET "/flats/1" for 127.0.0.1 at 2018-08-03 17:54:03 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:49
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (3.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (7.1ms)
  Rendered flats/show.html.erb within layouts/application (24.1ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 615ms (Views: 607.9ms | ActiveRecord: 4.1ms)


Started GET "/" for 127.0.0.1 at 2018-08-03 17:54:07 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (30.6ms)
  Rendered flats/index.html.erb within layouts/application (50.8ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 293ms (Views: 287.3ms | ActiveRecord: 3.3ms)


Started GET "/" for 127.0.0.1 at 2018-08-05 14:21:17 +0300
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.5ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (300.6ms)
  Rendered flats/index.html.erb within layouts/application (348.4ms)
Completed 200 OK in 654ms (Views: 621.2ms | ActiveRecord: 11.8ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-05 14:21:56 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:49
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (45.3ms)
  Rendered flats/show.html.erb within layouts/application (51.7ms)
Completed 200 OK in 259ms (Views: 252.4ms | ActiveRecord: 3.7ms)


Started GET "/" for 127.0.0.1 at 2018-08-05 14:22:07 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (15.0ms)
  Rendered flats/index.html.erb within layouts/application (23.3ms)
Completed 200 OK in 215ms (Views: 213.0ms | ActiveRecord: 1.0ms)


Started GET "/flats/2" for 127.0.0.1 at 2018-08-05 14:22:09 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mFlat Load (0.9ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:49
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (8.6ms)
  Rendered flats/show.html.erb within layouts/application (28.5ms)
Completed 200 OK in 255ms (Views: 248.7ms | ActiveRecord: 2.0ms)


Started GET "/" for 127.0.0.1 at 2018-08-05 14:22:12 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.9ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (41.6ms)
  Rendered flats/index.html.erb within layouts/application (61.2ms)
Completed 200 OK in 267ms (Views: 252.7ms | ActiveRecord: 3.5ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-08-05 14:22:13 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (1.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:49
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (8.9ms)
  Rendered flats/show.html.erb within layouts/application (32.1ms)
Completed 200 OK in 227ms (Views: 212.2ms | ActiveRecord: 2.4ms)


Started GET "/" for 127.0.0.1 at 2018-08-05 14:22:36 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (6.4ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (38.3ms)
  Rendered flats/index.html.erb within layouts/application (62.6ms)
Completed 200 OK in 252ms (Views: 239.7ms | ActiveRecord: 8.4ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-05 15:22:57 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (2.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:49
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (4.9ms)
  Rendered flats/show.html.erb within layouts/application (24.2ms)
Completed 200 OK in 223ms (Views: 211.7ms | ActiveRecord: 4.7ms)


Started POST "/flats/1/bookings" for 127.0.0.1 at 2018-08-05 15:23:22 +0300
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"0jfb0dj6MGfGA9eL2hzzz7sqrf8GuoUAhd5kjm9UbXSSff4GZei1x1wfxkzXDL6lQQ9qff6ZK63Sx07eS+StOA==", "booking"=>{"notice"=>"7 dogs", "start_date"=>"09-08-2018", "end_date"=>"16-08-2018"}, "commit"=>"Book this flat", "flat_id"=>"1"}
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `bookings' for nil:NilClass):
  
app/controllers/bookings_controller.rb:12:in `create'
Started GET "/users/sign_in" for 127.0.0.1 at 2018-08-05 15:23:30 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (5.4ms)
  Rendered devise/sessions/new.html.erb within layouts/application (26.5ms)
Completed 200 OK in 235ms (Views: 228.8ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-08-05 15:23:37 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"kcZHQfcg7oMgr/AbUXROufVoq75cN94s0N2el/EGaup9gnN9/vUO8WB3NTKwhZXuwgM6kGJf72paTZqZya0E4g==", "user"=>{"email"=>"Tork@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (2.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "tork@gmail.com"], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = $1, "last_sign_in_at" = $2, "sign_in_count" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["current_sign_in_at", "2018-08-05 12:23:37.421565"], ["last_sign_in_at", "2018-08-03 13:26:24.386007"], ["sign_in_count", 5], ["updated_at", "2018-08-05 12:23:37.422801"], ["id", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (2.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 203ms (ActiveRecord: 5.5ms)


Started GET "/" for 127.0.0.1 at 2018-08-05 15:23:37 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.3ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (11.1ms)
  Rendered flats/index.html.erb within layouts/application (16.4ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 180ms (Views: 175.6ms | ActiveRecord: 2.8ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-05 15:23:39 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:49
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (5.8ms)
  Rendered flats/show.html.erb within layouts/application (20.1ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 225ms (Views: 218.0ms | ActiveRecord: 2.0ms)


Started POST "/flats/1/bookings" for 127.0.0.1 at 2018-08-05 15:23:51 +0300
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Oo6kN2ubTtkhuGmvSA9hJTJqTLbob0kUR/rmF9refFCnMoG/ehxWmMbXWDmLLYWyIBjSJOEBWGIePKPYCVzx8g==", "booking"=>{"notice"=>"7 dogs", "start_date"=>"15-08-2018", "end_date"=>"17-08-2018"}, "commit"=>"Book this flat", "flat_id"=>"1"}
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:12
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/bookings_controller.rb:15
  [1m[36mFlat Load (1.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:15
  [1m[36mBooking Create (3.3ms)[0m  [1m[32mINSERT INTO "bookings" ("user_id", "flat_id", "created_at", "updated_at", "notice", "start_date", "end_date") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 1], ["flat_id", 1], ["created_at", "2018-08-05 12:23:51.909310"], ["updated_at", "2018-08-05 12:23:51.909310"], ["notice", "7 dogs"], ["start_date", "2018-08-15"], ["end_date", "2018-08-17"]]
  ↳ app/controllers/bookings_controller.rb:15
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/bookings_controller.rb:15
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/mailers/create_booking_mailer.rb:5
  Rendering create_booking_mailer/new_booking.html.erb within layouts/mailer
  Rendered create_booking_mailer/new_booking.html.erb within layouts/mailer (0.5ms)
  Rendering create_booking_mailer/new_booking.text.erb within layouts/mailer
  Rendered create_booking_mailer/new_booking.text.erb within layouts/mailer (0.5ms)
CreateBookingMailer#new_booking: processed outbound mail in 45.6ms
Sent mail to tork@gmail.com (36.1ms)
Date: Sun, 05 Aug 2018 15:23:52 +0300
From: yorkqw@gmail.com
To: tork@gmail.com
Message-ID: <5b66ec581b940_c752b0c2194ca3435f0@york-HP-250-G5-Notebook-PC.mail>
Subject: Your flat booked
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5b66ec581a4bd_c752b0c2194ca34347";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5b66ec581a4bd_c752b0c2194ca34347
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hello Tork

Tork booked your flat Letuchiy Gollandets from 2018-08-15 to 2018-08-17 and say:
7 dogs


----==_mimepart_5b66ec581a4bd_c752b0c2194ca34347
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <h1> Hello Tork</h1>

Tork booked your flat Letuchiy Gollandets from 2018-08-15 to 2018-08-17 and say:
7 dogs


  </body>
</html>

----==_mimepart_5b66ec581a4bd_c752b0c2194ca34347--

  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/booking_service.rb:10
  [1m[36mFlat Update (0.4ms)[0m  [1m[33mUPDATE "flats" SET "reserved_date" = $1, "updated_at" = $2 WHERE "flats"."id" = $3[0m  [["reserved_date", "{2018-08-15}"], ["updated_at", "2018-08-05 12:23:52.148659"], ["id", 1]]
  ↳ app/services/booking_service.rb:10
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/booking_service.rb:10
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/booking_service.rb:10
  [1m[36mFlat Update (0.3ms)[0m  [1m[33mUPDATE "flats" SET "reserved_date" = $1, "updated_at" = $2 WHERE "flats"."id" = $3[0m  [["reserved_date", "{2018-08-15,2018-08-16}"], ["updated_at", "2018-08-05 12:23:52.154478"], ["id", 1]]
  ↳ app/services/booking_service.rb:10
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/booking_service.rb:10
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/booking_service.rb:10
  [1m[36mFlat Update (0.3ms)[0m  [1m[33mUPDATE "flats" SET "reserved_date" = $1, "updated_at" = $2 WHERE "flats"."id" = $3[0m  [["reserved_date", "{2018-08-15,2018-08-16,2018-08-17}"], ["updated_at", "2018-08-05 12:23:52.159298"], ["id", 1]]
  ↳ app/services/booking_service.rb:10
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/booking_service.rb:10
Redirected to http://localhost:3000/
Completed 302 Found in 290ms (ActiveRecord: 16.4ms)


Started GET "/" for 127.0.0.1 at 2018-08-05 15:23:52 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (10.4ms)
  Rendered flats/index.html.erb within layouts/application (16.1ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 228ms (Views: 222.5ms | ActiveRecord: 2.4ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-05 15:24:03 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:49
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (4.3ms)
  Rendered flats/show.html.erb within layouts/application (21.8ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 208ms (Views: 200.4ms | ActiveRecord: 2.2ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-05 15:24:46 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:49
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (8.6ms)
  Rendered flats/show.html.erb within layouts/application (27.8ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 257ms (Views: 250.9ms | ActiveRecord: 2.0ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-05 15:26:33 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (1.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:49
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (6.8ms)
  Rendered flats/show.html.erb within layouts/application (27.2ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 264ms (Views: 255.5ms | ActiveRecord: 2.3ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-05 16:20:28 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (2.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:49
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (2.9ms)
  Rendered flats/show.html.erb within layouts/application (15.9ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 235ms (Views: 224.6ms | ActiveRecord: 4.8ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-05 16:21:47 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:49
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (8.5ms)
  Rendered flats/show.html.erb within layouts/application (32.1ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 272ms (Views: 262.5ms | ActiveRecord: 2.9ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-05 16:22:00 +0300
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:49
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (16.1ms)
  Rendered flats/show.html.erb within layouts/application (251.4ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 518ms (Views: 469.2ms | ActiveRecord: 9.5ms)


Started GET "/" for 127.0.0.1 at 2018-08-07 14:22:47 +0300
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (8.7ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (4.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (535.1ms)
  Rendered flats/index.html.erb within layouts/application (609.2ms)
Completed 200 OK in 998ms (Views: 937.5ms | ActiveRecord: 23.3ms)


Started GET "/" for 127.0.0.1 at 2018-08-07 14:23:42 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (12.5ms)
  Rendered flats/index.html.erb within layouts/application (17.9ms)
Completed 200 OK in 242ms (Views: 239.6ms | ActiveRecord: 0.8ms)


Started GET "/" for 127.0.0.1 at 2018-08-07 14:23:44 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.9ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (13.8ms)
  Rendered flats/index.html.erb within layouts/application (22.2ms)
Completed 200 OK in 194ms (Views: 186.9ms | ActiveRecord: 1.5ms)


Started GET "/flats/new" for 127.0.0.1 at 2018-08-07 14:25:40 +0300
Processing by FlatsController#new as HTML
Completed 401 Unauthorized in 2ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2018-08-07 14:25:40 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (2.7ms)
  Rendered devise/sessions/new.html.erb within layouts/application (13.3ms)
Completed 200 OK in 200ms (Views: 183.9ms | ActiveRecord: 2.9ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-08-07 14:25:57 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"wsWQQFSo/RflmIbwxg1qgKDAz+2n+QFdiqwX1NldGJpCd3/0fams3vZbGVgIjteVtFb3/Cu9CS5PgoXIK5uNng==", "user"=>{"email"=>"Tork@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "tork@gmail.com"], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = $1, "last_sign_in_at" = $2, "sign_in_count" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["current_sign_in_at", "2018-08-07 11:25:57.936158"], ["last_sign_in_at", "2018-08-05 12:23:37.421565"], ["sign_in_count", 6], ["updated_at", "2018-08-07 11:25:57.937506"], ["id", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (3.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/flats/new
Completed 302 Found in 231ms (ActiveRecord: 5.9ms)


Started GET "/flats/new" for 127.0.0.1 at 2018-08-07 14:25:57 +0300
Processing by FlatsController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering flats/new.html.erb within layouts/application
  Rendered flats/_form.html.erb (4.3ms)
  Rendered flats/new.html.erb within layouts/application (6.5ms)
Completed 200 OK in 194ms (Views: 174.8ms | ActiveRecord: 2.4ms)


Started GET "/" for 127.0.0.1 at 2018-08-07 14:26:01 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.8ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (14.3ms)
  Rendered flats/index.html.erb within layouts/application (21.6ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 173ms (Views: 165.6ms | ActiveRecord: 1.7ms)


Started GET "/flats/2" for 127.0.0.1 at 2018-08-07 14:26:04 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mFlat Load (2.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:51
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (62.6ms)
  Rendered flats/show.html.erb within layouts/application (85.4ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 271ms (Views: 247.0ms | ActiveRecord: 15.3ms)


Started GET "/" for 127.0.0.1 at 2018-08-07 14:30:13 +0300
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.1ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (269.2ms)
  Rendered flats/index.html.erb within layouts/application (303.9ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 513ms (Views: 492.7ms | ActiveRecord: 7.3ms)


Started GET "/" for 127.0.0.1 at 2018-08-08 12:28:36 +0300
  [1m[35m (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (4.2ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (4.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (357.5ms)
  Rendered flats/index.html.erb within layouts/application (411.9ms)
Completed 200 OK in 813ms (Views: 762.2ms | ActiveRecord: 14.8ms)


Started GET "/flats/2" for 127.0.0.1 at 2018-08-08 12:46:14 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:51
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (95.2ms)
  Rendered flats/show.html.erb within layouts/application (101.7ms)
Completed 200 OK in 285ms (Views: 270.0ms | ActiveRecord: 10.9ms)


Started GET "/" for 127.0.0.1 at 2018-08-08 12:46:20 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (6.4ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (40.7ms)
  Rendered flats/index.html.erb within layouts/application (64.2ms)
Completed 200 OK in 312ms (Views: 299.2ms | ActiveRecord: 7.8ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-08 13:08:18 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:51
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (12.4ms)
  Rendered flats/show.html.erb within layouts/application (32.0ms)
Completed 200 OK in 225ms (Views: 197.7ms | ActiveRecord: 10.4ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-08 13:08:44 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (1.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:51
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (4.1ms)
  Rendered flats/show.html.erb within layouts/application (28.6ms)
Completed 200 OK in 416ms (Views: 402.1ms | ActiveRecord: 3.0ms)


Started POST "/flats/1/bookings" for 127.0.0.1 at 2018-08-08 13:09:00 +0300
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"mrb8NOdd6iYamUqT4UPi3ebAl+UdgnDeurxLX/nR8g030JGXkANvvozdYaSTpCGsXBYXDDB9H5+CSua0m3nQ0A==", "booking"=>{"notice"=>"fatr dog", "start_date"=>"2018-08-16", "end_date"=>"2018-08-18"}, "commit"=>"Book this flat", "flat_id"=>"1"}
Completed 401 Unauthorized in 5ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2018-08-08 13:09:00 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.4ms)
  Rendered devise/sessions/new.html.erb within layouts/application (18.5ms)
Completed 200 OK in 298ms (Views: 294.0ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-08-08 13:09:09 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"dSxBxj45R4rfFFAhgYF41BUUd9/2gfUKX9IuiIKHZt3YSixlSWfCEklQexbzZrulr8L3Ntt+mktnJINj4C9EAA==", "user"=>{"email"=>"Tork@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "tork@gmail.com"], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = $1, "last_sign_in_at" = $2, "sign_in_count" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["current_sign_in_at", "2018-08-08 10:09:10.157038"], ["last_sign_in_at", "2018-08-07 11:25:57.936158"], ["sign_in_count", 7], ["updated_at", "2018-08-08 10:09:10.158175"], ["id", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 193ms (ActiveRecord: 3.1ms)


Started GET "/" for 127.0.0.1 at 2018-08-08 13:09:10 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.8ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (10.8ms)
  Rendered flats/index.html.erb within layouts/application (18.5ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 241ms (Views: 238.0ms | ActiveRecord: 1.5ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-08 13:09:12 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (1.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:51
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (2.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (5.3ms)
  Rendered flats/show.html.erb within layouts/application (33.0ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 280ms (Views: 267.8ms | ActiveRecord: 4.7ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-08 13:09:24 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (1.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:51
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (2.7ms)
  Rendered flats/show.html.erb within layouts/application (19.0ms)
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 612ms (Views: 600.4ms | ActiveRecord: 2.8ms)


Started POST "/flats/1/bookings" for 127.0.0.1 at 2018-08-08 13:09:30 +0300
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Css5iq86R46qh8Ba7GmwlHvym+MhuNXr7ZqBPRosY+WE+CqiMqD/fpsEu7kiZvy9lNnd476UUNwnuXaEkzQXPw==", "booking"=>{"notice"=>"", "start_date"=>"2018-08-16", "end_date"=>"2018-08-17"}, "commit"=>"Book this flat", "flat_id"=>"1"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/bookings_controller.rb:16
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:16
  [1m[36mBooking Create (2.8ms)[0m  [1m[32mINSERT INTO "bookings" ("user_id", "flat_id", "created_at", "updated_at", "notice", "start_date", "end_date") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 1], ["flat_id", 1], ["created_at", "2018-08-08 10:09:30.185200"], ["updated_at", "2018-08-08 10:09:30.185200"], ["notice", ""], ["start_date", "2018-08-16"], ["end_date", "2018-08-17"]]
  ↳ app/controllers/bookings_controller.rb:16
  [1m[35m (2.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/bookings_controller.rb:16
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/mailers/create_booking_mailer.rb:5
  Rendering create_booking_mailer/new_booking.html.erb within layouts/mailer
  Rendered create_booking_mailer/new_booking.html.erb within layouts/mailer (0.6ms)
  Rendering create_booking_mailer/new_booking.text.erb within layouts/mailer
  Rendered create_booking_mailer/new_booking.text.erb within layouts/mailer (0.5ms)
CreateBookingMailer#new_booking: processed outbound mail in 1059.7ms
Sent mail to tork@gmail.com (40.7ms)
Date: Wed, 08 Aug 2018 13:09:31 +0300
From: yorkqw@gmail.com
To: tork@gmail.com
Message-ID: <5b6ac15be2c29_c572b28b453c318829bf@york-HP-250-G5-Notebook-PC.mail>
Subject: Your flat booked
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5b6ac15be0549_c572b28b453c318828df";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5b6ac15be0549_c572b28b453c318828df
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hello Tork

Tork booked your flat Letuchiy Gollandets from 2018-08-16 to 2018-08-17 and say:



----==_mimepart_5b6ac15be0549_c572b28b453c318828df
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <h1> Hello Tork</h1>

Tork booked your flat Letuchiy Gollandets from 2018-08-16 to 2018-08-17 and say:



  </body>
</html>

----==_mimepart_5b6ac15be0549_c572b28b453c318828df--

Completed 500 Internal Server Error in 1851ms (ActiveRecord: 8.7ms)


  
NameError (uninitialized constant BookingService::BookingValidator):
  
app/services/booking_service.rb:6:in `<class:BookingService>'
app/services/booking_service.rb:1:in `<main>'
app/controllers/bookings_controller.rb:18:in `create'
Started POST "/flats/1/bookings" for 127.0.0.1 at 2018-08-08 13:10:13 +0300
  [1m[35m (2.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Css5iq86R46qh8Ba7GmwlHvym+MhuNXr7ZqBPRosY+WE+CqiMqD/fpsEu7kiZvy9lNnd476UUNwnuXaEkzQXPw==", "booking"=>{"notice"=>"", "start_date"=>"2018-08-16", "end_date"=>"2018-08-17"}, "commit"=>"Book this flat", "flat_id"=>"1"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/bookings_controller.rb:16
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:16
  [1m[36mBooking Create (0.6ms)[0m  [1m[32mINSERT INTO "bookings" ("user_id", "flat_id", "created_at", "updated_at", "notice", "start_date", "end_date") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 1], ["flat_id", 1], ["created_at", "2018-08-08 10:10:13.474313"], ["updated_at", "2018-08-08 10:10:13.474313"], ["notice", ""], ["start_date", "2018-08-16"], ["end_date", "2018-08-17"]]
  ↳ app/controllers/bookings_controller.rb:16
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/bookings_controller.rb:16
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/mailers/create_booking_mailer.rb:5
  Rendering create_booking_mailer/new_booking.html.erb within layouts/mailer
  Rendered create_booking_mailer/new_booking.html.erb within layouts/mailer (0.9ms)
  Rendering create_booking_mailer/new_booking.text.erb within layouts/mailer
  Rendered create_booking_mailer/new_booking.text.erb within layouts/mailer (0.3ms)
CreateBookingMailer#new_booking: processed outbound mail in 37.1ms
Sent mail to tork@gmail.com (27.7ms)
Date: Wed, 08 Aug 2018 13:10:13 +0300
From: yorkqw@gmail.com
To: tork@gmail.com
Message-ID: <5b6ac185b8729_11de2b26e0429190740a1@york-HP-250-G5-Notebook-PC.mail>
Subject: Your flat booked
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5b6ac185b7ba5_11de2b26e042919073935";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5b6ac185b7ba5_11de2b26e042919073935
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hello Tork

Tork booked your flat Letuchiy Gollandets from 2018-08-16 to 2018-08-17 and say:



----==_mimepart_5b6ac185b7ba5_11de2b26e042919073935
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <h1> Hello Tork</h1>

Tork booked your flat Letuchiy Gollandets from 2018-08-16 to 2018-08-17 and say:



  </body>
</html>

----==_mimepart_5b6ac185b7ba5_11de2b26e042919073935--

Completed 500 Internal Server Error in 500ms (ActiveRecord: 18.7ms)


  
ArgumentError (wrong number of arguments (given 0, expected 1)):
  
app/services/booking_service.rb:12:in `initialize'
app/controllers/bookings_controller.rb:18:in `new'
app/controllers/bookings_controller.rb:18:in `create'
Started POST "/flats/1/bookings" for 127.0.0.1 at 2018-08-08 13:14:34 +0300
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Css5iq86R46qh8Ba7GmwlHvym+MhuNXr7ZqBPRosY+WE+CqiMqD/fpsEu7kiZvy9lNnd476UUNwnuXaEkzQXPw==", "booking"=>{"notice"=>"", "start_date"=>"2018-08-16", "end_date"=>"2018-08-17"}, "commit"=>"Book this flat", "flat_id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/bookings_controller.rb:16
  [1m[36mFlat Load (1.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:16
  [1m[36mBooking Create (0.5ms)[0m  [1m[32mINSERT INTO "bookings" ("user_id", "flat_id", "created_at", "updated_at", "notice", "start_date", "end_date") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 1], ["flat_id", 1], ["created_at", "2018-08-08 10:14:34.304516"], ["updated_at", "2018-08-08 10:14:34.304516"], ["notice", ""], ["start_date", "2018-08-16"], ["end_date", "2018-08-17"]]
  ↳ app/controllers/bookings_controller.rb:16
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/bookings_controller.rb:16
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/mailers/create_booking_mailer.rb:5
  Rendering create_booking_mailer/new_booking.html.erb within layouts/mailer
  Rendered create_booking_mailer/new_booking.html.erb within layouts/mailer (1.6ms)
  Rendering create_booking_mailer/new_booking.text.erb within layouts/mailer
  Rendered create_booking_mailer/new_booking.text.erb within layouts/mailer (0.5ms)
CreateBookingMailer#new_booking: processed outbound mail in 19.4ms
Sent mail to tork@gmail.com (29.9ms)
Date: Wed, 08 Aug 2018 13:14:34 +0300
From: yorkqw@gmail.com
To: tork@gmail.com
Message-ID: <5b6ac28a523b2_11de2b26e0428ad87423@york-HP-250-G5-Notebook-PC.mail>
Subject: Your flat booked
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5b6ac28a51a69_11de2b26e0428ad874134";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5b6ac28a51a69_11de2b26e0428ad874134
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hello Tork

Tork booked your flat Letuchiy Gollandets from 2018-08-16 to 2018-08-17 and say:



----==_mimepart_5b6ac28a51a69_11de2b26e0428ad874134
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <h1> Hello Tork</h1>

Tork booked your flat Letuchiy Gollandets from 2018-08-16 to 2018-08-17 and say:



  </body>
</html>

----==_mimepart_5b6ac28a51a69_11de2b26e0428ad874134--

  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/booking_service.rb:21
  [1m[36mFlat Update (0.9ms)[0m  [1m[33mUPDATE "flats" SET "reserved_date" = $1, "updated_at" = $2 WHERE "flats"."id" = $3[0m  [["reserved_date", "{2018-08-15,2018-08-16,2018-08-17,2018-08-16}"], ["updated_at", "2018-08-08 10:14:34.373765"], ["id", 1]]
  ↳ app/services/booking_service.rb:21
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/booking_service.rb:21
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/booking_service.rb:21
  [1m[36mFlat Update (2.0ms)[0m  [1m[33mUPDATE "flats" SET "reserved_date" = $1, "updated_at" = $2 WHERE "flats"."id" = $3[0m  [["reserved_date", "{2018-08-15,2018-08-16,2018-08-17,2018-08-16,2018-08-17}"], ["updated_at", "2018-08-08 10:14:34.385036"], ["id", 1]]
  ↳ app/services/booking_service.rb:21
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/booking_service.rb:21
Redirected to http://localhost:3000/
Completed 302 Found in 192ms (ActiveRecord: 26.6ms)


Started GET "/" for 127.0.0.1 at 2018-08-08 13:14:34 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.1ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (399.4ms)
  Rendered flats/index.html.erb within layouts/application (407.2ms)
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 782ms (Views: 777.5ms | ActiveRecord: 2.8ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-08 13:14:40 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (1.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:51
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (25.5ms)
  Rendered flats/show.html.erb within layouts/application (43.0ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 259ms (Views: 247.1ms | ActiveRecord: 2.7ms)


Started POST "/flats/1/bookings" for 127.0.0.1 at 2018-08-08 13:15:03 +0300
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"DaMezcKaO24CKO1LrynbENigewqf+guwnyYorf4rUEQTQp25ZaWx2uLZJVlTVsrz0gaZzq6tggUGw+NpQSVVkQ==", "booking"=>{"notice"=>"zczx", "start_date"=>"", "end_date"=>""}, "commit"=>"Book this flat", "flat_id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/bookings_controller.rb:16
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:16
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/bookings_controller.rb:16
Redirected to http://localhost:3000/flats/1
Completed 302 Found in 14ms (ActiveRecord: 1.4ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-08 13:15:03 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:51
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (3.6ms)
  Rendered flats/show.html.erb within layouts/application (19.4ms)
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 379ms (Views: 370.2ms | ActiveRecord: 4.2ms)


Started POST "/flats/1/bookings" for 127.0.0.1 at 2018-08-08 13:15:08 +0300
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"woByt5UnrdSWoQWS1qzidRely2A566NP80Iqyfh/c0JMs2GfCL0VJKcifnEYo65c+I6NYKbHJng5Yd1wcWcHmA==", "booking"=>{"notice"=>"fghfgh", "start_date"=>"", "end_date"=>""}, "commit"=>"Book this flat", "flat_id"=>"1"}
  [1m[36mUser Load (4.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/bookings_controller.rb:16
  [1m[36mFlat Load (1.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:16
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/bookings_controller.rb:16
Redirected to http://localhost:3000/flats/1
Completed 302 Found in 34ms (ActiveRecord: 6.5ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-08 13:15:08 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (2.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:51
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (9.1ms)
  Rendered flats/show.html.erb within layouts/application (26.0ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 292ms (Views: 274.2ms | ActiveRecord: 4.2ms)


Started POST "/flats/1/bookings" for 127.0.0.1 at 2018-08-08 13:20:59 +0300
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"0XWXCNLtHt6hZ/Xc8gGot4cOeAJ26JoF34rl6EIkZGZfRoQgT3emLpDkjj88DuSeaCU+AunEHzIVqRJRyzwQvA==", "booking"=>{"notice"=>"", "start_date"=>"", "end_date"=>""}, "commit"=>"Book this flat", "flat_id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/bookings_controller.rb:16
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:16
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/bookings_controller.rb:16
Redirected to http://localhost:3000/flats/1
Completed 302 Found in 105ms (ActiveRecord: 21.8ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-08 13:20:59 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:51
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (1.8ms)
  Rendered flats/show.html.erb within layouts/application (9.0ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 277ms (Views: 272.8ms | ActiveRecord: 1.0ms)


Started POST "/flats/1/bookings" for 127.0.0.1 at 2018-08-08 13:21:04 +0300
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"4bcsmJxgEwwU9tabsYDK3UREFKc3OdZeAeL7hyuhRidvhD+wAfqr/CV1rXh/j4b0q29Sp6gVU2nLwQw+orky/Q==", "booking"=>{"notice"=>"", "start_date"=>"", "end_date"=>""}, "commit"=>"Book this flat", "flat_id"=>"1"}
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/bookings_controller.rb:16
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:16
  [1m[35m (3.4ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/bookings_controller.rb:16
Redirected to http://localhost:3000/flats/1
Completed 302 Found in 32ms (ActiveRecord: 6.4ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-08 13:21:04 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:51
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (10.0ms)
  Rendered flats/show.html.erb within layouts/application (18.2ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 347ms (Views: 338.3ms | ActiveRecord: 1.6ms)


Started POST "/flats/1/bookings" for 127.0.0.1 at 2018-08-08 13:21:07 +0300
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"fj8whT9VbNJD2GPl5u0nahcp81BhLJX29eXyqeT7pK3wDCOtos/UInJbGAYo4mtD+AK1UP4AEME/xgUQbePQdw==", "booking"=>{"notice"=>"", "start_date"=>"", "end_date"=>""}, "commit"=>"Book this flat", "flat_id"=>"1"}
  [1m[36mUser Load (2.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/bookings_controller.rb:16
  [1m[36mFlat Load (1.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:16
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/bookings_controller.rb:16
Redirected to http://localhost:3000/flats/1
Completed 302 Found in 45ms (ActiveRecord: 5.0ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-08 13:21:07 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (2.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:51
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (7.7ms)
  Rendered flats/show.html.erb within layouts/application (24.2ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 336ms (Views: 321.9ms | ActiveRecord: 3.5ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-08 13:22:49 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:51
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (8.1ms)
  Rendered flats/show.html.erb within layouts/application (19.3ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 506ms (Views: 497.3ms | ActiveRecord: 1.3ms)


Started POST "/flats/1/bookings" for 127.0.0.1 at 2018-08-08 13:22:52 +0300
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"H54MGWX0BxmlmjAuiEhKKyjdqY4OvfAEBC1G/2OlVieRrR8x+G6/6ZQZS81GRwYCx/bvjpGRdTPODrFG6r0i/Q==", "booking"=>{"notice"=>"", "start_date"=>"", "end_date"=>""}, "commit"=>"Book this flat", "flat_id"=>"1"}
  [1m[36mUser Load (2.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/bookings_controller.rb:16
  [1m[36mFlat Load (0.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:16
  [1m[35m (0.7ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/bookings_controller.rb:16
Redirected to http://localhost:3000/flats/1
Completed 302 Found in 38ms (ActiveRecord: 5.3ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-08 13:22:52 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:51
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (5.5ms)
  Rendered flats/show.html.erb within layouts/application (17.1ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 267ms (Views: 260.3ms | ActiveRecord: 1.7ms)


Started POST "/flats/1/bookings" for 127.0.0.1 at 2018-08-08 13:22:54 +0300
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"zdmvi+yekhK2VEDdCL5yCDsCVr0KS+1FOMUA97rnf5xD6ryjcQQq4ofXOz7GsT4h1CkQvZVnaHLy5vdOM/8LRg==", "booking"=>{"notice"=>"", "start_date"=>"", "end_date"=>""}, "commit"=>"Book this flat", "flat_id"=>"1"}
  [1m[36mUser Load (2.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (2.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/bookings_controller.rb:16
  [1m[36mFlat Load (0.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:16
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/bookings_controller.rb:16
Redirected to http://localhost:3000/flats/1
Completed 302 Found in 34ms (ActiveRecord: 6.3ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-08 13:22:54 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (1.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:51
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (3.4ms)
  Rendered flats/show.html.erb within layouts/application (17.8ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 266ms (Views: 255.8ms | ActiveRecord: 2.0ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-08 13:23:59 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:51
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (7.8ms)
  Rendered flats/show.html.erb within layouts/application (15.0ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 404ms (Views: 401.3ms | ActiveRecord: 1.0ms)


Started POST "/flats/1/bookings" for 127.0.0.1 at 2018-08-08 13:24:05 +0300
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"U3Eyvt6nSQOhQk3MPzYqOOY0j9+SqTZO90eDrAzSGhzdQiGWQz3x85DBNi/xOWYRCR/J3w2Fs3k9ZHQVhcpuxg==", "booking"=>{"notice"=>"", "start_date"=>"", "end_date"=>""}, "commit"=>"Book this flat", "flat_id"=>"1"}
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/bookings_controller.rb:16
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:16
  [1m[35m (1.6ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/bookings_controller.rb:16
Redirected to http://localhost:3000/flats/1
Completed 302 Found in 37ms (ActiveRecord: 4.4ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-08 13:24:05 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (2.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:51
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (2.4ms)
  Rendered flats/show.html.erb within layouts/application (18.8ms)
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 311ms (Views: 293.5ms | ActiveRecord: 4.7ms)


Started POST "/flats/1/bookings" for 127.0.0.1 at 2018-08-08 13:25:38 +0300
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"iG+BpktkXvn2CL7o0Ei663mvsSuMD+awDUfDgFionB8GXJKO1v7mCceLxQseR/bCloT3KxMjY4fHZDQ50bDoxQ==", "booking"=>{"notice"=>"", "start_date"=>"", "end_date"=>""}, "commit"=>"Book this flat", "flat_id"=>"1"}
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (1.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/bookings_controller.rb:16
  [1m[36mFlat Load (0.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:16
  [1m[35m (0.7ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/bookings_controller.rb:16
Redirected to http://localhost:3000/flats/1
Completed 302 Found in 42ms (ActiveRecord: 4.7ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-08 13:25:38 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:51
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (2.3ms)
  Rendered flats/show.html.erb within layouts/application (15.7ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 253ms (Views: 247.2ms | ActiveRecord: 2.9ms)


Started POST "/flats/1/bookings" for 127.0.0.1 at 2018-08-08 13:25:40 +0300
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"XHqaQgH0nZtUycCbHCJTLuM8zuhLC6vlNApi/Qer/B/SSYlqnG4la2VKu3jSLR8HDBeI6NQnLtL+KZVEjrOIxQ==", "booking"=>{"notice"=>"", "start_date"=>"", "end_date"=>""}, "commit"=>"Book this flat", "flat_id"=>"1"}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/bookings_controller.rb:16
  [1m[36mFlat Load (1.9ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:16
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/bookings_controller.rb:16
Redirected to http://localhost:3000/flats/1
Completed 302 Found in 14ms (ActiveRecord: 3.6ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-08 13:25:40 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:51
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (5.0ms)
  Rendered flats/show.html.erb within layouts/application (10.9ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 292ms (Views: 287.5ms | ActiveRecord: 1.1ms)


Started POST "/flats/1/bookings" for 127.0.0.1 at 2018-08-08 13:25:42 +0300
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"1cFWWKWgn9h5fGRTk0a4MlnjMlCgw0JNYDNOoJXOTy1b8kVwODonKEj/H7BdSfQbtsh0UD/vx3qqELkZHNY79w==", "booking"=>{"notice"=>"", "start_date"=>"", "end_date"=>""}, "commit"=>"Book this flat", "flat_id"=>"1"}
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/bookings_controller.rb:16
  [1m[36mFlat Load (0.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:16
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/bookings_controller.rb:16
Redirected to http://localhost:3000/flats/1
Completed 302 Found in 36ms (ActiveRecord: 4.3ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-08 13:25:42 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:51
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (5.1ms)
  Rendered flats/show.html.erb within layouts/application (16.8ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 291ms (Views: 282.9ms | ActiveRecord: 1.1ms)


Started POST "/flats/1/bookings" for 127.0.0.1 at 2018-08-08 13:26:29 +0300
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"+94pYYOWLA3TXpnAml7jP3G0Ye271VTZk9Um7oUfTcp17TpJHgyU/eLd4iNUUa8Wnp8n7ST50e5Z9tFXDAc5EA==", "booking"=>{"notice"=>"", "start_date"=>"", "end_date"=>""}, "commit"=>"Book this flat", "flat_id"=>"1"}
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (1.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/bookings_controller.rb:16
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:16
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/bookings_controller.rb:16
Redirected to http://localhost:3000/flats/1
Completed 302 Found in 27ms (ActiveRecord: 4.1ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-08 13:26:29 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (1.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:51
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (6.7ms)
  Rendered flats/show.html.erb within layouts/application (23.2ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 303ms (Views: 295.0ms | ActiveRecord: 1.8ms)


Started POST "/flats/1/bookings" for 127.0.0.1 at 2018-08-08 13:27:20 +0300
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"vWrITuJe73QbXsk6b2R9G11csqooaBdsM5mAChm0E54zWdtmf8RXhCrdstmhazEysnf0qrdEklv5unezkKxnRA==", "booking"=>{"notice"=>"", "start_date"=>"", "end_date"=>""}, "commit"=>"Book this flat", "flat_id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/bookings_controller.rb:16
  [1m[36mFlat Load (1.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:16
  [1m[36mBooking Create (0.4ms)[0m  [1m[32mINSERT INTO "bookings" ("user_id", "flat_id", "created_at", "updated_at", "notice") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 1], ["flat_id", 1], ["created_at", "2018-08-08 10:27:20.791912"], ["updated_at", "2018-08-08 10:27:20.791912"], ["notice", ""]]
  ↳ app/controllers/bookings_controller.rb:16
  [1m[35m (3.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/bookings_controller.rb:16
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/mailers/create_booking_mailer.rb:5
  Rendering create_booking_mailer/new_booking.html.erb within layouts/mailer
  Rendered create_booking_mailer/new_booking.html.erb within layouts/mailer (0.6ms)
  Rendering create_booking_mailer/new_booking.text.erb within layouts/mailer
  Rendered create_booking_mailer/new_booking.text.erb within layouts/mailer (0.4ms)
CreateBookingMailer#new_booking: processed outbound mail in 26.4ms
Sent mail to tork@gmail.com (39.6ms)
Date: Wed, 08 Aug 2018 13:27:20 +0300
From: yorkqw@gmail.com
To: tork@gmail.com
Message-ID: <5b6ac588cc37a_11de2b26e0428ad87444a@york-HP-250-G5-Notebook-PC.mail>
Subject: Your flat booked
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5b6ac588cb9c9_11de2b26e0428ad874373";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5b6ac588cb9c9_11de2b26e0428ad874373
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hello Tork

Tork booked your flat Letuchiy Gollandets from  to  and say:



----==_mimepart_5b6ac588cb9c9_11de2b26e0428ad874373
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <h1> Hello Tork</h1>

Tork booked your flat Letuchiy Gollandets from  to  and say:



  </body>
</html>

----==_mimepart_5b6ac588cb9c9_11de2b26e0428ad874373--

Completed 500 Internal Server Error in 200ms (ActiveRecord: 20.0ms)


  
TypeError (can't iterate from NilClass):
  
app/services/booking_service.rb:18:in `add_reserved_date'
app/controllers/bookings_controller.rb:18:in `create'
Started POST "/flats/1/bookings" for 127.0.0.1 at 2018-08-08 13:45:41 +0300
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"vWrITuJe73QbXsk6b2R9G11csqooaBdsM5mAChm0E54zWdtmf8RXhCrdstmhazEysnf0qrdEklv5unezkKxnRA==", "booking"=>{"notice"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-17"}, "commit"=>"Book this flat", "flat_id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/bookings_controller.rb:16
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:16
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/bookings_controller.rb:16
Redirected to http://localhost:3000/flats/1
Completed 302 Found in 96ms (ActiveRecord: 18.5ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-08 13:45:41 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:51
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (9.8ms)
  Rendered flats/show.html.erb within layouts/application (19.5ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 297ms (Views: 293.0ms | ActiveRecord: 1.0ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-08 13:45:52 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (1.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:51
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (9.9ms)
  Rendered flats/show.html.erb within layouts/application (55.2ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 381ms (Views: 371.5ms | ActiveRecord: 2.0ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-08 13:51:11 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (1.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:51
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (10.1ms)
  Rendered flats/show.html.erb within layouts/application (27.3ms)
Completed 500 Internal Server Error in 39ms (ActiveRecord: 2.8ms)


  
ActionView::Template::Error (undefined method `errors' for nil:NilClass):
    1: <%= form_for [flat, Booking.new] do |form| %>
    2:   <% if @Booking.errors.any? %>
    3:     <div id="error_explanation" class="alert alert-danger">
    4:       <h5>Errors</h5>
    5: 
  
app/views/flats/_booking.html.erb:2:in `block in _app_views_flats__booking_html_erb___3607063593574065008_69972918893980'
app/views/flats/_booking.html.erb:1:in `_app_views_flats__booking_html_erb___3607063593574065008_69972918893980'
app/views/flats/show.html.erb:30:in `_app_views_flats_show_html_erb___711076527895961430_69972919119680'
Started GET "/flats/1" for 127.0.0.1 at 2018-08-08 13:52:02 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:52
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (4.8ms)
  Rendered flats/show.html.erb within layouts/application (51.5ms)
Completed 500 Internal Server Error in 165ms (ActiveRecord: 22.2ms)


  
ActionView::Template::Error (undefined method `errors' for nil:NilClass):
    1: <%= form_for [flat, Booking.new] do |form| %>
    2:   <% if @Booking.errors.any? %>
    3:     <div id="error_explanation" class="alert alert-danger">
    4:       <h5>Errors</h5>
    5: 
  
app/views/flats/_booking.html.erb:2:in `block in _app_views_flats__booking_html_erb___3607063593574065008_69972916611340'
app/views/flats/_booking.html.erb:1:in `_app_views_flats__booking_html_erb___3607063593574065008_69972916611340'
app/views/flats/show.html.erb:30:in `_app_views_flats_show_html_erb___711076527895961430_69972917883160'
Started GET "/" for 127.0.0.1 at 2018-08-08 13:52:10 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.9ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (17.2ms)
  Rendered flats/index.html.erb within layouts/application (24.8ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 200ms (Views: 195.5ms | ActiveRecord: 2.7ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-08 13:52:12 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.9ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:52
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (6.8ms)
  Rendered flats/show.html.erb within layouts/application (16.9ms)
Completed 500 Internal Server Error in 32ms (ActiveRecord: 1.6ms)


  
ActionView::Template::Error (undefined method `errors' for nil:NilClass):
    1: <%= form_for [flat, Booking.new] do |form| %>
    2:   <% if @Booking.errors.any? %>
    3:     <div id="error_explanation" class="alert alert-danger">
    4:       <h5>Errors</h5>
    5: 
  
app/views/flats/_booking.html.erb:2:in `block in _app_views_flats__booking_html_erb___3607063593574065008_69972926359080'
app/views/flats/_booking.html.erb:1:in `_app_views_flats__booking_html_erb___3607063593574065008_69972926359080'
app/views/flats/show.html.erb:30:in `_app_views_flats_show_html_erb___711076527895961430_69972926514400'
Started GET "/flats/1" for 127.0.0.1 at 2018-08-08 13:56:35 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:55
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (333.5ms)
  Rendered flats/show.html.erb within layouts/application (364.1ms)
Completed 500 Internal Server Error in 416ms (ActiveRecord: 16.1ms)


  
ActionView::Template::Error (undefined method `error_messages' for #<ActionView::Helpers::FormBuilder:0x00007f47add5e200>):
    1: <%= form_for [flat, Booking.new] do |form| %>
    2:   <%= form.error_messages %>
    3: 
    4:   <div class="field form-group">
    5:     <%= form.label :notice, "Notice (tell about payment method, pets etc)" %>
  
app/views/flats/_booking.html.erb:2:in `block in _app_views_flats__booking_html_erb___3607063593574065008_69972918907580'
app/views/flats/_booking.html.erb:1:in `_app_views_flats__booking_html_erb___3607063593574065008_69972918907580'
app/views/flats/show.html.erb:30:in `_app_views_flats_show_html_erb___711076527895961430_69972922843380'
Started GET "/flats/1" for 127.0.0.1 at 2018-08-08 14:00:15 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:55
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (6.1ms)
  Rendered flats/show.html.erb within layouts/application (27.5ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 502ms (Views: 493.6ms | ActiveRecord: 1.9ms)


Started POST "/flats/1/bookings" for 127.0.0.1 at 2018-08-08 14:00:25 +0300
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"iCWqf0DaVT8rONgI2tVrKkrCOMOl+UJIuir3huR63U8GFrlX3UDtzxq7o+sU2icDpel+wzrVx39wCQA/bWKplQ==", "booking"=>{"notice"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-16"}, "commit"=>"Book this flat", "flat_id"=>"1"}
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/bookings_controller.rb:16
  [1m[36mFlat Load (1.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:16
  [1m[35m (1.0ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/bookings_controller.rb:16
Redirected to http://localhost:3000/flats/1
Completed 302 Found in 26ms (ActiveRecord: 4.3ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-08 14:00:25 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (1.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:55
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (6.7ms)
  Rendered flats/show.html.erb within layouts/application (13.2ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 296ms (Views: 285.8ms | ActiveRecord: 2.6ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-08 14:01:50 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.9ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:55
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/_booking.html.erb (388.5ms)
  Rendered flats/show.html.erb within layouts/application (409.2ms)
Completed 500 Internal Server Error in 428ms (ActiveRecord: 2.7ms)


  
ActionView::Template::Error (undefined method `error_messages_for' for #<#<Class:0x00007f47ae6af0e8>:0x00007f47ae5c3490>):
    1: <%= form_for [flat, Booking.new] do |form| %>
    2:   <%#= form.error_messages %>
    3:   <%= error_messages_for [flat, Booking.new] %>
    4: 
    5:   <div class="field form-group">
    6:     <%= form.label :notice, "Notice (tell about payment method, pets etc)" %>
  
app/views/flats/_booking.html.erb:3:in `block in _app_views_flats__booking_html_erb___3607063593574065008_69972920996080'
app/views/flats/_booking.html.erb:1:in `_app_views_flats__booking_html_erb___3607063593574065008_69972920996080'
app/views/flats/show.html.erb:30:in `_app_views_flats_show_html_erb___711076527895961430_69972922355260'
Started GET "/flats/1" for 127.0.0.1 at 2018-08-08 14:07:18 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (3.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:55
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/show.html.erb within layouts/application (18.9ms)
Completed 500 Internal Server Error in 40ms (ActiveRecord: 5.6ms)


  
ActionView::Template::Error (No route matches {:action=>"new", :controller=>"bookings", :id=>"1"}, missing required keys: [:flat_id]):
    23:     Capacity: <%= @flat.capacity %><br/>
    24:     Price: $<%= @flat.price %><br/>
    25:     Reserved: <%= @flat.reserved_date %>
    26:     <%= button_to "Book this flat", new_flat_booking_path, class: 'btn btn-primary' %>
    27:   </section>
    28: </article>
  
app/views/flats/show.html.erb:26:in `_app_views_flats_show_html_erb___711076527895961430_69972915232140'
Started GET "/" for 127.0.0.1 at 2018-08-08 14:07:52 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (9.1ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (43.4ms)
  Rendered flats/index.html.erb within layouts/application (76.2ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 604ms (Views: 584.6ms | ActiveRecord: 10.6ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-08 14:07:55 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:55
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/show.html.erb within layouts/application (7.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 262ms (Views: 258.7ms | ActiveRecord: 1.0ms)


Started POST "/flats/1/bookings/new" for 127.0.0.1 at 2018-08-08 14:07:57 +0300
  
ActionController::RoutingError (No route matches [POST] "/flats/1/bookings/new"):
  
actionpack (5.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.6.2) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.6.2) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `catch'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.0) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/flats/1/bookings/new" for 127.0.0.1 at 2018-08-08 14:08:55 +0300
  
ActionController::RoutingError (No route matches [POST] "/flats/1/bookings/new"):
  
actionpack (5.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.6.2) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.6.2) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `catch'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.0) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2018-08-08 14:08:59 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.6ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (36.6ms)
  Rendered flats/index.html.erb within layouts/application (59.9ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 303ms (Views: 295.3ms | ActiveRecord: 3.3ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-08 14:09:02 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (1.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:55
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/show.html.erb within layouts/application (22.4ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 318ms (Views: 304.4ms | ActiveRecord: 2.9ms)


Started GET "/flats/1/bookings/new" for 127.0.0.1 at 2018-08-08 14:09:05 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flat_id"=>"1"}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering bookings/new.html.erb within layouts/application
  Rendered bookings/_form.html.erb (264.0ms)
  Rendered bookings/new.html.erb within layouts/application (267.1ms)
Completed 500 Internal Server Error in 285ms (ActiveRecord: 1.4ms)


  
ActionView::Template::Error (undefined method `bookings_path' for #<#<Class:0x00007f47aef34b28>:0x00007f47aef32b20>):
    1: <%= form_for @booking do |form| %>
    2:   <%= form.error_messages %>
    3: 
    4:   <div class="field form-group">
  
app/views/bookings/_form.html.erb:1:in `_app_views_bookings__form_html_erb___717141236475581074_69972927262060'
app/views/bookings/new.html.erb:3:in `_app_views_bookings_new_html_erb__3642272608239649973_69972927294000'
Started GET "/flats/1/bookings/new" for 127.0.0.1 at 2018-08-08 14:11:09 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flat_id"=>"1"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mFlat Load (1.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:10
  Rendering bookings/new.html.erb within layouts/application
  Rendered bookings/_form.html.erb (313.8ms)
  Rendered bookings/new.html.erb within layouts/application (316.4ms)
Completed 500 Internal Server Error in 514ms (ActiveRecord: 27.6ms)


  
ActionView::Template::Error (undefined method `bookings_path' for #<#<Class:0x0000564dc0a9f4e8>:0x0000564dc0a86df8>):
    1: <%= form_for @booking do |form| %>
    2:   <%= form.error_messages %>
    3: 
    4:   <div class="field form-group">
  
app/views/bookings/_form.html.erb:1:in `_app_views_bookings__form_html_erb___717141236475581074_47445972160340'
app/views/bookings/new.html.erb:3:in `_app_views_bookings_new_html_erb__3642272608239649973_47445972422640'
Started GET "/" for 127.0.0.1 at 2018-08-08 14:11:17 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (17.8ms)
  Rendered flats/index.html.erb within layouts/application (25.1ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 273ms (Views: 268.5ms | ActiveRecord: 1.5ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-08 14:11:20 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (4.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:55
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/show.html.erb within layouts/application (21.9ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 269ms (Views: 255.3ms | ActiveRecord: 6.2ms)


Started GET "/flats/1/bookings/new" for 127.0.0.1 at 2018-08-08 14:12:04 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flat_id"=>"1"}
  [1m[36mUser Load (4.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:10
  Rendering bookings/new.html.erb within layouts/application
  Rendered bookings/_form.html.erb (248.4ms)
  Rendered bookings/new.html.erb within layouts/application (249.9ms)
Completed 500 Internal Server Error in 270ms (ActiveRecord: 5.3ms)


  
ActionView::Template::Error (undefined method `bookings_path' for #<#<Class:0x0000564dc0a9f4e8>:0x00007f47ada2fc50>):
    1: <%= form_for booking do |form| %>
    2:   <%= form.error_messages %>
    3: 
    4:   <div class="field form-group">
  
app/views/bookings/_form.html.erb:1:in `_app_views_bookings__form_html_erb___717141236475581074_69972916252260'
app/views/bookings/new.html.erb:3:in `_app_views_bookings_new_html_erb__3642272608239649973_69972916274140'
Started GET "/flats/1/bookings/new" for 127.0.0.1 at 2018-08-08 14:12:33 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flat_id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mFlat Load (1.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:10
  Rendering bookings/new.html.erb within layouts/application
  Rendered bookings/new.html.erb within layouts/application (501.8ms)
Completed 500 Internal Server Error in 513ms (ActiveRecord: 1.7ms)


  
ActionView::Template::Error (undefined method `bookings_path' for #<#<Class:0x0000564dc0a9f4e8>:0x00007f47ada5e460>):
    1: <h1> Add new booking </h1>
    2: 
    3: <%= form_for @booking do |form| %>
    4:   <%= form.error_messages %>
    5: 
    6:   <div class="field form-group">
  
app/views/bookings/new.html.erb:3:in `_app_views_bookings_new_html_erb__3642272608239649973_69972916369220'
Started GET "/flats/1/bookings/new" for 127.0.0.1 at 2018-08-08 14:13:21 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flat_id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mFlat Load (2.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:10
  Rendering bookings/new.html.erb within layouts/application
  Rendered bookings/new.html.erb within layouts/application (524.1ms)
Completed 500 Internal Server Error in 539ms (ActiveRecord: 2.9ms)


  
ActionView::Template::Error (undefined method `error_messages' for #<ActionView::Helpers::FormBuilder:0x00007f47adf649f0>):
    1: <h1> Add new booking </h1>
    2: 
    3: <%= form_for [@flat, @booking] do |form| %>
    4:   <%= form.error_messages %>
    5: 
    6:   <div class="field form-group">
    7:     <%= form.label :notice, "Notice (tell about payment method, pets etc)" %>
  
app/views/bookings/new.html.erb:4:in `block in _app_views_bookings_new_html_erb__3642272608239649973_69972918983280'
app/views/bookings/new.html.erb:3:in `_app_views_bookings_new_html_erb__3642272608239649973_69972918983280'
Started GET "/flats/1/bookings/new" for 127.0.0.1 at 2018-08-08 14:13:37 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flat_id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:10
  Rendering bookings/new.html.erb within layouts/application
  Rendered bookings/new.html.erb within layouts/application (7.2ms)
Completed 200 OK in 442ms (Views: 433.0ms | ActiveRecord: 0.9ms)


Started POST "/flats/1/bookings" for 127.0.0.1 at 2018-08-08 14:13:45 +0300
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"u1pUDzzLz51IwTMfDrljLBCMxV7ddX4DyVgLCQCmpbA1aUcnoVF3bXlCSPzAti8F/6eDXkJZ+zQDe/ywib7Rag==", "booking"=>{"notice"=>"", "start_date"=>"", "end_date"=>""}, "commit"=>"Book this flat", "flat_id"=>"1"}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/bookings_controller.rb:17
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:17
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/bookings_controller.rb:17
Completed 500 Internal Server Error in 37ms (ActiveRecord: 3.1ms)


  
TypeError (can't iterate from NilClass):
  
app/validators/booking_validator.rb:3:in `validate'
app/controllers/bookings_controller.rb:17:in `create'
Started GET "/flats/1/bookings/new" for 127.0.0.1 at 2018-08-08 14:22:23 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flat_id"=>"1"}
  [1m[36mUser Load (2.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mFlat Load (1.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:10
  Rendering bookings/new.html.erb within layouts/application
  Rendered bookings/new.html.erb within layouts/application (2.4ms)
Completed 200 OK in 470ms (Views: 335.4ms | ActiveRecord: 21.4ms)


Started POST "/flats/1/bookings" for 127.0.0.1 at 2018-08-08 14:22:26 +0300
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"8YvQxWBhkY2UgQXfIyZki7WENGE0W9TsiwKqSzX4Gn9/uMPt/fspfaUCfjztKSiiWq9yYat3UdtBIV3yvOBupQ==", "booking"=>{"notice"=>"", "start_date"=>"", "end_date"=>""}, "commit"=>"Book this flat", "flat_id"=>"1"}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/bookings_controller.rb:17
  [1m[36mFlat Load (0.9ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:17
  [1m[35m (0.7ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/bookings_controller.rb:17
Completed 500 Internal Server Error in 34ms (ActiveRecord: 3.4ms)


  
TypeError (can't iterate from NilClass):
  
app/validators/booking_validator.rb:3:in `validate'
app/controllers/bookings_controller.rb:17:in `create'
Started GET "/" for 127.0.0.1 at 2018-08-08 14:25:14 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.8ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (16.7ms)
  Rendered flats/index.html.erb within layouts/application (33.0ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 241ms (Views: 235.1ms | ActiveRecord: 2.6ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-08 14:25:16 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (1.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:55
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered bookings/_form.html.erb (8.7ms)
  Rendered flats/show.html.erb within layouts/application (29.3ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 283ms (Views: 271.6ms | ActiveRecord: 3.4ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-08 14:25:34 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:55
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered bookings/_form.html.erb (7.6ms)
  Rendered flats/show.html.erb within layouts/application (21.7ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 477ms (Views: 473.1ms | ActiveRecord: 1.3ms)


Started POST "/flats/1/bookings" for 127.0.0.1 at 2018-08-08 14:25:38 +0300
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"aygfOI7jrsoJxZqZdp4aAmCSfwkQQpb9nZJeI67R1sHlGwwQE3kWOjhG4Xq4kVYrj7k5CY9uE8pXsamaJ8miGw==", "booking"=>{"notice"=>"", "start_date"=>"", "end_date"=>""}, "commit"=>"Book this flat", "flat_id"=>"1"}
  [1m[36mUser Load (9.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/bookings_controller.rb:17
  [1m[36mFlat Load (1.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:17
  [1m[35m (1.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/bookings_controller.rb:17
Completed 500 Internal Server Error in 58ms (ActiveRecord: 12.5ms)


  
TypeError (can't iterate from NilClass):
  
app/validators/booking_validator.rb:3:in `validate'
app/controllers/bookings_controller.rb:17:in `create'
Started POST "/flats/1/bookings" for 127.0.0.1 at 2018-08-08 14:32:10 +0300
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"aygfOI7jrsoJxZqZdp4aAmCSfwkQQpb9nZJeI67R1sHlGwwQE3kWOjhG4Xq4kVYrj7k5CY9uE8pXsamaJ8miGw==", "booking"=>{"notice"=>"", "start_date"=>"", "end_date"=>""}, "commit"=>"Book this flat", "flat_id"=>"1"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/bookings_controller.rb:17
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:17
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/bookings_controller.rb:17
Completed 500 Internal Server Error in 104ms (ActiveRecord: 23.6ms)


  
NoMethodError (undefined method `presence?' for nil:NilClass
Did you mean?  presence
               present?
               presence_in):
  
app/validators/booking_validator.rb:3:in `validate'
app/controllers/bookings_controller.rb:17:in `create'
Started POST "/flats/1/bookings" for 127.0.0.1 at 2018-08-08 14:32:59 +0300
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"aygfOI7jrsoJxZqZdp4aAmCSfwkQQpb9nZJeI67R1sHlGwwQE3kWOjhG4Xq4kVYrj7k5CY9uE8pXsamaJ8miGw==", "booking"=>{"notice"=>"", "start_date"=>"", "end_date"=>""}, "commit"=>"Book this flat", "flat_id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.8ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/bookings_controller.rb:17
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:17
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/bookings_controller.rb:17
Redirected to http://localhost:3000/flats/1
Completed 302 Found in 127ms (ActiveRecord: 14.6ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-08 14:32:59 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:55
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered bookings/_form.html.erb (13.5ms)
  Rendered flats/show.html.erb within layouts/application (30.5ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 319ms (Views: 315.7ms | ActiveRecord: 1.2ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-08 14:34:02 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (2.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:55
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered bookings/_form.html.erb (16.0ms)
  Rendered flats/show.html.erb within layouts/application (102.8ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 603ms (Views: 510.7ms | ActiveRecord: 27.3ms)


Started POST "/flats/1/bookings" for 127.0.0.1 at 2018-08-08 14:34:05 +0300
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"hOHyf/me10IlIbeDR8BOBrlv1FxcAy//xxo5mcSKcZAK0uFXZARvshSizGCJzwIvVkSSXMMvqsgNOc4gTZIFSg==", "booking"=>{"notice"=>"", "start_date"=>"", "end_date"=>""}, "commit"=>"Book this flat", "flat_id"=>"1"}
  [1m[36mUser Load (4.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/bookings_controller.rb:17
  [1m[36mFlat Load (1.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:17
  [1m[35m (2.4ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/bookings_controller.rb:17
Redirected to http://localhost:3000/flats/1
Completed 302 Found in 59ms (ActiveRecord: 9.1ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-08 14:34:05 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:55
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered bookings/_form.html.erb (10.4ms)
  Rendered flats/show.html.erb within layouts/application (20.5ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 343ms (Views: 335.4ms | ActiveRecord: 1.3ms)


Started POST "/flats/1/bookings" for 127.0.0.1 at 2018-08-08 14:44:36 +0300
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"DN1MoTVMikhwDQnbZh/F0f/vEkrZU5oxMw/8xjFp+DyC7l+JqNYyuEGOcjioEIn4EMRUSkZ/Hwb5LAt/uHGM5g==", "booking"=>{"notice"=>"56 dogs and 40 cats", "start_date"=>"2018-08-18", "end_date"=>"2018-08-19"}, "commit"=>"Book this flat", "flat_id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/bookings_controller.rb:17
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:17
  [1m[36mBooking Create (2.0ms)[0m  [1m[32mINSERT INTO "bookings" ("user_id", "flat_id", "created_at", "updated_at", "notice", "start_date", "end_date") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 1], ["flat_id", 1], ["created_at", "2018-08-08 11:44:36.640020"], ["updated_at", "2018-08-08 11:44:36.640020"], ["notice", "56 dogs and 40 cats"], ["start_date", "2018-08-18"], ["end_date", "2018-08-19"]]
  ↳ app/controllers/bookings_controller.rb:17
  [1m[35m (3.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/bookings_controller.rb:17
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/mailers/create_booking_mailer.rb:5
  Rendering create_booking_mailer/new_booking.html.erb within layouts/mailer
  Rendered create_booking_mailer/new_booking.html.erb within layouts/mailer (0.6ms)
  Rendering create_booking_mailer/new_booking.text.erb within layouts/mailer
  Rendered create_booking_mailer/new_booking.text.erb within layouts/mailer (0.4ms)
CreateBookingMailer#new_booking: processed outbound mail in 16.6ms
Sent mail to tork@gmail.com (44.1ms)
Date: Wed, 08 Aug 2018 14:44:36 +0300
From: yorkqw@gmail.com
To: tork@gmail.com
Message-ID: <5b6ad7a4a68e9_11de2b26e042937074688@york-HP-250-G5-Notebook-PC.mail>
Subject: Your flat booked
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5b6ad7a4a4fd9_11de2b26e04293707454";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5b6ad7a4a4fd9_11de2b26e04293707454
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hello Tork

Tork booked your flat Letuchiy Gollandets from 2018-08-18 to 2018-08-19 and say:
56 dogs and 40 cats


----==_mimepart_5b6ad7a4a4fd9_11de2b26e04293707454
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <h1> Hello Tork</h1>

Tork booked your flat Letuchiy Gollandets from 2018-08-18 to 2018-08-19 and say:
56 dogs and 40 cats


  </body>
</html>

----==_mimepart_5b6ad7a4a4fd9_11de2b26e04293707454--

  [1m[35m (1.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/booking_service.rb:11
  [1m[36mFlat Update (0.5ms)[0m  [1m[33mUPDATE "flats" SET "reserved_date" = $1, "updated_at" = $2 WHERE "flats"."id" = $3[0m  [["reserved_date", "{2018-08-15,2018-08-16,2018-08-17,2018-08-16,2018-08-17,2018-08-18}"], ["updated_at", "2018-08-08 11:44:36.731948"], ["id", 1]]
  ↳ app/services/booking_service.rb:11
  [1m[35m (2.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/booking_service.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/booking_service.rb:11
  [1m[36mFlat Update (0.6ms)[0m  [1m[33mUPDATE "flats" SET "reserved_date" = $1, "updated_at" = $2 WHERE "flats"."id" = $3[0m  [["reserved_date", "{2018-08-15,2018-08-16,2018-08-17,2018-08-16,2018-08-17,2018-08-18,2018-08-19}"], ["updated_at", "2018-08-08 11:44:36.739360"], ["id", 1]]
  ↳ app/services/booking_service.rb:11
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/booking_service.rb:11
Redirected to http://localhost:3000/
Completed 302 Found in 191ms (ActiveRecord: 26.8ms)


Started GET "/" for 127.0.0.1 at 2018-08-08 14:44:36 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (5.0ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (30.7ms)
  Rendered flats/index.html.erb within layouts/application (45.7ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 380ms (Views: 370.1ms | ActiveRecord: 7.1ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-08 14:44:50 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (1.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:55
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (2.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered bookings/_form.html.erb (10.9ms)
  Rendered flats/show.html.erb within layouts/application (37.7ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 238ms (Views: 225.0ms | ActiveRecord: 4.2ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-08 14:46:26 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:55
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered bookings/_form.html.erb (31.1ms)
  Rendered flats/show.html.erb within layouts/application (96.2ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 500ms (Views: 420.2ms | ActiveRecord: 25.5ms)


Started POST "/flats/1/bookings" for 127.0.0.1 at 2018-08-08 14:46:38 +0300
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"up+n4I3ydlfjliGNXCktK5QI4TNRhJXO6+IqZXYWHB80rLTIEGjOp9IVWm6SJmECeyOnM86oEPkhwd3c/w5oxQ==", "booking"=>{"notice"=>"dd", "start_date"=>"2018-08-20", "end_date"=>"2018-08-21"}, "commit"=>"Book this flat", "flat_id"=>"1"}
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/bookings_controller.rb:17
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:17
  [1m[36mBooking Create (0.6ms)[0m  [1m[32mINSERT INTO "bookings" ("user_id", "flat_id", "created_at", "updated_at", "notice", "start_date", "end_date") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 1], ["flat_id", 1], ["created_at", "2018-08-08 11:46:38.675039"], ["updated_at", "2018-08-08 11:46:38.675039"], ["notice", "dd"], ["start_date", "2018-08-20"], ["end_date", "2018-08-21"]]
  ↳ app/controllers/bookings_controller.rb:17
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/bookings_controller.rb:17
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/mailers/create_booking_mailer.rb:5
  Rendering create_booking_mailer/new_booking.html.erb within layouts/mailer
  Rendered create_booking_mailer/new_booking.html.erb within layouts/mailer (0.9ms)
  Rendering create_booking_mailer/new_booking.text.erb within layouts/mailer
  Rendered create_booking_mailer/new_booking.text.erb within layouts/mailer (0.5ms)
CreateBookingMailer#new_booking: processed outbound mail in 30.2ms
Sent mail to tork@gmail.com (73.2ms)
Date: Wed, 08 Aug 2018 14:46:38 +0300
From: yorkqw@gmail.com
To: tork@gmail.com
Message-ID: <5b6ad81eb1ef8_11de2b26e0428f387484f@york-HP-250-G5-Notebook-PC.mail>
Subject: Your flat booked
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5b6ad81eaec70_11de2b26e0428f38747a8";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5b6ad81eaec70_11de2b26e0428f38747a8
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hello Tork

Tork booked your flat Letuchiy Gollandets from 2018-08-20 to 2018-08-21 and say:
dd


----==_mimepart_5b6ad81eaec70_11de2b26e0428f38747a8
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <h1> Hello Tork</h1>

Tork booked your flat Letuchiy Gollandets from 2018-08-20 to 2018-08-21 and say:
dd


  </body>
</html>

----==_mimepart_5b6ad81eaec70_11de2b26e0428f38747a8--

  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/booking_service.rb:11
  [1m[36mFlat Update (0.8ms)[0m  [1m[33mUPDATE "flats" SET "reserved_date" = $1, "updated_at" = $2 WHERE "flats"."id" = $3[0m  [["reserved_date", "{2018-08-15,2018-08-16,2018-08-17,2018-08-16,2018-08-17,2018-08-18,2018-08-19,2018-08-20}"], ["updated_at", "2018-08-08 11:46:38.821374"], ["id", 1]]
  ↳ app/services/booking_service.rb:11
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/booking_service.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/booking_service.rb:11
  [1m[36mFlat Update (0.7ms)[0m  [1m[33mUPDATE "flats" SET "reserved_date" = $1, "updated_at" = $2 WHERE "flats"."id" = $3[0m  [["reserved_date", "{2018-08-15,2018-08-16,2018-08-17,2018-08-16,2018-08-17,2018-08-18,2018-08-19,2018-08-20,2018-08-21}"], ["updated_at", "2018-08-08 11:46:38.836224"], ["id", 1]]
  ↳ app/services/booking_service.rb:11
  [1m[35m (2.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/booking_service.rb:11
Redirected to http://localhost:3000/
Completed 302 Found in 209ms (ActiveRecord: 12.4ms)


Started GET "/" for 127.0.0.1 at 2018-08-08 14:46:38 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.6ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (34.1ms)
  Rendered flats/index.html.erb within layouts/application (60.2ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 477ms (Views: 465.0ms | ActiveRecord: 3.7ms)


Started GET "/" for 127.0.0.1 at 2018-08-08 14:46:43 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.9ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (37.4ms)
  Rendered flats/index.html.erb within layouts/application (61.2ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 499ms (Views: 494.3ms | ActiveRecord: 1.8ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-08 14:46:50 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (1.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:55
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered bookings/_form.html.erb (17.3ms)
  Rendered flats/show.html.erb within layouts/application (53.7ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 392ms (Views: 374.5ms | ActiveRecord: 2.5ms)


Started GET "/users/1" for 127.0.0.1 at 2018-08-08 14:47:23 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:3
  Rendering users/show.html.erb within layouts/application
  [1m[35m (2.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:17
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT "flats".* FROM "flats" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:43
  Rendered collection of flats/_flat.html.erb [3 times] (6.4ms)
  Rendered users/show.html.erb within layouts/application (21.9ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 251ms (Views: 236.5ms | ActiveRecord: 3.7ms)


Started GET "/users/1" for 127.0.0.1 at 2018-08-08 14:51:06 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:3
  Rendering users/show.html.erb within layouts/application
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:17
  [1m[36mFlat Load (1.2ms)[0m  [1m[34mSELECT "flats".* FROM "flats" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:43
  Rendered collection of flats/_flat.html.erb [3 times] (14.9ms)
  [1m[36mBooking Load (1.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:46
  [1m[36mFlat Load (2.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:1
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:1
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:1
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:1
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:1
  [1m[36mCACHE Flat Load (0.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:1
  [1m[36mCACHE Flat Load (0.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:1
  Rendered collection of bookings/_booking.html.erb [7 times] (29.8ms)
  Rendered users/show.html.erb within layouts/application (65.8ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 505ms (Views: 489.3ms | ActiveRecord: 7.3ms)


Started GET "/users/1" for 127.0.0.1 at 2018-08-08 14:55:13 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:3
  Rendering users/show.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:17
  [1m[36mFlat Load (2.4ms)[0m  [1m[34mSELECT "flats".* FROM "flats" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:43
  Rendered collection of flats/_flat.html.erb [3 times] (24.2ms)
  [1m[36mBooking Load (0.5ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:46
  [1m[36mFlat Load (1.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:1
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:1
  [1m[36mCACHE Flat Load (0.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:1
  [1m[36mCACHE Flat Load (0.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:1
  [1m[36mCACHE Flat Load (0.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:1
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:1
  [1m[36mCACHE Flat Load (0.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:1
  Rendered collection of bookings/_booking.html.erb [7 times] (31.4ms)
  Rendered users/show.html.erb within layouts/application (70.6ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 446ms (Views: 437.5ms | ActiveRecord: 6.0ms)


Started GET "/users/1" for 127.0.0.1 at 2018-08-08 14:55:27 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:3
  Rendering users/show.html.erb within layouts/application
  [1m[35m (6.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:17
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT "flats".* FROM "flats" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:43
  Rendered collection of flats/_flat.html.erb [3 times] (18.4ms)
  [1m[36mBooking Load (2.1ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:46
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:1
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:1
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:1
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:1
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:1
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:1
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:1
  Rendered collection of bookings/_booking.html.erb [7 times] (11.8ms)
  Rendered users/show.html.erb within layouts/application (57.9ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 551ms (Views: 538.1ms | ActiveRecord: 10.7ms)


Started DELETE "/flats/37/bookings/1" for 127.0.0.1 at 2018-08-08 14:55:42 +0300
Processing by BookingsController#destroy as HTML
  Parameters: {"authenticity_token"=>"FNgP9palVC28NWAROzaWVVplq9yYVcoI6wqMw4NRWpOa6xzeCz/s3Y22G/L1Odp8tU7t3Ad5Tz8hKXt6CkkuSQ==", "flat_id"=>"37", "id"=>"1"}
  [1m[36mBooking Load (0.7ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:45
Completed 404 Not Found in 7ms (ActiveRecord: 0.7ms)


  
ActiveRecord::RecordNotFound (Couldn't find Booking with 'id'=1):
  
app/controllers/bookings_controller.rb:45:in `set_booking'
Started GET "/users/1" for 127.0.0.1 at 2018-08-08 14:58:20 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:3
  Rendering users/show.html.erb within layouts/application
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:17
  [1m[36mFlat Load (4.0ms)[0m  [1m[34mSELECT "flats".* FROM "flats" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:43
  Rendered collection of flats/_flat.html.erb [3 times] (15.5ms)
  [1m[36mBooking Load (0.8ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:46
  [1m[36mFlat Load (2.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:1
  Rendered collection of bookings/_booking.html.erb [7 times] (445.9ms)
  Rendered users/show.html.erb within layouts/application (485.6ms)
Completed 500 Internal Server Error in 495ms (ActiveRecord: 8.6ms)


  
ActionView::Template::Error (undefined method `booking_path' for #<#<Class:0x00007f47aef65d40>:0x00007f47ad428c58>):
    1: <h1>Book for <%= booking.flat.name %> </h1>
    2: <%= link_to "Delete", booking_path(booking), method: :delete,
    3:         data: { confirm: 'Are you sure?' } %><br/>
    4: 
    5: Date from <%= booking.start_date %> to <%= booking.end_date %>
  
app/views/bookings/_booking.html.erb:2:in `_app_views_bookings__booking_html_erb___2283134208491928531_69972905200060'
app/views/users/show.html.erb:46:in `_app_views_users_show_html_erb__3150810324727039529_69972913114500'
Started GET "/users/1" for 127.0.0.1 at 2018-08-08 14:58:50 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:3
  Rendering users/show.html.erb within layouts/application
  [1m[35m (1.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:17
  [1m[36mFlat Load (1.4ms)[0m  [1m[34mSELECT "flats".* FROM "flats" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:43
  Rendered collection of flats/_flat.html.erb [3 times] (21.8ms)
  [1m[36mBooking Load (1.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:46
  [1m[36mFlat Load (2.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:1
  [1m[36mCACHE Flat Load (0.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:1
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:1
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:1
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:1
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:1
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:1
  Rendered collection of bookings/_booking.html.erb [7 times] (39.3ms)
  Rendered users/show.html.erb within layouts/application (104.8ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 579ms (Views: 568.3ms | ActiveRecord: 8.1ms)


Started GET "/users/1" for 127.0.0.1 at 2018-08-08 15:00:15 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:3
  Rendering users/show.html.erb within layouts/application
  [1m[35m (2.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:17
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT "flats".* FROM "flats" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:43
  Rendered collection of flats/_flat.html.erb [3 times] (15.6ms)
  [1m[36mBooking Load (0.5ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:46
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:1
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:1
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:1
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:1
  [1m[36mCACHE Flat Load (0.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:1
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:1
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:1
  Rendered collection of bookings/_booking.html.erb [7 times] (27.7ms)
  Rendered users/show.html.erb within layouts/application (60.2ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 520ms (Views: 511.2ms | ActiveRecord: 5.7ms)


Started DELETE "/flats/1/bookings/37" for 127.0.0.1 at 2018-08-08 15:00:25 +0300
Processing by BookingsController#destroy as HTML
  Parameters: {"authenticity_token"=>"MSq9jYfHjQSsMy9GSHXEOfV2jKhptNiUmhFqVIIjyKe/Ga6lGl019J2wVKWGeogQGl3KqPaYXaNQMp3tCzu8fQ==", "flat_id"=>"1", "id"=>"37"}
  [1m[36mBooking Load (0.4ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 37], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:45
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/bookings_controller.rb:31
  [1m[36mBooking Destroy (2.9ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 37]]
  ↳ app/controllers/bookings_controller.rb:31
  [1m[35m (5.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/bookings_controller.rb:31
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/booking_service.rb:18
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/booking_service.rb:19
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/booking_service.rb:19
  [1m[36mFlat Update (0.5ms)[0m  [1m[33mUPDATE "flats" SET "reserved_date" = $1, "updated_at" = $2 WHERE "flats"."id" = $3[0m  [["reserved_date", "{2018-08-15,2018-08-17,2018-08-17,2018-08-18,2018-08-19,2018-08-20,2018-08-21}"], ["updated_at", "2018-08-08 12:00:25.311306"], ["id", 1]]
  ↳ app/services/booking_service.rb:19
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/booking_service.rb:19
  [1m[35m (1.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/booking_service.rb:19
  [1m[36mFlat Update (0.7ms)[0m  [1m[33mUPDATE "flats" SET "reserved_date" = $1, "updated_at" = $2 WHERE "flats"."id" = $3[0m  [["reserved_date", "{2018-08-15,2018-08-18,2018-08-19,2018-08-20,2018-08-21}"], ["updated_at", "2018-08-08 12:00:25.320685"], ["id", 1]]
  ↳ app/services/booking_service.rb:19
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/booking_service.rb:19
Redirected to http://localhost:3000/
Completed 302 Found in 51ms (ActiveRecord: 16.5ms)


Started GET "/" for 127.0.0.1 at 2018-08-08 15:00:25 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (27.6ms)
  Rendered flats/index.html.erb within layouts/application (33.5ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 310ms (Views: 306.8ms | ActiveRecord: 1.9ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-08 15:00:28 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.9ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:55
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered bookings/_form.html.erb (6.5ms)
  Rendered flats/show.html.erb within layouts/application (28.3ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 364ms (Views: 353.0ms | ActiveRecord: 2.1ms)


Started GET "/users/1" for 127.0.0.1 at 2018-08-08 15:00:52 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:3
  Rendering users/show.html.erb within layouts/application
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:17
  [1m[36mFlat Load (2.6ms)[0m  [1m[34mSELECT "flats".* FROM "flats" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:43
  Rendered collection of flats/_flat.html.erb [3 times] (33.1ms)
  [1m[36mBooking Load (1.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:46
  [1m[36mFlat Load (0.9ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:1
  [1m[36mCACHE Flat Load (0.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:1
  [1m[36mCACHE Flat Load (0.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:1
  [1m[36mCACHE Flat Load (0.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:1
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:1
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:1
  Rendered collection of bookings/_booking.html.erb [6 times] (20.7ms)
  Rendered users/show.html.erb within layouts/application (84.4ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 307ms (Views: 290.0ms | ActiveRecord: 7.9ms)


Started DELETE "/flats/1/bookings/36" for 127.0.0.1 at 2018-08-08 15:00:59 +0300
Processing by BookingsController#destroy as HTML
  Parameters: {"authenticity_token"=>"kV5Dj3dfEhgc5ExF1bhmTatFp0caXR7AFNLsuqC5M/gfbVCn6sWq6C1nN6YbtypkRG7hR4Vxm/fe8RsDKaFHIg==", "flat_id"=>"1", "id"=>"36"}
  [1m[36mBooking Load (0.7ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 36], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:45
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/bookings_controller.rb:31
  [1m[36mBooking Destroy (0.6ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 36]]
  ↳ app/controllers/bookings_controller.rb:31
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/bookings_controller.rb:31
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/booking_service.rb:18
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/booking_service.rb:19
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/booking_service.rb:19
  [1m[36mFlat Update (0.7ms)[0m  [1m[33mUPDATE "flats" SET "reserved_date" = $1, "updated_at" = $2 WHERE "flats"."id" = $3[0m  [["reserved_date", "{2018-08-18,2018-08-19,2018-08-20,2018-08-21}"], ["updated_at", "2018-08-08 12:00:59.562264"], ["id", 1]]
  ↳ app/services/booking_service.rb:19
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/booking_service.rb:19
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/booking_service.rb:19
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/booking_service.rb:19
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/booking_service.rb:19
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/booking_service.rb:19
Redirected to http://localhost:3000/
Completed 302 Found in 50ms (ActiveRecord: 10.2ms)


Started GET "/" for 127.0.0.1 at 2018-08-08 15:00:59 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.3ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (26.7ms)
  Rendered flats/index.html.erb within layouts/application (43.4ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 342ms (Views: 336.8ms | ActiveRecord: 3.9ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-08 15:01:01 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:55
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered bookings/_form.html.erb (6.0ms)
  Rendered flats/show.html.erb within layouts/application (24.3ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 254ms (Views: 247.1ms | ActiveRecord: 1.7ms)


Started GET "/users/1" for 127.0.0.1 at 2018-08-08 15:01:05 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:3
  Rendering users/show.html.erb within layouts/application
  [1m[35m (1.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:17
  [1m[36mFlat Load (1.1ms)[0m  [1m[34mSELECT "flats".* FROM "flats" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:43
  Rendered collection of flats/_flat.html.erb [3 times] (30.7ms)
  [1m[36mBooking Load (1.4ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:46
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:1
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:1
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:1
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:1
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:1
  Rendered collection of bookings/_booking.html.erb [5 times] (15.2ms)
  Rendered users/show.html.erb within layouts/application (68.3ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 304ms (Views: 290.3ms | ActiveRecord: 6.3ms)


Started DELETE "/flats/1/bookings/38" for 127.0.0.1 at 2018-08-08 15:01:10 +0300
Processing by BookingsController#destroy as HTML
  Parameters: {"authenticity_token"=>"/U8XCki2JPi2N9IpGdLZ2GIjwUCZB0OD9iSfF4iYqHhzfAQi1SycCIe0qcrX3ZXxjQiHQAYrxrQ8B2iuAYDcog==", "flat_id"=>"1", "id"=>"38"}
  [1m[36mBooking Load (0.6ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 38], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:45
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/bookings_controller.rb:31
  [1m[36mBooking Destroy (0.5ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 38]]
  ↳ app/controllers/bookings_controller.rb:31
  [1m[35m (2.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/bookings_controller.rb:31
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/booking_service.rb:18
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/booking_service.rb:19
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/booking_service.rb:19
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/booking_service.rb:19
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/booking_service.rb:19
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/booking_service.rb:19
Redirected to http://localhost:3000/
Completed 302 Found in 35ms (ActiveRecord: 7.0ms)


Started GET "/" for 127.0.0.1 at 2018-08-08 15:01:10 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (31.3ms)
  Rendered flats/index.html.erb within layouts/application (41.0ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 345ms (Views: 335.8ms | ActiveRecord: 2.0ms)


Started GET "/users/1" for 127.0.0.1 at 2018-08-08 15:01:12 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:3
  Rendering users/show.html.erb within layouts/application
  [1m[35m (2.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:17
  [1m[36mFlat Load (1.0ms)[0m  [1m[34mSELECT "flats".* FROM "flats" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:43
  Rendered collection of flats/_flat.html.erb [3 times] (12.5ms)
  [1m[36mBooking Load (0.7ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:46
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:1
  [1m[36mCACHE Flat Load (0.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:1
  [1m[36mCACHE Flat Load (0.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:1
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:1
  Rendered collection of bookings/_booking.html.erb [4 times] (17.1ms)
  Rendered users/show.html.erb within layouts/application (51.4ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 273ms (Views: 260.3ms | ActiveRecord: 6.0ms)


Started DELETE "/flats/1/bookings/39" for 127.0.0.1 at 2018-08-08 15:01:17 +0300
Processing by BookingsController#destroy as HTML
  Parameters: {"authenticity_token"=>"ClFeEgF9lOUg2Mq610skBnGjsoDGidgHktu+OTQvIEyEYk06nOcsFRFbsVkZRGgvnoj0gFmlXTBY+EmAvTdUlg==", "flat_id"=>"1", "id"=>"39"}
  [1m[36mBooking Load (1.6ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 39], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:45
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/bookings_controller.rb:31
  [1m[36mBooking Destroy (0.4ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 39]]
  ↳ app/controllers/bookings_controller.rb:31
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/bookings_controller.rb:31
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/booking_service.rb:18
  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/booking_service.rb:19
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/booking_service.rb:19
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/booking_service.rb:19
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/booking_service.rb:19
  [1m[35m (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/booking_service.rb:19
Redirected to http://localhost:3000/
Completed 302 Found in 36ms (ActiveRecord: 7.5ms)


Started GET "/" for 127.0.0.1 at 2018-08-08 15:01:17 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.8ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (31.4ms)
  Rendered flats/index.html.erb within layouts/application (46.2ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 400ms (Views: 391.0ms | ActiveRecord: 2.0ms)


Started GET "/users/1" for 127.0.0.1 at 2018-08-08 15:01:19 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:3
  Rendering users/show.html.erb within layouts/application
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:17
  [1m[36mFlat Load (1.9ms)[0m  [1m[34mSELECT "flats".* FROM "flats" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:43
  Rendered collection of flats/_flat.html.erb [3 times] (16.7ms)
  [1m[36mBooking Load (0.4ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:46
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:1
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:1
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:1
  Rendered collection of bookings/_booking.html.erb [3 times] (10.7ms)
  Rendered users/show.html.erb within layouts/application (43.3ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 267ms (Views: 257.5ms | ActiveRecord: 4.7ms)


Started DELETE "/flats/1/bookings/40" for 127.0.0.1 at 2018-08-08 15:01:24 +0300
Processing by BookingsController#destroy as HTML
  Parameters: {"authenticity_token"=>"4/HkoJZaSAMrykETF4Wni+PGMuTFr9WiC8QC7Mg08KBtwveIC8Dw8xpJOvDZiuuiDO105FqDUJXB5/VVQSyEeg==", "flat_id"=>"1", "id"=>"40"}
  [1m[36mBooking Load (1.4ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 40], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:45
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/bookings_controller.rb:31
  [1m[36mBooking Destroy (0.7ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 40]]
  ↳ app/controllers/bookings_controller.rb:31
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/bookings_controller.rb:31
Completed 500 Internal Server Error in 23ms (ActiveRecord: 5.8ms)


  
TypeError (can't iterate from NilClass):
  
app/services/booking_service.rb:16:in `remove_reserved_date'
app/controllers/bookings_controller.rb:32:in `destroy'
  [1m[36mBooking Load (0.4ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 40], ["LIMIT", 1]]
  [1m[36mBooking Load (0.7ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" LIMIT $1[0m  [["LIMIT", 11]]
Started GET "/users/1" for 127.0.0.1 at 2018-08-08 15:03:26 +0300
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:3
  Rendering users/show.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:17
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT "flats".* FROM "flats" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:43
  Rendered collection of flats/_flat.html.erb [3 times] (288.4ms)
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:46
  [1m[36mFlat Load (1.9ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:1
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:1
  Rendered collection of bookings/_booking.html.erb [2 times] (12.2ms)
  Rendered users/show.html.erb within layouts/application (438.5ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 935ms (Views: 791.3ms | ActiveRecord: 18.5ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-08 15:03:58 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:55
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered bookings/_form.html.erb (18.4ms)
  Rendered flats/show.html.erb within layouts/application (45.4ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 306ms (Views: 296.3ms | ActiveRecord: 2.9ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-08 15:07:21 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (1.9ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:55
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (2.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered bookings/_form.html.erb (7.9ms)
  Rendered flats/show.html.erb within layouts/application (37.8ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 473ms (Views: 457.6ms | ActiveRecord: 5.2ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-08 15:07:54 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:55
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered bookings/_form.html.erb (6.6ms)
  Rendered flats/show.html.erb within layouts/application (22.8ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 621ms (Views: 615.8ms | ActiveRecord: 2.9ms)


Started POST "/flats/1/bookings" for 127.0.0.1 at 2018-08-08 15:08:04 +0300
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"WX+H0zWfjqoaBYTALR07ec4VV9wGdCb/ObE5mS1MFzzXTJT7qAU2WiuG/yPjEndQIT4R3JlYo8jzks4gpFRj5g==", "booking"=>{"notice"=>"", "start_date"=>"2018-08-20", "end_date"=>"2018-08-21"}, "commit"=>"Book this flat", "flat_id"=>"1"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/bookings_controller.rb:17
  [1m[36mFlat Load (1.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:17
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/bookings_controller.rb:17
Completed 500 Internal Server Error in 19ms (ActiveRecord: 3.2ms)


  
ActionController::UrlGenerationError (No route matches {:action=>"show", :controller=>"bookings", :flat_id=>#<Booking id: nil, user_id: 1, flat_id: 1, created_at: nil, updated_at: nil, notice: "", start_date: "2018-08-20", end_date: "2018-08-21">}, missing required keys: [:id], possible unmatched constraints: [:flat_id]):
  
app/controllers/bookings_controller.rb:26:in `create'
Started POST "/flats/1/bookings" for 127.0.0.1 at 2018-08-08 15:08:40 +0300
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"WX+H0zWfjqoaBYTALR07ec4VV9wGdCb/ObE5mS1MFzzXTJT7qAU2WiuG/yPjEndQIT4R3JlYo8jzks4gpFRj5g==", "booking"=>{"notice"=>"", "start_date"=>"2018-08-20", "end_date"=>"2018-08-21"}, "commit"=>"Book this flat", "flat_id"=>"1"}
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/bookings_controller.rb:17
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:17
  [1m[35m (1.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/bookings_controller.rb:17
Redirected to 
Completed 500 Internal Server Error in 593ms (ActiveRecord: 23.7ms)


  
NoMethodError (undefined method `bookings_url' for #<BookingsController:0x00007f2e99f7ca50>):
  
app/controllers/bookings_controller.rb:26:in `create'
Started POST "/flats/1/bookings" for 127.0.0.1 at 2018-08-08 15:08:57 +0300
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"WX+H0zWfjqoaBYTALR07ec4VV9wGdCb/ObE5mS1MFzzXTJT7qAU2WiuG/yPjEndQIT4R3JlYo8jzks4gpFRj5g==", "booking"=>{"notice"=>"", "start_date"=>"2018-08-20", "end_date"=>"2018-08-21"}, "commit"=>"Book this flat", "flat_id"=>"1"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/bookings_controller.rb:17
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:17
  [1m[35m (1.3ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/bookings_controller.rb:17
Completed 500 Internal Server Error in 634ms (ActiveRecord: 28.6ms)


  
NameError (undefined local variable or method `bookings_url' for #<BookingsController:0x00007f2e99291160>
Did you mean?  booking_params):
  
app/controllers/bookings_controller.rb:26:in `create'
Started POST "/flats/1/bookings" for 127.0.0.1 at 2018-08-08 15:09:16 +0300
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"WX+H0zWfjqoaBYTALR07ec4VV9wGdCb/ObE5mS1MFzzXTJT7qAU2WiuG/yPjEndQIT4R3JlYo8jzks4gpFRj5g==", "booking"=>{"notice"=>"", "start_date"=>"2018-08-20", "end_date"=>"2018-08-21"}, "commit"=>"Book this flat", "flat_id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/bookings_controller.rb:17
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:17
  [1m[35m (0.8ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/bookings_controller.rb:17
Redirected to http://localhost:3000/flats/1
Completed 302 Found in 129ms (ActiveRecord: 19.7ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-08 15:09:16 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:55
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered bookings/_form.html.erb (5.3ms)
  Rendered flats/show.html.erb within layouts/application (20.0ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 393ms (Views: 387.3ms | ActiveRecord: 2.4ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-08 15:10:06 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (1.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:55
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered bookings/_form.html.erb (23.3ms)
  Rendered flats/show.html.erb within layouts/application (100.6ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 520ms (Views: 410.2ms | ActiveRecord: 22.3ms)


Started POST "/flats/1/bookings" for 127.0.0.1 at 2018-08-08 15:10:13 +0300
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"KX7jDLrU2hKF5xyZzTt+js5qBGa7l+tLmUAMACmPRcqnTfAkJ05i4rRkZ3oDNDKnIUFCZiS7bnxTY/u5oJcxEA==", "booking"=>{"notice"=>"", "start_date"=>"2018-08-20", "end_date"=>"2018-08-21"}, "commit"=>"Book this flat", "flat_id"=>"1"}
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/bookings_controller.rb:17
  [1m[36mFlat Load (0.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:17
  [1m[35m (0.7ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/bookings_controller.rb:17
Redirected to http://localhost:3000/flats/1
Completed 302 Found in 49ms (ActiveRecord: 3.9ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-08 15:10:13 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:55
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered bookings/_form.html.erb (4.1ms)
  Rendered flats/show.html.erb within layouts/application (27.6ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 386ms (Views: 375.8ms | ActiveRecord: 1.6ms)


Started GET "/" for 127.0.0.1 at 2018-08-08 15:15:15 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.9ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (21.4ms)
  Rendered flats/index.html.erb within layouts/application (43.5ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 237ms (Views: 223.5ms | ActiveRecord: 8.1ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-08 15:15:16 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:55
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (6.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (35.1ms)
  Rendered flats/show.html.erb within layouts/application (45.8ms)
Completed 200 OK in 260ms (Views: 242.1ms | ActiveRecord: 13.9ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2018-08-08 15:15:21 +0300
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"cK20H9Zj7l/l9ufplF24GJgtdT2ldd9FSMSSCuWABsH+nqc3S/lWr9R1nApaUvQxdwYzPTpZWnKC52WzbJhyGw=="}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 31ms (ActiveRecord: 1.1ms)


Started GET "/" for 127.0.0.1 at 2018-08-08 15:15:21 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (14.9ms)
  Rendered flats/index.html.erb within layouts/application (25.2ms)
Completed 200 OK in 280ms (Views: 277.5ms | ActiveRecord: 1.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2018-08-08 15:15:25 +0300
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (2.0ms)
  Rendered devise/registrations/new.html.erb within layouts/application (13.1ms)
Completed 200 OK in 235ms (Views: 233.5ms | ActiveRecord: 0.0ms)


Started POST "/users" for 127.0.0.1 at 2018-08-08 15:15:47 +0300
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"ja/+8AoM2Duz1Ov+hMlKV16BxO9+gWH8NpjdcjA8F1IC4Grl++tVwsqDLyqArBDAvgWM9s0uwMDqJTl+MvMugQ==", "user"=>{"name"=>"Pork", "email"=>"Pork@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "vendor"=>"0"}, "commit"=>"Sign up"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "pork@gmail.com"], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "name", "vendor") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "pork@gmail.com"], ["encrypted_password", "$2a$11$rQtQMYpGXlKlkGNAhu8XqeXJBfqo727iGoE/vlfrHjn0RwIzcQbVG"], ["created_at", "2018-08-08 12:15:47.701162"], ["updated_at", "2018-08-08 12:15:47.701162"], ["name", "Pork"], ["vendor", false]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (1.8ms)[0m  [1m[35mBEGIN[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (0.8ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-08-08 12:15:47.710430"], ["last_sign_in_at", "2018-08-08 12:15:47.710430"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-08-08 12:15:47.714933"], ["id", 2]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 225ms (ActiveRecord: 7.4ms)


Started GET "/" for 127.0.0.1 at 2018-08-08 15:15:47 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (9.0ms)
  Rendered flats/index.html.erb within layouts/application (20.9ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 289ms (Views: 284.1ms | ActiveRecord: 1.4ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-08 15:15:51 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:55
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (7.7ms)
  Rendered flats/show.html.erb within layouts/application (27.4ms)
Completed 200 OK in 243ms (Views: 238.0ms | ActiveRecord: 1.7ms)


Started GET "/users/2" for 127.0.0.1 at 2018-08-08 15:16:00 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (4.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:3
  Rendering users/show.html.erb within layouts/application
  [1m[35m (1.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/views/users/show.html.erb:17
  [1m[36mBooking Load (0.7ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/views/users/show.html.erb:46
  Rendered collection of templates [0 times] (0.1ms)
  Rendered users/show.html.erb within layouts/application (23.9ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 265ms (Views: 245.5ms | ActiveRecord: 6.7ms)


Started GET "/users/2" for 127.0.0.1 at 2018-08-08 15:18:15 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:3
  Rendering users/show.html.erb within layouts/application
  [1m[35m (2.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/views/users/show.html.erb:17
  [1m[36mBooking Load (3.4ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/views/users/show.html.erb:54
  Rendered collection of templates [0 times] (0.1ms)
  Rendered users/show.html.erb within layouts/application (24.2ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 443ms (Views: 425.6ms | ActiveRecord: 8.3ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2018-08-08 15:20:14 +0300
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"sSIniy/DBspA1/gPSupQcS9v/b+UdM1p1qpTxNWX+dZKNwMqYo0gSDvPxAJjG34bnl64kjcNyHLLxBtcVx7q7A=="}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 11ms (ActiveRecord: 1.4ms)


Started GET "/" for 127.0.0.1 at 2018-08-08 15:20:14 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (22.6ms)
  Rendered flats/index.html.erb within layouts/application (41.2ms)
Completed 200 OK in 392ms (Views: 387.3ms | ActiveRecord: 1.6ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2018-08-08 15:20:20 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (7.3ms)
  Rendered devise/sessions/new.html.erb within layouts/application (23.0ms)
Completed 200 OK in 264ms (Views: 260.8ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-08-08 15:20:35 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"8csd9CEf3SBDCELY+VIyt6R4wnJWPQQj92s7JthRgO6uheG0RS66qpgRwzDuiYoIOJofUlC34KFJ4fMeO4ZP6Q==", "user"=>{"email"=>"Pork@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "pork@gmail.com"], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = $1, "sign_in_count" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["current_sign_in_at", "2018-08-08 12:20:35.298500"], ["sign_in_count", 2], ["updated_at", "2018-08-08 12:20:35.299635"], ["id", 2]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 206ms (ActiveRecord: 2.9ms)


Started GET "/" for 127.0.0.1 at 2018-08-08 15:20:35 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.4ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (11.5ms)
  Rendered flats/index.html.erb within layouts/application (22.6ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 394ms (Views: 388.9ms | ActiveRecord: 2.5ms)


Started GET "/" for 127.0.0.1 at 2018-08-08 15:23:36 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.3ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (34.7ms)
  Rendered flats/index.html.erb within layouts/application (58.7ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 2276ms (Views: 2263.4ms | ActiveRecord: 4.0ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2018-08-08 15:23:44 +0300
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"CUbjq/hrRh8Hk2u5z71COseOfCj1IXL4zs0i2a4rqpFAW2mplBOa4936d6/6OGdIkJ77ok312leskmVVi1/E2g=="}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (4.5ms)[0m  [1m[35mBEGIN[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 14ms (ActiveRecord: 5.6ms)


Started GET "/" for 127.0.0.1 at 2018-08-08 15:23:44 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (23.0ms)
  Rendered flats/index.html.erb within layouts/application (32.5ms)
Completed 200 OK in 291ms (Views: 286.2ms | ActiveRecord: 1.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2018-08-08 15:24:06 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (3.4ms)
  Rendered devise/sessions/new.html.erb within layouts/application (8.2ms)
Completed 200 OK in 2275ms (Views: 2273.2ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2018-08-08 15:24:08 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (3.5ms)
  Rendered devise/sessions/new.html.erb within layouts/application (8.0ms)
Completed 200 OK in 406ms (Views: 404.5ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-08-08 15:24:23 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"pkAWWq2h8xss6faWmWLPlOhzFnXqgoQE1pE/5aA+Ge1/h3oq65n4lvimLXqg/r8W28yHusBgm3xuuNojIz2egQ==", "user"=>{"email"=>"Tork@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "tork@gmail.com"], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (0.8ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = $1, "last_sign_in_at" = $2, "sign_in_count" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["current_sign_in_at", "2018-08-08 12:24:23.443918"], ["last_sign_in_at", "2018-08-08 10:09:10.157038"], ["sign_in_count", 8], ["updated_at", "2018-08-08 12:24:23.445858"], ["id", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (2.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 192ms (ActiveRecord: 4.2ms)


Started GET "/" for 127.0.0.1 at 2018-08-08 15:24:23 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (19.1ms)
  Rendered flats/index.html.erb within layouts/application (26.3ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 270ms (Views: 268.0ms | ActiveRecord: 1.3ms)


Started GET "/" for 127.0.0.1 at 2018-08-08 15:24:54 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (6.4ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (27.3ms)
  Rendered flats/index.html.erb within layouts/application (48.7ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 1977ms (Views: 1964.9ms | ActiveRecord: 9.4ms)


Started GET "/" for 127.0.0.1 at 2018-08-08 15:24:56 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.2ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (19.0ms)
  Rendered flats/index.html.erb within layouts/application (33.7ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 406ms (Views: 400.2ms | ActiveRecord: 4.0ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-08 15:24:59 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:55
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (6.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (13.1ms)
  Rendered flats/show.html.erb within layouts/application (27.0ms)
Completed 200 OK in 245ms (Views: 234.0ms | ActiveRecord: 7.9ms)


  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_try_advisory_lock(8115692404137957555)[0m
  ↳ bin/rails:9
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
Migrating to CreateFriendlyIdSlugs (20180808122803)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ bin/rails:9
  [1m[35m (28.2ms)[0m  [1m[35mCREATE TABLE "friendly_id_slugs" ("id" serial NOT NULL PRIMARY KEY, "slug" character varying NOT NULL, "sluggable_id" integer NOT NULL, "sluggable_type" character varying(50), "scope" character varying, "created_at" timestamp)[0m
  ↳ db/migrate/20180808122803_create_friendly_id_slugs.rb:10
  [1m[35m (6.4ms)[0m  [1m[35mCREATE  INDEX  "index_friendly_id_slugs_on_sluggable_id" ON "friendly_id_slugs"  ("sluggable_id")[0m
  ↳ db/migrate/20180808122803_create_friendly_id_slugs.rb:17
  [1m[35m (4.4ms)[0m  [1m[35mCREATE  INDEX  "index_friendly_id_slugs_on_slug_and_sluggable_type" ON "friendly_id_slugs"  ("slug", "sluggable_type")[0m
  ↳ db/migrate/20180808122803_create_friendly_id_slugs.rb:18
  [1m[35m (4.0ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_friendly_id_slugs_on_slug_and_sluggable_type_and_scope" ON "friendly_id_slugs"  ("slug", "sluggable_type", "scope")[0m
  ↳ db/migrate/20180808122803_create_friendly_id_slugs.rb:19
  [1m[35m (3.5ms)[0m  [1m[35mCREATE  INDEX  "index_friendly_id_slugs_on_sluggable_type" ON "friendly_id_slugs"  ("sluggable_type")[0m
  ↳ db/migrate/20180808122803_create_friendly_id_slugs.rb:20
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20180808122803"]]
  ↳ bin/rails:9
  [1m[35m (3.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Load (1.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  ↳ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(8115692404137957555)[0m
  ↳ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
Started GET "/users/1" for 127.0.0.1 at 2018-08-08 15:28:52 +0300
  [1m[35m (2.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (2.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:3
  Rendering users/show.html.erb within layouts/application
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:17
  [1m[36mFlat Load (1.2ms)[0m  [1m[34mSELECT "flats".* FROM "flats" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:51
  Rendered collection of flats/_flat.html.erb [3 times] (593.9ms)
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:54
  [1m[36mFlat Load (0.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:1
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:1
  Rendered collection of bookings/_booking.html.erb [2 times] (4.1ms)
  Rendered users/show.html.erb within layouts/application (737.0ms)
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 1329ms (Views: 1186.4ms | ActiveRecord: 20.3ms)


Started GET "/" for 127.0.0.1 at 2018-08-08 15:30:58 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.9ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (55.2ms)
  Rendered flats/index.html.erb within layouts/application (87.1ms)
Completed 500 Internal Server Error in 96ms (ActiveRecord: 11.8ms)


  
ActionView::Template::Error (undefined method `slug' for #<User:0x00007f611ad23ca0>):
     7:     <% end %>
     8:     <small>
     9:       <time><%= flat.created_at.to_date.strftime("%d %B, %Y")%></time>
    10:       vendor: <%= link_to flat.user.name, user_path(flat.user) %>
    11:         |
    12:         <%= link_to "Edit", edit_flat_path(flat) %>
    13:         |
  
app/views/flats/_flat.html.erb:10:in `_app_views_flats__flat_html_erb___792236095859745269_70027510258120'
app/views/flats/index.html.erb:4:in `_app_views_flats_index_html_erb__3258005311696728358_70027519180740'
Started GET "/" for 127.0.0.1 at 2018-08-08 15:31:18 +0300
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (6.9ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (85.7ms)
  Rendered flats/index.html.erb within layouts/application (198.0ms)
Completed 500 Internal Server Error in 265ms (ActiveRecord: 24.4ms)


  
ActionView::Template::Error (undefined method `slug' for #<User:0x000055f3abac7c78>):
     7:     <% end %>
     8:     <small>
     9:       <time><%= flat.created_at.to_date.strftime("%d %B, %Y")%></time>
    10:       vendor: <%= link_to flat.user.name, user_path(flat.user) %>
    11:         |
    12:         <%= link_to "Edit", edit_flat_path(flat) %>
    13:         |
  
app/views/flats/_flat.html.erb:10:in `_app_views_flats__flat_html_erb__338465819220278725_47252526958800'
app/views/flats/index.html.erb:4:in `_app_views_flats_index_html_erb__3795520243872422944_47252525189780'
Started GET "/" for 127.0.0.1 at 2018-08-08 15:32:52 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.3ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (118.5ms)
  Rendered flats/index.html.erb within layouts/application (218.4ms)
Completed 500 Internal Server Error in 247ms (ActiveRecord: 23.8ms)


  
ActionView::Template::Error (undefined method `slug' for #<User:0x00007f5c8c382b48>):
     7:     <% end %>
     8:     <small>
     9:       <time><%= flat.created_at.to_date.strftime("%d %B, %Y")%></time>
    10:       vendor: <%= link_to flat.user.name, user_path(flat.user) %>
    11:         |
    12:         <%= link_to "Edit", edit_flat_path(flat) %>
    13:         |
  
app/views/flats/_flat.html.erb:10:in `_app_views_flats__flat_html_erb__338465819220278725_70017732427300'
app/views/flats/index.html.erb:4:in `_app_views_flats_index_html_erb__3795520243872422944_47252511685640'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.8ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Started GET "/" for 127.0.0.1 at 2018-08-08 15:36:34 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.8ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (44.4ms)
  Rendered flats/index.html.erb within layouts/application (56.3ms)
Completed 500 Internal Server Error in 75ms (ActiveRecord: 2.9ms)


  
ActionView::Template::Error (undefined method `slug' for #<User:0x000055f3aaf64ea8>):
     7:     <% end %>
     8:     <small>
     9:       <time><%= flat.created_at.to_date.strftime("%d %B, %Y")%></time>
    10:       vendor: <%= link_to flat.user.name, user_path(flat.user) %>
    11:         |
    12:         <%= link_to "Edit", edit_flat_path(flat) %>
    13:         |
  
app/views/flats/_flat.html.erb:10:in `_app_views_flats__flat_html_erb__338465819220278725_70017764954480'
app/views/flats/index.html.erb:4:in `_app_views_flats_index_html_erb__3795520243872422944_70017764880760'
Started GET "/users/1" for 127.0.0.1 at 2018-08-08 15:36:37 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (4.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."slug" = $1 LIMIT $2[0m  [["slug", "1"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:3
Completed 500 Internal Server Error in 9ms (ActiveRecord: 4.4ms)


  
ActiveRecord::StatementInvalid (PG::UndefinedColumn: ОШИБКА:  столбец users.slug не существует
LINE 1: SELECT  "users".* FROM "users" WHERE "users"."slug" = $1 LIM...
                                             ^
: SELECT  "users".* FROM "users" WHERE "users"."slug" = $1 LIMIT $2):
  
app/controllers/users_controller.rb:3:in `show'
Started GET "/" for 127.0.0.1 at 2018-08-08 15:36:40 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (26.1ms)
  Rendered flats/index.html.erb within layouts/application (29.6ms)
Completed 500 Internal Server Error in 34ms (ActiveRecord: 1.0ms)


  
ActionView::Template::Error (undefined method `slug' for #<User:0x00007f5c8c7c3040>):
     7:     <% end %>
     8:     <small>
     9:       <time><%= flat.created_at.to_date.strftime("%d %B, %Y")%></time>
    10:       vendor: <%= link_to flat.user.name, user_path(flat.user) %>
    11:         |
    12:         <%= link_to "Edit", edit_flat_path(flat) %>
    13:         |
  
app/views/flats/_flat.html.erb:10:in `_app_views_flats__flat_html_erb__338465819220278725_70017735410680'
app/views/flats/index.html.erb:4:in `_app_views_flats_index_html_erb__3795520243872422944_70017735499020'
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(8115692404137957555)[0m
  ↳ bin/rails:9
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
Migrating to AddSlugToUsers (20180808124023)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ bin/rails:9
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "users" ADD "slug" character varying[0m
  ↳ db/migrate/20180808124023_add_slug_to_users.rb:3
  [1m[35m (4.1ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_slug" ON "users"  ("slug")[0m
  ↳ db/migrate/20180808124023_add_slug_to_users.rb:4
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20180808124023"]]
  ↳ bin/rails:9
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Load (1.4ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  ↳ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ bin/rails:9
  [1m[35m (0.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ bin/rails:9
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(8115692404137957555)[0m
  ↳ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."id" != 1 AND "users"."slug" = $1 LIMIT $2[0m  [["slug", "tork"], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "slug" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["slug", "tork"], ["updated_at", "2018-08-08 12:41:41.439806"], ["id", 1]]
  [1m[35m (2.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."id" != 2 AND "users"."slug" = $1 LIMIT $2[0m  [["slug", "pork"], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "slug" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["slug", "pork"], ["updated_at", "2018-08-08 12:41:41.446279"], ["id", 2]]
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
Started GET "/" for 127.0.0.1 at 2018-08-08 15:41:54 +0300
  [1m[35m (3.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (5.2ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (3.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (362.2ms)
  Rendered flats/index.html.erb within layouts/application (486.5ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 886ms (Views: 811.3ms | ActiveRecord: 22.4ms)


Started GET "/users/tork" for 127.0.0.1 at 2018-08-08 15:41:58 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"tork"}
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."slug" = $1 LIMIT $2[0m  [["slug", "tork"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:3
  Rendering users/show.html.erb within layouts/application
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:17
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT "flats".* FROM "flats" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:51
  Rendered collection of flats/_flat.html.erb [3 times] (22.7ms)
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:54
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:1
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:1
  Rendered collection of bookings/_booking.html.erb [2 times] (7.9ms)
  Rendered users/show.html.erb within layouts/application (93.0ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 361ms (Views: 347.8ms | ActiveRecord: 9.6ms)


Started GET "/users/tork" for 127.0.0.1 at 2018-08-08 15:45:53 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"tork"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."slug" = $1 LIMIT $2[0m  [["slug", "tork"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:3
  Rendering users/show.html.erb within layouts/application
  [1m[35m (1.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:17
  [1m[36mFlat Load (4.0ms)[0m  [1m[34mSELECT "flats".* FROM "flats" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:51
  Rendered collection of flats/_flat.html.erb [3 times] (18.1ms)
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/users/show.html.erb:53
  [1m[36mBooking Load (1.9ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:54
  [1m[36mFlat Load (0.9ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:1
  [1m[36mCACHE Flat Load (0.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:1
  Rendered collection of bookings/_booking.html.erb [2 times] (16.3ms)
  Rendered users/show.html.erb within layouts/application (77.2ms)
Completed 200 OK in 589ms (Views: 574.1ms | ActiveRecord: 11.5ms)


Started GET "/" for 127.0.0.1 at 2018-08-08 15:46:37 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.4ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (35.8ms)
  Rendered flats/index.html.erb within layouts/application (61.5ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 319ms (Views: 311.2ms | ActiveRecord: 3.8ms)


Started GET "/" for 127.0.0.1 at 2018-08-08 15:49:22 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.8ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (41.2ms)
  Rendered flats/index.html.erb within layouts/application (80.0ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:64
Completed 200 OK in 582ms (Views: 576.7ms | ActiveRecord: 2.3ms)


Started GET "/users/tork" for 127.0.0.1 at 2018-08-08 15:49:24 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"tork"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."slug" = $1 LIMIT $2[0m  [["slug", "tork"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:3
  Rendering users/show.html.erb within layouts/application
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:17
  [1m[36mFlat Load (3.4ms)[0m  [1m[34mSELECT "flats".* FROM "flats" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:51
  Rendered collection of flats/_flat.html.erb [3 times] (4.1ms)
  Rendered users/show.html.erb within layouts/application (51.5ms)
Completed 500 Internal Server Error in 57ms (ActiveRecord: 5.1ms)


  
ActionView::Template::Error (undefined method `bookings' for #<Flat::ActiveRecord_Associations_CollectionProxy:0x00007fe3f2d29208>):
    50:   <h1> Vendor flats </h1>
    51:   <%= render @user.flats %>
    52:   <h1> Booking my flat </h1>
    53:   <%= render @user.flats.bookings %>
    54: <% end %>
    55: <% if @user == current_user %>
    56:   <h1> My book </h1>
  
app/views/users/show.html.erb:53:in `_app_views_users_show_html_erb__1854509551215631968_70308504139140'
Started GET "/users/tork" for 127.0.0.1 at 2018-08-08 15:53:22 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"tork"}
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."slug" = $1 LIMIT $2[0m  [["slug", "tork"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:3
  Rendering users/show.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:17
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT "flats".* FROM "flats" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:51
  Rendered collection of flats/_flat.html.erb [3 times] (19.9ms)
  Rendered users/show.html.erb within layouts/application (54.3ms)
Completed 500 Internal Server Error in 75ms (ActiveRecord: 3.0ms)


  
ActionView::Template::Error (undefined method `bookings' for #<Flat::ActiveRecord_Associations_CollectionProxy:0x00007fe3f1b28770>):
    50:   <h1> Vendor flats </h1>
    51:   <%= render @user.flats %>
    52:   <h1> Booking my flat </h1>
    53:   <%= render @user.flats.bookings %>
    54: <% end %>
    55: <% if @user == current_user %>
    56:   <h1> My book </h1>
  
app/views/users/show.html.erb:53:in `_app_views_users_show_html_erb__1854509551215631968_70308494692500'
Started GET "/users/tork" for 127.0.0.1 at 2018-08-08 15:53:44 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"tork"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."slug" = $1 LIMIT $2[0m  [["slug", "tork"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:3
  Rendering users/show.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:17
  [1m[36mFlat Load (2.2ms)[0m  [1m[34mSELECT "flats".* FROM "flats" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:51
  Rendered collection of flats/_flat.html.erb [3 times] (17.9ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/users/show.html.erb:53
  [1m[36mBooking Load (1.5ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:55
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:1
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:1
  Rendered collection of bookings/_booking.html.erb [2 times] (9.1ms)
  Rendered users/show.html.erb within layouts/application (55.8ms)
Completed 200 OK in 565ms (Views: 549.6ms | ActiveRecord: 5.9ms)


Started GET "/users/tork" for 127.0.0.1 at 2018-08-08 15:54:00 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"tork"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."slug" = $1 LIMIT $2[0m  [["slug", "tork"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:3
  Rendering users/show.html.erb within layouts/application
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:17
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT "flats".* FROM "flats" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:51
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 3]]
  ↳ app/views/flats/_flat.html.erb:31
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mBooking Load (0.9ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 1]]
  ↳ app/views/flats/_flat.html.erb:31
  Rendered collection of bookings/_booking.html.erb [2 times] (5.2ms)
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 2]]
  ↳ app/views/flats/_flat.html.erb:31
  Rendered collection of templates [0 times] (0.0ms)
  Rendered collection of flats/_flat.html.erb [3 times] (34.4ms)
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/users/show.html.erb:53
  [1m[36mBooking Load (1.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:55
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:1
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:1
  Rendered collection of bookings/_booking.html.erb [2 times] (7.4ms)
  Rendered users/show.html.erb within layouts/application (69.2ms)
Completed 200 OK in 476ms (Views: 464.8ms | ActiveRecord: 7.2ms)


Started GET "/users/tork" for 127.0.0.1 at 2018-08-08 15:54:47 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"tork"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."slug" = $1 LIMIT $2[0m  [["slug", "tork"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:3
  Rendering users/show.html.erb within layouts/application
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:17
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT "flats".* FROM "flats" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:51
  [1m[36mBooking Load (0.6ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 3]]
  ↳ app/views/flats/_flat.html.erb:29
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mBooking Load (0.4ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 1]]
  ↳ app/views/flats/_flat.html.erb:29
  Rendered collection of bookings/_booking.html.erb [2 times] (1.1ms)
  [1m[36mBooking Load (0.5ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 2]]
  ↳ app/views/flats/_flat.html.erb:29
  Rendered collection of templates [0 times] (0.0ms)
  Rendered collection of flats/_flat.html.erb [3 times] (31.3ms)
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/users/show.html.erb:53
  [1m[36mBooking Load (1.5ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:55
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:1
  [1m[36mCACHE Flat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:1
  Rendered collection of bookings/_booking.html.erb [2 times] (9.2ms)
  Rendered users/show.html.erb within layouts/application (76.7ms)
Completed 200 OK in 460ms (Views: 447.0ms | ActiveRecord: 7.7ms)


Started GET "/users/tork" for 127.0.0.1 at 2018-08-08 15:58:25 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"tork"}
  [1m[36mUser Load (2.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."slug" = $1 LIMIT $2[0m  [["slug", "tork"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:3
  Rendering users/show.html.erb within layouts/application
  [1m[35m (2.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:17
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/users/show.html.erb:51
  Rendered users/show.html.erb within layouts/application (16.5ms)
Completed 500 Internal Server Error in 33ms (ActiveRecord: 6.7ms)


  
ActionView::Template::Error (Missing partial flat/_flatbooking with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :coffee, :jbuilder]}. Searched in:
  * "/home/york/Документы/Projects/FlatBooking/app/views"
  * "/home/york/.rvm/gems/ruby-2.5.1/gems/kaminari-core-1.1.1/app/views"
  * "/home/york/.rvm/gems/ruby-2.5.1/gems/devise-4.4.3/app/views"
):
    49: <% if @user.vendor %>
    50:   <h1> Vendor flats </h1>
    51:   <% if @user == current_user %>
    52:     <%= render 'flat/flatbooking', collection: @user.flats %>
    53:   <% else %>
    54:     <%= render @user.flats %>
    55:   <% end %>
  
app/views/users/show.html.erb:52:in `_app_views_users_show_html_erb__1854509551215631968_70308504735260'
Started GET "/users/tork" for 127.0.0.1 at 2018-08-08 15:59:22 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"tork"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."slug" = $1 LIMIT $2[0m  [["slug", "tork"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:3
  Rendering users/show.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:17
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/users/show.html.erb:51
  Rendered flats/_flatbooking.html.erb (707.0ms)
  Rendered users/show.html.erb within layouts/application (717.9ms)
Completed 500 Internal Server Error in 726ms (ActiveRecord: 3.3ms)


  
ActionView::Template::Error (undefined local variable or method `flat' for #<#<Class:0x00007fe3f0d6e0a8>:0x00007fe3f1e014d8>
Did you mean?  Float):
    1: <article class="flat">
    2:   <section class="flat-head">
    3:     <% if flat.name.nil? %>
    4:       <h1><%= link_to "Flat on #{flat.city}, #{flat.address}", flat_path(flat) %></h1>
    5:     <% else %>
    6:       <h1><%= link_to flat.name, flat_path(flat) %></h1>
  
app/views/flats/_flatbooking.html.erb:3:in `_app_views_flats__flatbooking_html_erb___410148197528777881_70308495445000'
app/views/users/show.html.erb:52:in `_app_views_users_show_html_erb__1854509551215631968_70308496150580'
Started GET "/users/tork" for 127.0.0.1 at 2018-08-08 16:00:54 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"tork"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."slug" = $1 LIMIT $2[0m  [["slug", "tork"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:3
  Rendering users/show.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:17
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/users/show.html.erb:51
  Rendered flats/_flatbooking.html.erb (805.6ms)
  Rendered users/show.html.erb within layouts/application (815.2ms)
Completed 500 Internal Server Error in 823ms (ActiveRecord: 1.4ms)


  
ActionView::Template::Error (undefined local variable or method `flat' for #<#<Class:0x00007fe3f0d6e0a8>:0x00007fe3f2e00b18>
Did you mean?  Float):
    1: <article class="flat">
    2:   <section class="flat-head">
    3:       <h1><%= link_to flat.name, flat_path(flat) %></h1>
    4:     <small>
    5:       <time><%= flat.created_at.to_date.strftime("%d %B, %Y")%></time>
    6:       vendor: <%= link_to flat.user.name, user_path(flat.user) %>
  
app/views/flats/_flatbooking.html.erb:3:in `_app_views_flats__flatbooking_html_erb___410148197528777881_70308504766400'
app/views/users/show.html.erb:52:in `_app_views_users_show_html_erb__1854509551215631968_70308504537760'
Started GET "/users/tork" for 127.0.0.1 at 2018-08-08 16:11:27 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"tork"}
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."slug" = $1 LIMIT $2[0m  [["slug", "tork"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:3
  Rendering users/show.html.erb within layouts/application
  [1m[35m (1.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:17
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT "flats".* FROM "flats" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:51
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:29
  [1m[36mBooking Load (0.5ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 3]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mBooking Load (2.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 1]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of bookings/_booking.html.erb [2 times] (1.2ms)
  [1m[36mBooking Load (0.4ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 2]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of templates [0 times] (0.0ms)
  Rendered collection of flats/_flat.html.erb [3 times] (37.0ms)
  [1m[36mBooking Load (2.0ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:55
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:1
  [1m[36mCACHE Flat Load (0.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:1
  Rendered collection of bookings/_booking.html.erb [2 times] (11.6ms)
  Rendered users/show.html.erb within layouts/application (71.3ms)
Completed 200 OK in 466ms (Views: 447.1ms | ActiveRecord: 11.7ms)


Started GET "/" for 127.0.0.1 at 2018-08-08 16:11:30 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.6ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:29
  [1m[36mBooking Load (1.0ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 1]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of bookings/_booking.html.erb [2 times] (1.0ms)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 2]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mBooking Load (0.6ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 3]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of templates [0 times] (0.1ms)
  Rendered collection of flats/_flat.html.erb [3 times] (31.6ms)
  Rendered flats/index.html.erb within layouts/application (50.6ms)
Completed 200 OK in 280ms (Views: 273.4ms | ActiveRecord: 4.6ms)


Started GET "/users/tork" for 127.0.0.1 at 2018-08-08 16:11:34 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"tork"}
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."slug" = $1 LIMIT $2[0m  [["slug", "tork"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:3
  Rendering users/show.html.erb within layouts/application
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:17
  [1m[36mFlat Load (1.4ms)[0m  [1m[34mSELECT "flats".* FROM "flats" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:51
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:29
  [1m[36mBooking Load (0.7ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 3]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of templates [0 times] (0.1ms)
  [1m[36mBooking Load (0.6ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 1]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of bookings/_booking.html.erb [2 times] (5.1ms)
  [1m[36mBooking Load (0.4ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 2]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of templates [0 times] (0.0ms)
  Rendered collection of flats/_flat.html.erb [3 times] (56.3ms)
  [1m[36mBooking Load (0.5ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:55
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:1
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:1
  Rendered collection of bookings/_booking.html.erb [2 times] (5.9ms)
  Rendered users/show.html.erb within layouts/application (91.6ms)
Completed 200 OK in 368ms (Views: 350.3ms | ActiveRecord: 8.7ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2018-08-08 16:11:47 +0300
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"gEM3uLXr71IsZUoHK84HNn4jM9x2Vb8GTFXlIxmny2r9ickSlJeqpThfnhc/V7/qDiWVCfrV7GzXxqFIvLuxxg=="}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 13ms (ActiveRecord: 1.3ms)


Started GET "/" for 127.0.0.1 at 2018-08-08 16:11:47 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (25.7ms)
  Rendered flats/index.html.erb within layouts/application (32.7ms)
Completed 200 OK in 355ms (Views: 348.1ms | ActiveRecord: 1.5ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2018-08-08 16:11:50 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (2.6ms)
  Rendered devise/sessions/new.html.erb within layouts/application (10.2ms)
Completed 200 OK in 236ms (Views: 233.0ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-08-08 16:11:56 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"dNSr3evkr9Vp60mvXnDNYQNq3t3oSByTVCGlUcI0sfsdki2uEcUHJJKzKzvURbaXGGBnv9vzwJE76rjnOiN42g==", "user"=>{"email"=>"Pork@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "pork@gmail.com"], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = $1, "last_sign_in_at" = $2, "sign_in_count" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["current_sign_in_at", "2018-08-08 13:11:56.767631"], ["last_sign_in_at", "2018-08-08 12:20:35.298500"], ["sign_in_count", 3], ["updated_at", "2018-08-08 13:11:56.768582"], ["id", 2]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (2.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 215ms (ActiveRecord: 4.4ms)


Started GET "/" for 127.0.0.1 at 2018-08-08 16:11:56 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:29
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (24.5ms)
  Rendered flats/index.html.erb within layouts/application (33.7ms)
Completed 200 OK in 386ms (Views: 382.0ms | ActiveRecord: 2.7ms)


Started GET "/users/pork" for 127.0.0.1 at 2018-08-08 16:12:00 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"pork"}
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."slug" = $1 LIMIT $2[0m  [["slug", "pork"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:3
  Rendering users/show.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/views/users/show.html.erb:17
  [1m[36mUser Load (3.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/show.html.erb:53
  [1m[36mBooking Load (0.4ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/views/users/show.html.erb:55
  Rendered collection of templates [0 times] (0.0ms)
  Rendered users/show.html.erb within layouts/application (16.6ms)
Completed 200 OK in 283ms (Views: 267.5ms | ActiveRecord: 5.7ms)


Started GET "/users/tork" for 127.0.0.1 at 2018-08-08 16:12:10 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"tork"}
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."slug" = $1 LIMIT $2[0m  [["slug", "tork"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:3
  Rendering users/show.html.erb within layouts/application
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:17
  [1m[36mFlat Load (1.5ms)[0m  [1m[34mSELECT "flats".* FROM "flats" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:51
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:29
  Rendered collection of flats/_flat.html.erb [3 times] (26.4ms)
  Rendered users/show.html.erb within layouts/application (47.2ms)
Completed 200 OK in 295ms (Views: 282.6ms | ActiveRecord: 5.0ms)


Started GET "/" for 127.0.0.1 at 2018-08-08 16:12:15 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.5ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:29
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (45.8ms)
  Rendered flats/index.html.erb within layouts/application (63.1ms)
Completed 200 OK in 356ms (Views: 347.5ms | ActiveRecord: 4.1ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2018-08-08 16:12:40 +0300
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"6pVBwF4RjzoVgA45WcwHJ++KS7UYiTKKS0FkLRtKURf2z5JsMP64Z4FY5NUV2alCjESKOfojYhELt5fokl/+tQ=="}
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 18ms (ActiveRecord: 2.5ms)


Started GET "/" for 127.0.0.1 at 2018-08-08 16:12:40 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.1ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (38.8ms)
  Rendered flats/index.html.erb within layouts/application (59.9ms)
Completed 200 OK in 406ms (Views: 396.5ms | ActiveRecord: 2.8ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-08 16:12:42 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (1.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:55
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered bookings/_form.html.erb (42.7ms)
  Rendered flats/show.html.erb within layouts/application (64.1ms)
Completed 200 OK in 299ms (Views: 289.2ms | ActiveRecord: 2.3ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2018-08-08 16:12:46 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (5.4ms)
  Rendered devise/sessions/new.html.erb within layouts/application (20.8ms)
Completed 200 OK in 310ms (Views: 304.2ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-08-08 16:12:57 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"uVCfjISg6Hx2bq9vzIqJC9KHKlQhWJYm+u3IGtEuPYv5hR2qpE/g/DOEUhca0Gp9KZ1dr5mABsnf4mTND06A0g==", "user"=>{"email"=>"Tork@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "tork@gmail.com"], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = $1, "last_sign_in_at" = $2, "sign_in_count" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["current_sign_in_at", "2018-08-08 13:12:58.223280"], ["last_sign_in_at", "2018-08-08 12:24:23.443918"], ["sign_in_count", 9], ["updated_at", "2018-08-08 13:12:58.224304"], ["id", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (2.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 248ms (ActiveRecord: 5.3ms)


Started GET "/" for 127.0.0.1 at 2018-08-08 16:12:58 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.6ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:29
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 1]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of bookings/_booking.html.erb [2 times] (0.8ms)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 2]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mBooking Load (1.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 3]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of templates [0 times] (0.1ms)
  Rendered collection of flats/_flat.html.erb [3 times] (32.3ms)
  Rendered flats/index.html.erb within layouts/application (53.3ms)
Completed 200 OK in 344ms (Views: 337.7ms | ActiveRecord: 5.2ms)


Started GET "/users/tork" for 127.0.0.1 at 2018-08-08 16:14:13 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"tork"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."slug" = $1 LIMIT $2[0m  [["slug", "tork"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:3
  Rendering users/show.html.erb within layouts/application
  [1m[35m (2.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:17
  [1m[36mFlat Load (0.8ms)[0m  [1m[34mSELECT "flats".* FROM "flats" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:51
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:29
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 3]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mBooking Load (2.1ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 1]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of bookings/_booking.html.erb [2 times] (3.0ms)
  [1m[36mBooking Load (1.0ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 2]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of templates [0 times] (0.0ms)
  Rendered collection of flats/_flat.html.erb [3 times] (38.6ms)
  [1m[36mBooking Load (0.5ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:55
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:1
  [1m[36mCACHE Flat Load (0.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:1
  Rendered collection of bookings/_booking.html.erb [2 times] (9.7ms)
  Rendered users/show.html.erb within layouts/application (66.3ms)
Completed 200 OK in 306ms (Views: 293.6ms | ActiveRecord: 9.4ms)


Started GET "/" for 127.0.0.1 at 2018-08-08 16:29:51 +0300
  [1m[35m (2.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (7.3ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:29
  [1m[36mBooking Load (2.0ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 1]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of bookings/_booking.html.erb [2 times] (3.7ms)
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mBooking Load (1.1ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 2]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 3]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of templates [0 times] (0.0ms)
  Rendered collection of flats/_flat.html.erb [3 times] (447.2ms)
  Rendered flats/index.html.erb within layouts/application (558.1ms)
Completed 200 OK in 960ms (Views: 892.1ms | ActiveRecord: 29.8ms)


Started GET "/flats/new" for 127.0.0.1 at 2018-08-08 16:29:58 +0300
Processing by FlatsController#new as HTML
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Completed 500 Internal Server Error in 14ms (ActiveRecord: 1.5ms)


  
Pundit::NotDefinedError (unable to find policy `FlatPolicy` for `#<Flat id: nil, name: nil, address: nil, description: nil, capacity: nil, price: nil, created_at: nil, updated_at: nil, image_file_name: nil, image_content_type: nil, image_file_size: nil, image_updated_at: nil, user_id: nil, city: nil, reserved_date: []>`):
  
app/controllers/flats_controller.rb:15:in `new'
Started GET "/flats/new" for 127.0.0.1 at 2018-08-08 16:32:59 +0300
Processing by FlatsController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering flats/new.html.erb within layouts/application
  Rendered flats/_form.html.erb (14.1ms)
  Rendered flats/new.html.erb within layouts/application (17.7ms)
Completed 200 OK in 513ms (Views: 396.6ms | ActiveRecord: 7.6ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2018-08-08 16:33:04 +0300
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"pvFUGg0G9E8y2VBuvlOYVBKUYGZYnDuBOfAvNjQjhlLu9B0hElFqU8Gb2eWMpx3SDpWwO/QIaOUJU/P2cVOlZA=="}
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 14ms (ActiveRecord: 2.6ms)


Started GET "/" for 127.0.0.1 at 2018-08-08 16:33:04 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.9ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (30.7ms)
  Rendered flats/index.html.erb within layouts/application (51.7ms)
Completed 200 OK in 460ms (Views: 446.5ms | ActiveRecord: 4.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2018-08-08 16:33:06 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (3.7ms)
  Rendered devise/sessions/new.html.erb within layouts/application (12.3ms)
Completed 200 OK in 239ms (Views: 237.1ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-08-08 16:33:12 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"WshAi+WMGkhsSlJuFJanRTBqLKdCfs/4uX5VWlIrNh8d7n6GKCVHeSOf+exaWpzai89BrukYrZSJpRKK77/93Q==", "user"=>{"email"=>"Pork@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "pork@gmail.com"], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (1.4ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = $1, "last_sign_in_at" = $2, "sign_in_count" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["current_sign_in_at", "2018-08-08 13:33:13.020832"], ["last_sign_in_at", "2018-08-08 13:11:56.767631"], ["sign_in_count", 4], ["updated_at", "2018-08-08 13:33:13.024328"], ["id", 2]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 209ms (ActiveRecord: 6.1ms)


Started GET "/" for 127.0.0.1 at 2018-08-08 16:33:13 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.3ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:29
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (20.0ms)
  Rendered flats/index.html.erb within layouts/application (34.1ms)
Completed 200 OK in 426ms (Views: 421.4ms | ActiveRecord: 3.7ms)


Started GET "/flats/new" for 127.0.0.1 at 2018-08-08 16:33:15 +0300
Processing by FlatsController#new as HTML
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Completed 500 Internal Server Error in 10ms (ActiveRecord: 1.6ms)


  
Pundit::NotAuthorizedError (not allowed to new? this #<Flat id: nil, name: nil, address: nil, description: nil, capacity: nil, price: nil, created_at: nil, updated_at: nil, image_file_name: nil, image_content_type: nil, image_file_size: nil, image_updated_at: nil, user_id: nil, city: nil, reserved_date: []>):
  
app/controllers/flats_controller.rb:15:in `new'
Started GET "/" for 127.0.0.1 at 2018-08-08 16:33:29 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.8ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:29
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (40.5ms)
  Rendered flats/index.html.erb within layouts/application (57.2ms)
Completed 200 OK in 568ms (Views: 564.1ms | ActiveRecord: 2.3ms)


Started GET "/flats/new" for 127.0.0.1 at 2018-08-08 16:33:31 +0300
Processing by FlatsController#new as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.7ms)


  
Pundit::NotAuthorizedError (not allowed to new? this #<Flat id: nil, name: nil, address: nil, description: nil, capacity: nil, price: nil, created_at: nil, updated_at: nil, image_file_name: nil, image_content_type: nil, image_file_size: nil, image_updated_at: nil, user_id: nil, city: nil, reserved_date: []>):
  
app/controllers/flats_controller.rb:15:in `new'
Started GET "/" for 127.0.0.1 at 2018-08-08 16:33:33 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.0ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:29
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (33.2ms)
  Rendered flats/index.html.erb within layouts/application (49.8ms)
Completed 200 OK in 551ms (Views: 543.5ms | ActiveRecord: 3.2ms)


Started GET "/" for 127.0.0.1 at 2018-08-08 16:41:18 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (5.2ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:29
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (97.8ms)
  Rendered flats/index.html.erb within layouts/application (201.4ms)
Completed 200 OK in 600ms (Views: 551.3ms | ActiveRecord: 24.8ms)


Started GET "/flats/new" for 127.0.0.1 at 2018-08-08 16:41:21 +0300
Processing by FlatsController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.5ms)


  
NoMethodError (undefined method `new?' for #<FlatPolicy:0x00007f5bdcf459e0>):
  
app/controllers/flats_controller.rb:15:in `new'
Started GET "/" for 127.0.0.1 at 2018-08-08 16:41:34 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:29
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (34.2ms)
  Rendered flats/index.html.erb within layouts/application (57.5ms)
Completed 200 OK in 446ms (Views: 440.2ms | ActiveRecord: 2.1ms)


Started GET "/" for 127.0.0.1 at 2018-08-08 16:44:54 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.8ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:29
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (109.8ms)
  Rendered flats/index.html.erb within layouts/application (188.8ms)
Completed 200 OK in 578ms (Views: 550.0ms | ActiveRecord: 21.6ms)


Started GET "/flats/new" for 127.0.0.1 at 2018-08-08 16:44:56 +0300
Processing by FlatsController#new as HTML
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Completed 500 Internal Server Error in 13ms (ActiveRecord: 1.2ms)


  
Pundit::InvalidConstructorError (Invalid #<FlatPolicy> constructor is called):
  
app/controllers/flats_controller.rb:15:in `new'
Started GET "/flats/new" for 127.0.0.1 at 2018-08-08 16:45:32 +0300
Processing by FlatsController#new as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Completed 500 Internal Server Error in 201ms (ActiveRecord: 21.8ms)


  
NameError (undefined local variable or method `user' for #<FlatPolicy:0x00007f5bdeafd020>
Did you mean?  @user):
  
app/policies/flat_policy.rb:7:in `new?'
app/controllers/flats_controller.rb:15:in `new'
Started GET "/flats/new" for 127.0.0.1 at 2018-08-08 16:45:52 +0300
Processing by FlatsController#new as HTML
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Completed 500 Internal Server Error in 175ms (ActiveRecord: 17.3ms)


  
Pundit::NotAuthorizedError (not allowed to new? this #<Flat id: nil, name: nil, address: nil, description: nil, capacity: nil, price: nil, created_at: nil, updated_at: nil, image_file_name: nil, image_content_type: nil, image_file_size: nil, image_updated_at: nil, user_id: nil, city: nil, reserved_date: []>):
  
app/controllers/flats_controller.rb:15:in `new'
Started GET "/flats/new" for 127.0.0.1 at 2018-08-08 16:47:57 +0300
Processing by FlatsController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Completed 500 Internal Server Error in 139ms (ActiveRecord: 25.1ms)


  
NoMethodError (undefined method `new?' for #<FlatPolicy:0x00007f5bdd226a38>):
  
app/controllers/flats_controller.rb:15:in `new'
Started GET "/flats/new" for 127.0.0.1 at 2018-08-08 16:48:25 +0300
Processing by FlatsController#new as HTML
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering flats/new.html.erb within layouts/application
  Rendered flats/_form.html.erb (35.0ms)
  Rendered flats/new.html.erb within layouts/application (39.9ms)
Completed 200 OK in 738ms (Views: 509.5ms | ActiveRecord: 24.8ms)


Started GET "/flats/new" for 127.0.0.1 at 2018-08-08 16:50:06 +0300
Processing by FlatsController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering flats/new.html.erb within layouts/application
  Rendered flats/_form.html.erb (6.5ms)
  Rendered flats/new.html.erb within layouts/application (11.2ms)
Completed 200 OK in 524ms (Views: 393.6ms | ActiveRecord: 14.6ms)


Started GET "/flats/new" for 127.0.0.1 at 2018-08-08 16:50:07 +0300
Processing by FlatsController#new as HTML
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering flats/new.html.erb within layouts/application
  Rendered flats/_form.html.erb (14.8ms)
  Rendered flats/new.html.erb within layouts/application (18.8ms)
Completed 200 OK in 313ms (Views: 303.3ms | ActiveRecord: 1.1ms)


Started GET "/" for 127.0.0.1 at 2018-08-08 16:50:10 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.2ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:29
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (69.0ms)
  Rendered flats/index.html.erb within layouts/application (93.8ms)
Completed 200 OK in 361ms (Views: 347.0ms | ActiveRecord: 6.1ms)


Started GET "/flats/new" for 127.0.0.1 at 2018-08-08 16:50:11 +0300
Processing by FlatsController#new as HTML
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering flats/new.html.erb within layouts/application
  Rendered flats/_form.html.erb (12.7ms)
  Rendered flats/new.html.erb within layouts/application (17.1ms)
Completed 200 OK in 343ms (Views: 333.8ms | ActiveRecord: 1.2ms)


Started POST "/flats" for 127.0.0.1 at 2018-08-08 16:50:16 +0300
Processing by FlatsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"CM6ccYphHHFde6wEz97PV0pmp3emfkLU7yNz++6gBzSqdO4bAGvGwBi8sANI8yDK6WCCvaJCpi4IUlqwA+U1tA==", "flat"=>{"name"=>"", "city"=>"", "address"=>"", "description"=>"", "capacity"=>"", "price"=>""}, "commit"=>"Save"}
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Completed 500 Internal Server Error in 34ms (ActiveRecord: 1.5ms)


  
Pundit::NotAuthorizedError (not allowed to create? this #<Flat id: nil, name: "", address: "", description: "", capacity: nil, price: nil, created_at: nil, updated_at: nil, image_file_name: nil, image_content_type: nil, image_file_size: nil, image_updated_at: nil, user_id: 2, city: "", reserved_date: []>):
  
app/controllers/flats_controller.rb:22:in `create'
Started POST "/flats" for 127.0.0.1 at 2018-08-08 16:50:38 +0300
Processing by FlatsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"hGuX/vME/dt2qU2w2clLMIeC3J5sBzAHuADyZHUYbrX/DKqFvpOPr4mIz//aGyzFDSIHofFT+3y8pSPR7QCD/Q==", "flat"=>{"name"=>"", "city"=>"", "address"=>"", "description"=>"", "capacity"=>"", "price"=>""}, "commit"=>"Save"}
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Completed 500 Internal Server Error in 15ms (ActiveRecord: 1.5ms)


  
Pundit::NotAuthorizedError (not allowed to create? this #<Flat id: nil, name: "", address: "", description: "", capacity: nil, price: nil, created_at: nil, updated_at: nil, image_file_name: nil, image_content_type: nil, image_file_size: nil, image_updated_at: nil, user_id: 2, city: "", reserved_date: []>):
  
app/controllers/flats_controller.rb:22:in `create'
Started GET "/flats/new" for 127.0.0.1 at 2018-08-08 16:52:24 +0300
Processing by FlatsController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering flats/new.html.erb within layouts/application
  Rendered flats/_form.html.erb (4.2ms)
  Rendered flats/new.html.erb within layouts/application (7.5ms)
Completed 200 OK in 286ms (Views: 223.2ms | ActiveRecord: 11.2ms)


Started GET "/" for 127.0.0.1 at 2018-08-08 16:52:26 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.4ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:29
  [1m[36mCACHE User Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (55.3ms)
  Rendered flats/index.html.erb within layouts/application (74.7ms)
Completed 200 OK in 330ms (Views: 319.8ms | ActiveRecord: 4.2ms)


Started GET "/flats/new" for 127.0.0.1 at 2018-08-08 16:52:27 +0300
Processing by FlatsController#new as HTML
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering flats/new.html.erb within layouts/application
  Rendered flats/_form.html.erb (15.2ms)
  Rendered flats/new.html.erb within layouts/application (20.3ms)
Completed 200 OK in 355ms (Views: 344.5ms | ActiveRecord: 2.0ms)


Started GET "/" for 127.0.0.1 at 2018-08-08 16:52:28 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.5ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (6.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (2.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:29
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (47.2ms)
  Rendered flats/index.html.erb within layouts/application (73.0ms)
Completed 200 OK in 357ms (Views: 332.1ms | ActiveRecord: 11.9ms)


Started GET "/flats/new" for 127.0.0.1 at 2018-08-08 16:52:30 +0300
Processing by FlatsController#new as HTML
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering flats/new.html.erb within layouts/application
  Rendered flats/_form.html.erb (9.3ms)
  Rendered flats/new.html.erb within layouts/application (11.5ms)
Completed 200 OK in 314ms (Views: 304.7ms | ActiveRecord: 1.0ms)


Started POST "/flats" for 127.0.0.1 at 2018-08-08 16:52:31 +0300
Processing by FlatsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"5WfgjY6IMpoy80zcy7pN7ZFBaUVFDs8Cry/HMBJ9RFJH3ZLnBILoK3c0UNtMl6JwMkdMj0EyK/hIXu57/zh20g==", "flat"=>{"name"=>"", "city"=>"", "address"=>"", "description"=>"", "capacity"=>"", "price"=>""}, "commit"=>"Save"}
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Completed 500 Internal Server Error in 28ms (ActiveRecord: 1.5ms)


  
Pundit::NotAuthorizedError (not allowed to create? this #<Flat id: nil, name: "", address: "", description: "", capacity: nil, price: nil, created_at: nil, updated_at: nil, image_file_name: nil, image_content_type: nil, image_file_size: nil, image_updated_at: nil, user_id: 2, city: "", reserved_date: []>):
  
app/controllers/flats_controller.rb:22:in `create'
Started GET "/" for 127.0.0.1 at 2018-08-08 16:52:40 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.3ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (8.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:29
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (58.4ms)
  Rendered flats/index.html.erb within layouts/application (79.1ms)
Completed 200 OK in 377ms (Views: 358.7ms | ActiveRecord: 12.0ms)


Started GET "/" for 127.0.0.1 at 2018-08-08 17:06:59 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.7ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (2.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:29
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (106.3ms)
  Rendered flats/index.html.erb within layouts/application (209.3ms)
Completed 200 OK in 760ms (Views: 718.5ms | ActiveRecord: 19.2ms)


Started GET "/flats/new" for 127.0.0.1 at 2018-08-08 17:07:01 +0300
Processing by FlatsController#new as HTML
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Completed 500 Internal Server Error in 16ms (ActiveRecord: 1.4ms)


  
NoMethodError (undefined method `new?' for #<FlatPolicy:0x00007f5bdd1355c0>):
  
app/controllers/flats_controller.rb:15:in `new'
Started GET "/flats/new" for 127.0.0.1 at 2018-08-08 17:07:29 +0300
Processing by FlatsController#new as HTML
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Completed 500 Internal Server Error in 188ms (ActiveRecord: 27.7ms)


  
Pundit::NotAuthorizedError (not allowed to new? this #<Flat id: nil, name: nil, address: nil, description: nil, capacity: nil, price: nil, created_at: nil, updated_at: nil, image_file_name: nil, image_content_type: nil, image_file_size: nil, image_updated_at: nil, user_id: nil, city: nil, reserved_date: []>):
  
app/controllers/flats_controller.rb:15:in `new'
Started GET "/" for 127.0.0.1 at 2018-08-08 17:08:00 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.8ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:29
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (39.8ms)
  Rendered flats/index.html.erb within layouts/application (58.3ms)
Completed 200 OK in 277ms (Views: 271.3ms | ActiveRecord: 3.4ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2018-08-08 17:08:02 +0300
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"XooyKxOwD/Y9btfBebzYtfIY0snhV32uaWtjPiUVjZAl7Q9QXid9gsJPVY56br9AeLgJ9nwDttVtzrKLvQ1g2A=="}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 8ms (ActiveRecord: 1.1ms)


Started GET "/" for 127.0.0.1 at 2018-08-08 17:08:02 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (33.6ms)
  Rendered flats/index.html.erb within layouts/application (45.9ms)
Completed 200 OK in 505ms (Views: 494.8ms | ActiveRecord: 1.6ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2018-08-08 17:08:05 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (4.8ms)
  Rendered devise/sessions/new.html.erb within layouts/application (31.9ms)
Completed 200 OK in 273ms (Views: 268.4ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-08-08 17:08:13 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"GDqseAqOIuKTsa2ltoG2cOs4LoJh+xnpv5AB6bpKRfRUUiqFiFvO0Byp0rWuuJfY2uj4Tv2Pyn7SQnAGlSj28g==", "user"=>{"email"=>"Tork@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (8.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "tork@gmail.com"], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = $1, "last_sign_in_at" = $2, "sign_in_count" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["current_sign_in_at", "2018-08-08 14:08:13.875208"], ["last_sign_in_at", "2018-08-08 13:12:58.223280"], ["sign_in_count", 10], ["updated_at", "2018-08-08 14:08:13.876451"], ["id", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (2.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 191ms (ActiveRecord: 10.9ms)


Started GET "/" for 127.0.0.1 at 2018-08-08 17:08:13 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:29
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 1]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of bookings/_booking.html.erb [2 times] (1.6ms)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 2]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 3]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of templates [0 times] (0.0ms)
  Rendered collection of flats/_flat.html.erb [3 times] (71.2ms)
  Rendered flats/index.html.erb within layouts/application (80.1ms)
Completed 200 OK in 463ms (Views: 454.0ms | ActiveRecord: 4.9ms)


Started GET "/flats/new" for 127.0.0.1 at 2018-08-08 17:08:15 +0300
Processing by FlatsController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering flats/new.html.erb within layouts/application
  Rendered flats/_form.html.erb (4.0ms)
  Rendered flats/new.html.erb within layouts/application (5.3ms)
Completed 200 OK in 317ms (Views: 312.3ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2018-08-08 17:08:17 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.6ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (3.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:29
  [1m[36mBooking Load (0.8ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 1]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of bookings/_booking.html.erb [2 times] (2.1ms)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mBooking Load (0.7ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 2]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mBooking Load (0.5ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 3]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of templates [0 times] (0.0ms)
  Rendered collection of flats/_flat.html.erb [3 times] (58.5ms)
  Rendered flats/index.html.erb within layouts/application (71.9ms)
Completed 200 OK in 377ms (Views: 364.5ms | ActiveRecord: 9.1ms)


Started GET "/" for 127.0.0.1 at 2018-08-08 17:09:40 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:29
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 1]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of bookings/_booking.html.erb [2 times] (2.9ms)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 2]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 3]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of templates [0 times] (0.0ms)
  Rendered collection of flats/_flat.html.erb [3 times] (137.3ms)
  Rendered flats/index.html.erb within layouts/application (186.3ms)
Completed 200 OK in 765ms (Views: 713.4ms | ActiveRecord: 27.5ms)


Started GET "/" for 127.0.0.1 at 2018-08-08 17:19:34 +0300
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.6ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (3.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (395.3ms)
  Rendered flats/index.html.erb within layouts/application (420.5ms)
Completed 200 OK in 740ms (Views: 707.2ms | ActiveRecord: 11.9ms)


Started GET "/flats/new" for 127.0.0.1 at 2018-08-08 17:20:51 +0300
Processing by FlatsController#new as HTML
Completed 401 Unauthorized in 2ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2018-08-08 17:20:51 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.2ms)
  Rendered devise/sessions/new.html.erb within layouts/application (11.4ms)
Completed 200 OK in 255ms (Views: 249.9ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-08-08 17:20:56 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"A1r7TQyVbtjPcLAqxnTFkNY2af/WtcWkE2WIi4v67eH/PeXh2YFvHAWR+BYXnTAYbt3Bz98dJc3IhLMb3ocyHg==", "user"=>{"email"=>"Tork@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "tork@gmail.com"], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = $1, "last_sign_in_at" = $2, "sign_in_count" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["current_sign_in_at", "2018-08-08 14:20:57.076801"], ["last_sign_in_at", "2018-08-08 14:08:13.875208"], ["sign_in_count", 11], ["updated_at", "2018-08-08 14:20:57.078058"], ["id", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (2.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/flats/new
Completed 302 Found in 198ms (ActiveRecord: 5.8ms)


Started GET "/flats/new" for 127.0.0.1 at 2018-08-08 17:20:57 +0300
Processing by FlatsController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering flats/new.html.erb within layouts/application
  Rendered flats/_form.html.erb (3.9ms)
  Rendered flats/new.html.erb within layouts/application (5.0ms)
Completed 200 OK in 217ms (Views: 212.3ms | ActiveRecord: 0.4ms)


Started GET "/flats/new" for 127.0.0.1 at 2018-08-08 17:21:03 +0300
Processing by FlatsController#new as HTML
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering flats/new.html.erb within layouts/application
  Rendered flats/_form.html.erb (12.5ms)
  Rendered flats/new.html.erb within layouts/application (16.8ms)
Completed 200 OK in 315ms (Views: 297.4ms | ActiveRecord: 1.7ms)


Started GET "/" for 127.0.0.1 at 2018-08-08 17:21:06 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.1ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:29
  [1m[36mBooking Load (4.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 1]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of bookings/_booking.html.erb [2 times] (2.4ms)
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mBooking Load (0.5ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 2]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mBooking Load (0.5ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 3]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of templates [0 times] (0.0ms)
  Rendered collection of flats/_flat.html.erb [3 times] (101.2ms)
  Rendered flats/index.html.erb within layouts/application (116.7ms)
Completed 200 OK in 414ms (Views: 390.7ms | ActiveRecord: 18.0ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2018-08-08 17:21:52 +0300
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"qdC4/+3Bd7ulioiYnr8Moy9zMVNLSjQ3aMzgI43sSJ4x2AAGdzH5ovBmHx7+7Fe8XR5+ZFZg4+9AQfH8c4qVjg=="}
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 73ms (ActiveRecord: 2.0ms)


Started GET "/" for 127.0.0.1 at 2018-08-08 17:21:52 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (11.5ms)
  Rendered flats/index.html.erb within layouts/application (18.5ms)
Completed 200 OK in 268ms (Views: 264.2ms | ActiveRecord: 1.1ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2018-08-08 17:21:53 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (3.2ms)
  Rendered devise/sessions/new.html.erb within layouts/application (17.8ms)
Completed 200 OK in 365ms (Views: 362.1ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-08-08 17:22:02 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"HowKVYMUmBrNio64vQv/K7OUBK9Kuyh9lpGF9mV3Q2p1T6P/bZy9mzzxzqckjOPb6SFklCiKtvfgYnbbcnNHkg==", "user"=>{"email"=>"Pork@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "pork@gmail.com"], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = $1, "last_sign_in_at" = $2, "sign_in_count" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["current_sign_in_at", "2018-08-08 14:22:02.206145"], ["last_sign_in_at", "2018-08-08 13:33:13.020832"], ["sign_in_count", 5], ["updated_at", "2018-08-08 14:22:02.207211"], ["id", 2]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 162ms (ActiveRecord: 2.6ms)


Started GET "/" for 127.0.0.1 at 2018-08-08 17:22:02 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.9ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:29
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (10.4ms)
  Rendered flats/index.html.erb within layouts/application (17.6ms)
Completed 200 OK in 339ms (Views: 335.8ms | ActiveRecord: 1.8ms)


Started GET "/flats/new" for 127.0.0.1 at 2018-08-08 17:22:06 +0300
Processing by FlatsController#new as HTML
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Completed 500 Internal Server Error in 11ms (ActiveRecord: 1.4ms)


  
Pundit::NotAuthorizedError (not allowed to new? this #<Flat id: nil, name: nil, address: nil, description: nil, capacity: nil, price: nil, created_at: nil, updated_at: nil, image_file_name: nil, image_content_type: nil, image_file_size: nil, image_updated_at: nil, user_id: nil, city: nil, reserved_date: []>):
  
app/controllers/flats_controller.rb:15:in `new'
Started GET "/" for 127.0.0.1 at 2018-08-08 17:22:24 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.5ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:29
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (27.0ms)
  Rendered flats/index.html.erb within layouts/application (44.4ms)
Completed 200 OK in 467ms (Views: 461.2ms | ActiveRecord: 4.0ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-08 17:29:41 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:57
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
Completed 500 Internal Server Error in 11ms (ActiveRecord: 2.2ms)


  
NoMethodError (undefined method `show?' for #<FlatPolicy:0x00007f7941d784c8>):
  
app/controllers/flats_controller.rb:58:in `set_flat'
Started GET "/flats/1" for 127.0.0.1 at 2018-08-08 17:30:31 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:57
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
Completed 500 Internal Server Error in 96ms (ActiveRecord: 14.5ms)


  
Pundit::NotAuthorizedError (not allowed to show? this #<Flat id: 1, name: "Letuchiy Gollandets", address: "Peremohy(Kapushanska) Street 19", description: "This hotel is set in the historic centre of Uzhgor...", capacity: 2, price: 59, created_at: "2018-08-01 11:22:25", updated_at: "2018-08-08 12:00:59", image_file_name: "15184101.jpg", image_content_type: "image/jpeg", image_file_size: 112890, image_updated_at: "2018-08-01 11:22:24", user_id: 1, city: "Uzhhorod", reserved_date: [Sat, 18 Aug 2018, Sun, 19 Aug 2018, Mon, 20 Aug 2018, Tue, 21 Aug 2018]>):
  
app/controllers/flats_controller.rb:58:in `set_flat'
Started GET "/flats/1" for 127.0.0.1 at 2018-08-08 17:30:51 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (1.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:57
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered bookings/_form.html.erb (34.6ms)
  Rendered flats/show.html.erb within layouts/application (51.8ms)
Completed 200 OK in 632ms (Views: 501.8ms | ActiveRecord: 20.0ms)


Started GET "/" for 127.0.0.1 at 2018-08-08 17:30:54 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.9ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:29
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (21.6ms)
  Rendered flats/index.html.erb within layouts/application (30.5ms)
Completed 200 OK in 237ms (Views: 228.7ms | ActiveRecord: 3.0ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-08 17:30:57 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (1.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:57
  [1m[36mUser Load (3.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered bookings/_form.html.erb (5.4ms)
  Rendered flats/show.html.erb within layouts/application (23.0ms)
Completed 200 OK in 252ms (Views: 235.2ms | ActiveRecord: 5.9ms)


Started GET "/" for 127.0.0.1 at 2018-08-08 17:30:59 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.9ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (5.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:29
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (35.8ms)
  Rendered flats/index.html.erb within layouts/application (53.1ms)
Completed 200 OK in 306ms (Views: 292.4ms | ActiveRecord: 8.6ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-08 17:35:20 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:57
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered bookings/_form.html.erb (3.8ms)
  Rendered flats/show.html.erb within layouts/application (18.0ms)
Completed 200 OK in 264ms (Views: 245.1ms | ActiveRecord: 3.2ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-08 17:35:28 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.9ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:57
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered bookings/_form.html.erb (10.9ms)
  Rendered flats/show.html.erb within layouts/application (38.1ms)
Completed 200 OK in 407ms (Views: 388.9ms | ActiveRecord: 4.0ms)


Started POST "/flats/1/bookings" for 127.0.0.1 at 2018-08-08 17:35:34 +0300
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"ZO0xcfyGIPP+3m76zvorz1Wgch9/2IyGk2iBMDr/NSvouWJXoi5Oe50eJp9neHQlUMJ/9JkuOYfANmjOOW3xgw==", "booking"=>{"notice"=>"", "start_date"=>"2018-08-20", "end_date"=>"2018-08-21"}, "commit"=>"Book this flat", "flat_id"=>"1"}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/bookings_controller.rb:17
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:17
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/bookings_controller.rb:17
Redirected to http://localhost:3000/flats/1
Completed 302 Found in 34ms (ActiveRecord: 2.7ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-08 17:35:35 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (1.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:57
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered bookings/_form.html.erb (2.4ms)
  Rendered flats/show.html.erb within layouts/application (8.5ms)
Completed 200 OK in 381ms (Views: 369.7ms | ActiveRecord: 2.3ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-08 17:37:54 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (1.9ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:57
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered bookings/_form.html.erb (2.2ms)
  Rendered flats/show.html.erb within layouts/application (11.6ms)
Completed 200 OK in 459ms (Views: 452.2ms | ActiveRecord: 2.7ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-08 17:38:21 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:57
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered bookings/_form.html.erb (5.4ms)
  Rendered flats/show.html.erb within layouts/application (27.9ms)
Completed 200 OK in 529ms (Views: 519.1ms | ActiveRecord: 2.1ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-08 17:38:31 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (1.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:57
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered bookings/_form.html.erb (2.2ms)
  Rendered flats/show.html.erb within layouts/application (10.4ms)
Completed 200 OK in 475ms (Views: 467.8ms | ActiveRecord: 3.0ms)


Started GET "/flats/new" for 127.0.0.1 at 2018-08-08 17:38:33 +0300
Processing by FlatsController#new as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.6ms)


  
Pundit::NotAuthorizedError (not allowed to new? this #<Flat id: nil, name: nil, address: nil, description: nil, capacity: nil, price: nil, created_at: nil, updated_at: nil, image_file_name: nil, image_content_type: nil, image_file_size: nil, image_updated_at: nil, user_id: nil, city: nil, reserved_date: []>):
  
app/controllers/flats_controller.rb:15:in `new'
Started GET "/flats/1" for 127.0.0.1 at 2018-08-08 17:38:43 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:57
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered bookings/_form.html.erb (3.4ms)
  Rendered flats/show.html.erb within layouts/application (19.8ms)
Completed 200 OK in 386ms (Views: 376.4ms | ActiveRecord: 2.6ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-08 17:42:45 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:57
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered bookings/_form.html.erb (29.4ms)
  Rendered flats/show.html.erb within layouts/application (52.2ms)
Completed 200 OK in 575ms (Views: 469.5ms | ActiveRecord: 15.1ms)


Started GET "/" for 127.0.0.1 at 2018-08-08 17:42:47 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.5ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (3.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:29
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (44.8ms)
  Rendered flats/index.html.erb within layouts/application (62.2ms)
Completed 200 OK in 290ms (Views: 280.1ms | ActiveRecord: 6.2ms)


Started GET "/secret" for 127.0.0.1 at 2018-08-08 17:42:48 +0300
  
ActionController::RoutingError (uninitialized constant UserController):
  
bootsnap (1.3.1) lib/bootsnap/load_path_cache/core_ext/active_support.rb:53:in `block in load_missing_constant'
bootsnap (1.3.1) lib/bootsnap/load_path_cache/core_ext/active_support.rb:8:in `without_bootsnap_cache'
bootsnap (1.3.1) lib/bootsnap/load_path_cache/core_ext/active_support.rb:53:in `rescue in load_missing_constant'
bootsnap (1.3.1) lib/bootsnap/load_path_cache/core_ext/active_support.rb:42:in `load_missing_constant'
activesupport (5.2.0) lib/active_support/inflector/methods.rb:283:in `const_get'
activesupport (5.2.0) lib/active_support/inflector/methods.rb:283:in `block in constantize'
activesupport (5.2.0) lib/active_support/inflector/methods.rb:281:in `each'
activesupport (5.2.0) lib/active_support/inflector/methods.rb:281:in `inject'
activesupport (5.2.0) lib/active_support/inflector/methods.rb:281:in `constantize'
actionpack (5.2.0) lib/action_dispatch/http/request.rb:88:in `controller_class_for'
actionpack (5.2.0) lib/action_dispatch/http/request.rb:81:in `controller_class'
actionpack (5.2.0) lib/action_dispatch/routing/route_set.rb:46:in `controller'
actionpack (5.2.0) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (5.2.0) lib/action_dispatch/journey/router.rb:52:in `block in serve'
actionpack (5.2.0) lib/action_dispatch/journey/router.rb:35:in `each'
actionpack (5.2.0) lib/action_dispatch/journey/router.rb:35:in `serve'
actionpack (5.2.0) lib/action_dispatch/routing/route_set.rb:840:in `call'
warden (1.2.7) lib/warden/manager.rb:36:in `block in call'
warden (1.2.7) lib/warden/manager.rb:35:in `catch'
warden (1.2.7) lib/warden/manager.rb:35:in `call'
rack (2.0.5) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.0.5) lib/rack/etag.rb:25:in `call'
rack (2.0.5) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.5) lib/rack/head.rb:12:in `call'
actionpack (5.2.0) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.0.5) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.5) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/cookies.rb:670:in `call'
activerecord (5.2.0) lib/active_record/migration.rb:559:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
activesupport (5.2.0) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (5.2.0) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:61:in `call'
web-console (3.6.2) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.6.2) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `catch'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.0) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/secret" for 127.0.0.1 at 2018-08-08 17:43:24 +0300
  
ActionController::RoutingError (uninitialized constant UserController):
  
bootsnap (1.3.1) lib/bootsnap/load_path_cache/core_ext/active_support.rb:53:in `block in load_missing_constant'
bootsnap (1.3.1) lib/bootsnap/load_path_cache/core_ext/active_support.rb:8:in `without_bootsnap_cache'
bootsnap (1.3.1) lib/bootsnap/load_path_cache/core_ext/active_support.rb:53:in `rescue in load_missing_constant'
bootsnap (1.3.1) lib/bootsnap/load_path_cache/core_ext/active_support.rb:42:in `load_missing_constant'
activesupport (5.2.0) lib/active_support/inflector/methods.rb:283:in `const_get'
activesupport (5.2.0) lib/active_support/inflector/methods.rb:283:in `block in constantize'
activesupport (5.2.0) lib/active_support/inflector/methods.rb:281:in `each'
activesupport (5.2.0) lib/active_support/inflector/methods.rb:281:in `inject'
activesupport (5.2.0) lib/active_support/inflector/methods.rb:281:in `constantize'
actionpack (5.2.0) lib/action_dispatch/http/request.rb:88:in `controller_class_for'
actionpack (5.2.0) lib/action_dispatch/http/request.rb:81:in `controller_class'
actionpack (5.2.0) lib/action_dispatch/routing/route_set.rb:46:in `controller'
actionpack (5.2.0) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (5.2.0) lib/action_dispatch/journey/router.rb:52:in `block in serve'
actionpack (5.2.0) lib/action_dispatch/journey/router.rb:35:in `each'
actionpack (5.2.0) lib/action_dispatch/journey/router.rb:35:in `serve'
actionpack (5.2.0) lib/action_dispatch/routing/route_set.rb:840:in `call'
warden (1.2.7) lib/warden/manager.rb:36:in `block in call'
warden (1.2.7) lib/warden/manager.rb:35:in `catch'
warden (1.2.7) lib/warden/manager.rb:35:in `call'
rack (2.0.5) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.0.5) lib/rack/etag.rb:25:in `call'
rack (2.0.5) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.5) lib/rack/head.rb:12:in `call'
actionpack (5.2.0) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.0.5) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.5) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/cookies.rb:670:in `call'
activerecord (5.2.0) lib/active_record/migration.rb:559:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
activesupport (5.2.0) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (5.2.0) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:61:in `call'
web-console (3.6.2) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.6.2) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `catch'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.0) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2018-08-08 17:43:33 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.8ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:29
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (33.6ms)
  Rendered flats/index.html.erb within layouts/application (44.7ms)
Completed 200 OK in 326ms (Views: 321.2ms | ActiveRecord: 2.6ms)


Started GET "/secret" for 127.0.0.1 at 2018-08-08 17:43:35 +0300
  
ActionController::RoutingError (uninitialized constant UserController):
  
bootsnap (1.3.1) lib/bootsnap/load_path_cache/core_ext/active_support.rb:53:in `block in load_missing_constant'
bootsnap (1.3.1) lib/bootsnap/load_path_cache/core_ext/active_support.rb:8:in `without_bootsnap_cache'
bootsnap (1.3.1) lib/bootsnap/load_path_cache/core_ext/active_support.rb:53:in `rescue in load_missing_constant'
bootsnap (1.3.1) lib/bootsnap/load_path_cache/core_ext/active_support.rb:42:in `load_missing_constant'
activesupport (5.2.0) lib/active_support/inflector/methods.rb:283:in `const_get'
activesupport (5.2.0) lib/active_support/inflector/methods.rb:283:in `block in constantize'
activesupport (5.2.0) lib/active_support/inflector/methods.rb:281:in `each'
activesupport (5.2.0) lib/active_support/inflector/methods.rb:281:in `inject'
activesupport (5.2.0) lib/active_support/inflector/methods.rb:281:in `constantize'
actionpack (5.2.0) lib/action_dispatch/http/request.rb:88:in `controller_class_for'
actionpack (5.2.0) lib/action_dispatch/http/request.rb:81:in `controller_class'
actionpack (5.2.0) lib/action_dispatch/routing/route_set.rb:46:in `controller'
actionpack (5.2.0) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (5.2.0) lib/action_dispatch/journey/router.rb:52:in `block in serve'
actionpack (5.2.0) lib/action_dispatch/journey/router.rb:35:in `each'
actionpack (5.2.0) lib/action_dispatch/journey/router.rb:35:in `serve'
actionpack (5.2.0) lib/action_dispatch/routing/route_set.rb:840:in `call'
warden (1.2.7) lib/warden/manager.rb:36:in `block in call'
warden (1.2.7) lib/warden/manager.rb:35:in `catch'
warden (1.2.7) lib/warden/manager.rb:35:in `call'
rack (2.0.5) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.0.5) lib/rack/etag.rb:25:in `call'
rack (2.0.5) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.5) lib/rack/head.rb:12:in `call'
actionpack (5.2.0) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.0.5) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.5) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/cookies.rb:670:in `call'
activerecord (5.2.0) lib/active_record/migration.rb:559:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
activesupport (5.2.0) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (5.2.0) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:61:in `call'
web-console (3.6.2) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.6.2) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `catch'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.0) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/secret" for 127.0.0.1 at 2018-08-08 17:44:12 +0300
Processing by UsersController#secret as HTML
  Rendering users/secret.html.erb within layouts/application
  Rendered users/secret.html.erb within layouts/application (0.4ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:66
Completed 200 OK in 636ms (Views: 621.9ms | ActiveRecord: 4.9ms)


Started GET "/" for 127.0.0.1 at 2018-08-08 17:44:28 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (3.7ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:29
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (27.2ms)
  Rendered flats/index.html.erb within layouts/application (91.0ms)
Completed 200 OK in 321ms (Views: 303.6ms | ActiveRecord: 10.4ms)


Started GET "/secret" for 127.0.0.1 at 2018-08-08 17:44:29 +0300
Processing by UsersController#secret as HTML
  Rendering users/secret.html.erb within layouts/application
  Rendered users/secret.html.erb within layouts/application (1.3ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:66
Completed 200 OK in 317ms (Views: 290.2ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2018-08-08 17:44:30 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.1ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:29
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (39.0ms)
  Rendered flats/index.html.erb within layouts/application (56.9ms)
Completed 200 OK in 345ms (Views: 336.9ms | ActiveRecord: 2.8ms)


Started GET "/flats/new" for 127.0.0.1 at 2018-08-08 17:49:45 +0300
Processing by FlatsController#new as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Completed 500 Internal Server Error in 70ms (ActiveRecord: 0.8ms)


  
Pundit::NotAuthorizedError (not allowed to new? this #<Flat id: nil, name: nil, address: nil, description: nil, capacity: nil, price: nil, created_at: nil, updated_at: nil, image_file_name: nil, image_content_type: nil, image_file_size: nil, image_updated_at: nil, user_id: nil, city: nil, reserved_date: []>):
  
app/controllers/flats_controller.rb:15:in `new'
Started GET "/" for 127.0.0.1 at 2018-08-08 17:49:53 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (3.5ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:29
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (22.9ms)
  Rendered flats/index.html.erb within layouts/application (44.1ms)
Completed 200 OK in 574ms (Views: 564.6ms | ActiveRecord: 4.4ms)


Started GET "/" for 127.0.0.1 at 2018-08-08 17:58:41 +0300
  
SyntaxError (/home/york/Документы/Projects/FlatBooking/app/controllers/flats_controller.rb:64: syntax error, unexpected end-of-input, expecting keyword_end):
  
app/controllers/flats_controller.rb:64: syntax error, unexpected end-of-input, expecting keyword_end
Started GET "/" for 127.0.0.1 at 2018-08-08 17:58:54 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.5ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:29
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (154.2ms)
  Rendered flats/index.html.erb within layouts/application (259.7ms)
Completed 200 OK in 682ms (Views: 635.4ms | ActiveRecord: 27.9ms)


Started GET "/secret" for 127.0.0.1 at 2018-08-08 17:58:58 +0300
Processing by UsersController#secret as HTML
  Rendering users/secret.html.erb within layouts/application
  Rendered users/secret.html.erb within layouts/application (0.6ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:66
Completed 200 OK in 314ms (Views: 311.8ms | ActiveRecord: 0.3ms)


Started GET "/flats/new" for 127.0.0.1 at 2018-08-08 17:59:00 +0300
Processing by FlatsController#new as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 6ms (ActiveRecord: 0.9ms)


Started GET "/" for 127.0.0.1 at 2018-08-08 17:59:00 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.9ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:29
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (44.4ms)
  Rendered flats/index.html.erb within layouts/application (59.6ms)
Completed 200 OK in 269ms (Views: 263.5ms | ActiveRecord: 3.2ms)


Started GET "/" for 127.0.0.1 at 2018-08-08 17:59:06 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (5.9ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:29
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (45.2ms)
  Rendered flats/index.html.erb within layouts/application (68.0ms)
Completed 200 OK in 320ms (Views: 298.7ms | ActiveRecord: 9.3ms)


Started GET "/flats/new" for 127.0.0.1 at 2018-08-08 17:59:07 +0300
Processing by FlatsController#new as HTML
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 10ms (ActiveRecord: 1.6ms)


Started GET "/" for 127.0.0.1 at 2018-08-08 17:59:07 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.6ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:29
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (33.8ms)
  Rendered flats/index.html.erb within layouts/application (59.7ms)
Completed 200 OK in 269ms (Views: 260.9ms | ActiveRecord: 4.6ms)


Started GET "/" for 127.0.0.1 at 2018-08-08 18:05:33 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.8ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:29
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (77.1ms)
  Rendered flats/index.html.erb within layouts/application (138.6ms)
Completed 200 OK in 441ms (Views: 401.4ms | ActiveRecord: 19.5ms)


Started GET "/secret" for 127.0.0.1 at 2018-08-08 18:05:36 +0300
Processing by UsersController#secret as HTML
  Rendering users/secret.html.erb within layouts/application
  [1m[35m (4.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-08 00:00:00"], ["created_at", "2018-08-08 23:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:1
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-08 00:00:00"], ["created_at", "2018-08-08 23:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:1
  Rendered users/secret.html.erb within layouts/application (11.6ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:66
Completed 200 OK in 262ms (Views: 245.1ms | ActiveRecord: 7.8ms)


Started GET "/secret" for 127.0.0.1 at 2018-08-08 18:09:34 +0300
Processing by UsersController#secret as HTML
  Rendering users/secret.html.erb within layouts/application
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-08 00:00:00"], ["created_at", "2018-08-08 23:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:1
  [1m[35m (2.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-08 00:00:00"], ["created_at", "2018-08-08 23:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:1
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-08 00:00:00"], ["created_at", "2018-08-08 23:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:2
  Rendered users/secret.html.erb within layouts/application (12.8ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:66
Completed 200 OK in 476ms (Views: 469.3ms | ActiveRecord: 3.6ms)


Started GET "/secret" for 127.0.0.1 at 2018-08-08 18:11:42 +0300
Processing by UsersController#secret as HTML
  Rendering users/secret.html.erb within layouts/application
  [1m[35m (1.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-08 00:00:00"], ["created_at", "2018-08-08 23:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:1
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-08 00:00:00"], ["created_at", "2018-08-08 23:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:1
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-08 00:00:00"], ["created_at", "2018-08-08 23:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:2
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-08 00:00:00"], ["created_at", "2018-08-08 23:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:7
  [1m[36mBooking Load (0.6ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-08 00:00:00"], ["created_at", "2018-08-08 23:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:8
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/users/secret.html.erb:9
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/users/secret.html.erb:9
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/users/secret.html.erb:9
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/users/secret.html.erb:9
  Rendered users/secret.html.erb within layouts/application (95.5ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:66
Completed 200 OK in 561ms (Views: 547.8ms | ActiveRecord: 9.6ms)


Started GET "/secret" for 127.0.0.1 at 2018-08-08 18:12:10 +0300
Processing by UsersController#secret as HTML
  Rendering users/secret.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-08 00:00:00"], ["created_at", "2018-08-08 23:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:1
  [1m[35m (1.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-08 00:00:00"], ["created_at", "2018-08-08 23:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:1
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-08 00:00:00"], ["created_at", "2018-08-08 23:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:2
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-08 00:00:00"], ["created_at", "2018-08-08 23:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:7
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-08 00:00:00"], ["created_at", "2018-08-08 23:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:8
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/users/secret.html.erb:9
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/users/secret.html.erb:9
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/users/secret.html.erb:9
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/users/secret.html.erb:9
  Rendered users/secret.html.erb within layouts/application (19.4ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:66
Completed 200 OK in 414ms (Views: 403.6ms | ActiveRecord: 3.7ms)


Started GET "/secret" for 127.0.0.1 at 2018-08-08 18:12:52 +0300
Processing by UsersController#secret as HTML
  Rendering users/secret.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-08 00:00:00"], ["created_at", "2018-08-08 23:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:1
  [1m[35m (2.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-08 00:00:00"], ["created_at", "2018-08-08 23:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:1
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-08 00:00:00"], ["created_at", "2018-08-08 23:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:2
  [1m[35mCACHE  (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-08 00:00:00"], ["created_at", "2018-08-08 23:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:8
  [1m[36mBooking Load (1.4ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-08 00:00:00"], ["created_at", "2018-08-08 23:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:10
  [1m[36mFlat Load (1.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/users/secret.html.erb:11
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/users/secret.html.erb:11
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/users/secret.html.erb:11
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/users/secret.html.erb:11
  Rendered users/secret.html.erb within layouts/application (30.5ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:66
Completed 200 OK in 429ms (Views: 416.9ms | ActiveRecord: 7.6ms)


Started GET "/secret" for 127.0.0.1 at 2018-08-08 18:13:10 +0300
Processing by UsersController#secret as HTML
  Rendering users/secret.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-08 00:00:00"], ["created_at", "2018-08-08 23:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:1
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-08 00:00:00"], ["created_at", "2018-08-08 23:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:1
  [1m[35mCACHE  (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-08 00:00:00"], ["created_at", "2018-08-08 23:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:2
  [1m[35mCACHE  (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-08 00:00:00"], ["created_at", "2018-08-08 23:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:8
  [1m[36mBooking Load (1.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-08 00:00:00"], ["created_at", "2018-08-08 23:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:10
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/users/secret.html.erb:11
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/users/secret.html.erb:11
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/users/secret.html.erb:11
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/users/secret.html.erb:11
  Rendered users/secret.html.erb within layouts/application (46.8ms)
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:66
Completed 200 OK in 525ms (Views: 517.8ms | ActiveRecord: 4.6ms)


Started GET "/secret" for 127.0.0.1 at 2018-08-08 18:13:27 +0300
Processing by UsersController#secret as HTML
  Rendering users/secret.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-08 00:00:00"], ["created_at", "2018-08-08 23:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:1
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-08 00:00:00"], ["created_at", "2018-08-08 23:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:1
  [1m[35mCACHE  (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-08 00:00:00"], ["created_at", "2018-08-08 23:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:2
  [1m[35mCACHE  (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-08 00:00:00"], ["created_at", "2018-08-08 23:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:8
  [1m[36mBooking Load (1.8ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-08 00:00:00"], ["created_at", "2018-08-08 23:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:10
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/users/secret.html.erb:11
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/users/secret.html.erb:11
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/users/secret.html.erb:11
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/users/secret.html.erb:11
  Rendered users/secret.html.erb within layouts/application (28.2ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:66
Completed 200 OK in 507ms (Views: 498.3ms | ActiveRecord: 5.8ms)


Started GET "/secret" for 127.0.0.1 at 2018-08-08 18:15:19 +0300
Processing by UsersController#secret as HTML
  Rendering users/secret.html.erb within layouts/application
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-08 00:00:00"], ["created_at", "2018-08-08 23:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:1
  [1m[35m (1.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-08 00:00:00"], ["created_at", "2018-08-08 23:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:1
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-08 00:00:00"], ["created_at", "2018-08-08 23:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:2
  [1m[35mCACHE  (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-08 00:00:00"], ["created_at", "2018-08-08 23:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:8
  [1m[36mBooking Load (1.6ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-08 00:00:00"], ["created_at", "2018-08-08 23:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:10
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/users/secret.html.erb:11
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/users/secret.html.erb:11
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/users/secret.html.erb:11
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/users/secret.html.erb:11
  Rendered users/secret.html.erb within layouts/application (31.7ms)
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:66
Completed 200 OK in 538ms (Views: 525.2ms | ActiveRecord: 6.6ms)


Started GET "/secret" for 127.0.0.1 at 2018-08-08 18:16:37 +0300
Processing by UsersController#secret as HTML
  Rendering users/secret.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-08 00:00:00"], ["created_at", "2018-08-08 23:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:1
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-08 00:00:00"], ["created_at", "2018-08-08 23:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:1
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-08 00:00:00"], ["created_at", "2018-08-08 23:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:2
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-08 00:00:00"], ["created_at", "2018-08-08 23:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:8
  [1m[36mBooking Load (0.5ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-08 00:00:00"], ["created_at", "2018-08-08 23:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:10
  [1m[36mFlat Load (1.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/users/secret.html.erb:11
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/users/secret.html.erb:11
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/users/secret.html.erb:11
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/users/secret.html.erb:11
  Rendered users/secret.html.erb within layouts/application (22.9ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:66
Completed 200 OK in 435ms (Views: 429.0ms | ActiveRecord: 3.7ms)


Started GET "/secret" for 127.0.0.1 at 2018-08-08 18:21:03 +0300
Processing by UsersController#secret as HTML
  Rendering users/secret.html.erb within layouts/application
  [1m[35m (2.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3[0m  [["created_at", "2018-08-08 00:00:00"], ["created_at", "2018-08-08 23:59:59.999999"], ["vendor", true]]
  ↳ app/views/users/secret.html.erb:1
  Rendered users/secret.html.erb within layouts/application (10.5ms)
Completed 500 Internal Server Error in 82ms (ActiveRecord: 20.4ms)


  
ActionView::Template::Error (undefined method `size' for nil:NilClass):
    1: Today on site registrated <%= @vendor.size %> vendors, <%= @vissitors.size %> visitors and vendors create <%= @flat.size %> flats and visitors booked flats <%= @booking.size %> times.<br/>
    2: <% if @flat.size > 0 %>
    3:   <h4>Flats</h4>
    4:   <% @flat.each do |flat| %>
  
app/views/users/secret.html.erb:1:in `_app_views_users_secret_html_erb___4543031006374189862_70079273955700'
Started GET "/secret" for 127.0.0.1 at 2018-08-08 18:21:34 +0300
Processing by UsersController#secret as HTML
  Rendering users/secret.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3[0m  [["created_at", "2018-08-08 00:00:00"], ["created_at", "2018-08-08 23:59:59.999999"], ["vendor", true]]
  ↳ app/views/users/secret.html.erb:1
  Rendered users/secret.html.erb within layouts/application (11.5ms)
Completed 500 Internal Server Error in 18ms (ActiveRecord: 0.5ms)


  
ActionView::Template::Error (undefined method `size' for nil:NilClass):
    1: Today on site registrated <%= @vendor.size %> vendors, <%= @visitors.size %> visitors and vendors create <%= @flat.size %> flats and visitors booked flats <%= @booking.size %> times.<br/>
    2: <% if @flat.size > 0 %>
    3:   <h4>Flats</h4>
    4:   <% @flat.each do |flat| %>
  
app/views/users/secret.html.erb:1:in `_app_views_users_secret_html_erb___4543031006374189862_70079380061020'
Started GET "/secret" for 127.0.0.1 at 2018-08-08 18:21:42 +0300
Processing by UsersController#secret as HTML
  Rendering users/secret.html.erb within layouts/application
  [1m[35m (1.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3[0m  [["created_at", "2018-08-08 00:00:00"], ["created_at", "2018-08-08 23:59:59.999999"], ["vendor", true]]
  ↳ app/views/users/secret.html.erb:1
  Rendered users/secret.html.erb within layouts/application (17.7ms)
Completed 500 Internal Server Error in 35ms (ActiveRecord: 1.7ms)


  
ActionView::Template::Error (undefined method `size' for nil:NilClass):
    1: Today on site registrated <%= @vendor.size %> vendors, <%= @visitor.size %> visitors and vendors create <%= @flat.size %> flats and visitors booked flats <%= @booking.size %> times.<br/>
    2: <% if @flat.size > 0 %>
    3:   <h4>Flats</h4>
    4:   <% @flat.each do |flat| %>
  
app/views/users/secret.html.erb:1:in `_app_views_users_secret_html_erb___4543031006374189862_70079388997680'
Started GET "/secret" for 127.0.0.1 at 2018-08-08 18:22:16 +0300
Processing by UsersController#secret as HTML
  Rendering users/secret.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3[0m  [["created_at", "2018-08-08 00:00:00"], ["created_at", "2018-08-08 23:59:59.999999"], ["vendor", true]]
  ↳ app/views/users/secret.html.erb:1
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3[0m  [["created_at", "2018-08-08 00:00:00"], ["created_at", "2018-08-08 23:59:59.999999"], ["vendor", false]]
  ↳ app/views/users/secret.html.erb:1
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-08 00:00:00"], ["created_at", "2018-08-08 23:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:1
  [1m[35m (1.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-08 00:00:00"], ["created_at", "2018-08-08 23:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:1
  [1m[35mCACHE  (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-08 00:00:00"], ["created_at", "2018-08-08 23:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:2
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-08 00:00:00"], ["created_at", "2018-08-08 23:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:8
  [1m[36mBooking Load (0.6ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-08 00:00:00"], ["created_at", "2018-08-08 23:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:10
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/users/secret.html.erb:11
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/users/secret.html.erb:11
  [1m[36mCACHE Flat Load (0.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/users/secret.html.erb:11
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/users/secret.html.erb:11
  Rendered users/secret.html.erb within layouts/application (163.2ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:66
Completed 200 OK in 669ms (Views: 604.3ms | ActiveRecord: 25.6ms)


Started GET "/" for 127.0.0.1 at 2018-08-10 12:48:22 +0300
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.0ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (365.1ms)
  Rendered flats/index.html.erb within layouts/application (397.1ms)
Completed 200 OK in 687ms (Views: 661.3ms | ActiveRecord: 10.4ms)


Started GET "/" for 127.0.0.1 at 2018-08-10 12:50:20 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.9ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (34.6ms)
  Rendered flats/index.html.erb within layouts/application (51.6ms)
Completed 200 OK in 489ms (Views: 485.3ms | ActiveRecord: 1.6ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2018-08-10 12:50:24 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.1ms)
  Rendered devise/sessions/new.html.erb within layouts/application (21.0ms)
Completed 200 OK in 200ms (Views: 196.0ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-08-10 12:50:30 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"7CJTsvmdwx4l6V6flAHnsyfPW7gBkOJNQnmzq2zy0xkB9xmNoKNF/8tHtjIQsNIliXLyAwYJ3qDfuhFzjekeQQ==", "user"=>{"email"=>"Tork@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "tork@gmail.com"], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = $1, "last_sign_in_at" = $2, "sign_in_count" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["current_sign_in_at", "2018-08-10 09:50:30.981643"], ["last_sign_in_at", "2018-08-08 14:20:57.076801"], ["sign_in_count", 12], ["updated_at", "2018-08-10 09:50:30.982846"], ["id", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 191ms (ActiveRecord: 3.6ms)


Started GET "/" for 127.0.0.1 at 2018-08-10 12:50:31 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:29
  [1m[36mBooking Load (3.7ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 1]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of bookings/_booking.html.erb [2 times] (1.3ms)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mBooking Load (0.4ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 2]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 3]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of templates [0 times] (0.0ms)
  Rendered collection of flats/_flat.html.erb [3 times] (49.6ms)
  Rendered flats/index.html.erb within layouts/application (54.1ms)
Completed 200 OK in 303ms (Views: 292.8ms | ActiveRecord: 8.8ms)


Started GET "/" for 127.0.0.1 at 2018-08-10 12:51:24 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.4ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:29
  [1m[36mBooking Load (0.4ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 1]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of bookings/_booking.html.erb [2 times] (1.0ms)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mBooking Load (1.4ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 2]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 3]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of templates [0 times] (0.0ms)
  Rendered collection of flats/_flat.html.erb [3 times] (43.5ms)
  Rendered flats/index.html.erb within layouts/application (61.0ms)
Completed 200 OK in 460ms (Views: 452.1ms | ActiveRecord: 4.4ms)


Started GET "/" for 127.0.0.1 at 2018-08-10 12:52:13 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.5ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (2.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:29
  [1m[36mBooking Load (0.5ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 1]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of bookings/_booking.html.erb [2 times] (1.5ms)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mBooking Load (0.5ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 2]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of templates [0 times] (0.1ms)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mBooking Load (0.6ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 3]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of templates [0 times] (0.0ms)
  Rendered collection of flats/_flat.html.erb [3 times] (50.2ms)
  Rendered flats/index.html.erb within layouts/application (66.0ms)
Completed 200 OK in 472ms (Views: 463.6ms | ActiveRecord: 6.5ms)


Started GET "/" for 127.0.0.1 at 2018-08-10 12:52:25 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.8ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:29
  [1m[36mBooking Load (0.5ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 1]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of bookings/_booking.html.erb [2 times] (5.6ms)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 2]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mCACHE User Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 3]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of templates [0 times] (0.0ms)
  Rendered collection of flats/_flat.html.erb [3 times] (61.9ms)
  Rendered flats/index.html.erb within layouts/application (79.5ms)
Completed 200 OK in 424ms (Views: 411.8ms | ActiveRecord: 6.0ms)


Started GET "/" for 127.0.0.1 at 2018-08-10 12:52:31 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (5.5ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:29
  [1m[36mBooking Load (2.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 1]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of bookings/_booking.html.erb [2 times] (3.4ms)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mBooking Load (1.4ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 2]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mBooking Load (0.4ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 3]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of templates [0 times] (0.0ms)
  Rendered collection of flats/_flat.html.erb [3 times] (65.3ms)
  Rendered flats/index.html.erb within layouts/application (82.2ms)
Completed 200 OK in 276ms (Views: 259.1ms | ActiveRecord: 12.2ms)


Started GET "/" for 127.0.0.1 at 2018-08-10 12:52:34 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.9ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (2.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (3.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:29
  [1m[36mBooking Load (3.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 1]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of bookings/_booking.html.erb [2 times] (4.1ms)
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mBooking Load (1.7ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 2]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 3]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of templates [0 times] (0.0ms)
  Rendered collection of flats/_flat.html.erb [3 times] (70.4ms)
  Rendered flats/index.html.erb within layouts/application (86.6ms)
Completed 200 OK in 312ms (Views: 293.9ms | ActiveRecord: 13.3ms)


Started GET "/" for 127.0.0.1 at 2018-08-10 12:52:51 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.9ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:29
  [1m[36mBooking Load (0.4ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 1]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of bookings/_booking.html.erb [2 times] (3.9ms)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 2]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of templates [0 times] (0.1ms)
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 3]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of templates [0 times] (0.0ms)
  Rendered collection of flats/_flat.html.erb [3 times] (62.8ms)
  Rendered flats/index.html.erb within layouts/application (82.1ms)
Completed 200 OK in 511ms (Views: 497.2ms | ActiveRecord: 5.9ms)


Started GET "/users/tork" for 127.0.0.1 at 2018-08-10 12:52:54 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"tork"}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."slug" = $1 LIMIT $2[0m  [["slug", "tork"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:3
  Rendering users/show.html.erb within layouts/application
  [1m[35m (1.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:17
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT "flats".* FROM "flats" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:51
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:29
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 3]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 1]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of bookings/_booking.html.erb [2 times] (0.9ms)
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 2]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of templates [0 times] (0.0ms)
  Rendered collection of flats/_flat.html.erb [3 times] (19.4ms)
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:55
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:1
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:1
  Rendered collection of bookings/_booking.html.erb [2 times] (3.6ms)
  Rendered users/show.html.erb within layouts/application (35.7ms)
Completed 200 OK in 303ms (Views: 286.9ms | ActiveRecord: 6.2ms)


Started GET "/" for 127.0.0.1 at 2018-08-10 12:53:14 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.0ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:29
  [1m[36mBooking Load (0.4ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 1]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of bookings/_booking.html.erb [2 times] (1.6ms)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 2]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of templates [0 times] (0.2ms)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mBooking Load (0.9ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 3]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of templates [0 times] (0.0ms)
  Rendered collection of flats/_flat.html.erb [3 times] (53.0ms)
  Rendered flats/index.html.erb within layouts/application (67.6ms)
Completed 200 OK in 537ms (Views: 528.9ms | ActiveRecord: 4.5ms)


Started GET "/users/tork" for 127.0.0.1 at 2018-08-10 12:53:17 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"tork"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."slug" = $1 LIMIT $2[0m  [["slug", "tork"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:3
  Rendering users/show.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:17
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT "flats".* FROM "flats" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:51
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:29
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 3]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mBooking Load (0.5ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 1]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of bookings/_booking.html.erb [2 times] (2.7ms)
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 2]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of templates [0 times] (0.0ms)
  Rendered collection of flats/_flat.html.erb [3 times] (23.7ms)
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:55
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:1
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:1
  Rendered collection of bookings/_booking.html.erb [2 times] (4.0ms)
  Rendered users/show.html.erb within layouts/application (38.2ms)
Completed 200 OK in 222ms (Views: 210.9ms | ActiveRecord: 6.2ms)


Started GET "/" for 127.0.0.1 at 2018-08-10 12:53:43 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.0ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:29
  [1m[36mBooking Load (0.4ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 1]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of bookings/_booking.html.erb [2 times] (1.0ms)
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mBooking Load (0.4ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 2]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of templates [0 times] (0.2ms)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 3]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of templates [0 times] (0.0ms)
  Rendered collection of flats/_flat.html.erb [3 times] (44.2ms)
  Rendered flats/index.html.erb within layouts/application (63.0ms)
Completed 200 OK in 494ms (Views: 487.0ms | ActiveRecord: 5.3ms)


Started GET "/" for 127.0.0.1 at 2018-08-10 12:55:05 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.1ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:29
  [1m[36mBooking Load (0.7ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 1]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of bookings/_booking.html.erb [2 times] (7.3ms)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 2]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 3]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of templates [0 times] (0.0ms)
  Rendered collection of flats/_flat.html.erb [3 times] (54.0ms)
  Rendered flats/index.html.erb within layouts/application (74.9ms)
Completed 200 OK in 519ms (Views: 511.6ms | ActiveRecord: 4.7ms)


Started GET "/" for 127.0.0.1 at 2018-08-10 12:55:30 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (3.9ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:29
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 1]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of bookings/_booking.html.erb [2 times] (1.3ms)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 2]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mBooking Load (1.6ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 3]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of templates [0 times] (0.0ms)
  Rendered collection of flats/_flat.html.erb [3 times] (43.8ms)
  Rendered flats/index.html.erb within layouts/application (58.5ms)
Completed 200 OK in 518ms (Views: 509.9ms | ActiveRecord: 6.9ms)


Started GET "/" for 127.0.0.1 at 2018-08-10 12:57:39 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.2ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:29
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 1]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of bookings/_booking.html.erb [2 times] (1.2ms)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 2]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 3]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of templates [0 times] (0.0ms)
  Rendered collection of flats/_flat.html.erb [3 times] (50.5ms)
  Rendered flats/index.html.erb within layouts/application (63.1ms)
Completed 200 OK in 449ms (Views: 438.5ms | ActiveRecord: 5.4ms)


Started GET "/users/tork" for 127.0.0.1 at 2018-08-10 12:58:51 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"tork"}
  [1m[36mUser Load (2.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."slug" = $1 LIMIT $2[0m  [["slug", "tork"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:3
  Rendering users/show.html.erb within layouts/application
  [1m[35m (1.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:17
  [1m[36mFlat Load (1.0ms)[0m  [1m[34mSELECT "flats".* FROM "flats" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:51
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:29
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 3]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 1]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of bookings/_booking.html.erb [2 times] (4.5ms)
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 2]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of templates [0 times] (0.0ms)
  Rendered collection of flats/_flat.html.erb [3 times] (30.1ms)
  [1m[36mBooking Load (1.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:55
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:1
  [1m[36mCACHE Flat Load (0.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:1
  Rendered collection of bookings/_booking.html.erb [2 times] (8.5ms)
  Rendered users/show.html.erb within layouts/application (58.4ms)
Completed 200 OK in 262ms (Views: 245.3ms | ActiveRecord: 8.8ms)


Started GET "/users/tork" for 127.0.0.1 at 2018-08-10 13:02:32 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"tork"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."slug" = $1 LIMIT $2[0m  [["slug", "tork"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:3
  Rendering users/show.html.erb within layouts/application
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:17
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT "flats".* FROM "flats" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:51
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:29
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 3]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 1]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of bookings/_booking.html.erb [2 times] (1.0ms)
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 2]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of templates [0 times] (0.1ms)
  Rendered collection of flats/_flat.html.erb [3 times] (30.7ms)
  [1m[36mBooking Load (1.5ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:55
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:1
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:1
  Rendered collection of bookings/_booking.html.erb [2 times] (6.6ms)
  Rendered users/show.html.erb within layouts/application (56.3ms)
Completed 200 OK in 414ms (Views: 405.3ms | ActiveRecord: 6.0ms)


Started GET "/users/tork" for 127.0.0.1 at 2018-08-10 13:08:39 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"tork"}
  [1m[36mUser Load (4.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."slug" = $1 LIMIT $2[0m  [["slug", "tork"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:8
  Rendering users/show.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:17
  [1m[36mFlat Load (0.2ms)[0m  [1m[34mSELECT "flats".* FROM "flats" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:51
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:29
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 3]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mBooking Load (0.4ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 1]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of bookings/_booking.html.erb [2 times] (1.0ms)
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 2]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of templates [0 times] (0.0ms)
  Rendered collection of flats/_flat.html.erb [3 times] (24.2ms)
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:55
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:1
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:1
  Rendered collection of bookings/_booking.html.erb [2 times] (10.2ms)
  Rendered users/show.html.erb within layouts/application (64.4ms)
Completed 200 OK in 354ms (Views: 313.6ms | ActiveRecord: 18.7ms)


Started GET "/users" for 127.0.0.1 at 2018-08-10 13:08:41 +0300
Processing by UsersController#index as HTML
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (3.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."vendor" = $1[0m  [["vendor", true]]
  ↳ app/views/users/index.html.erb:12
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/index.html.erb:16
  Rendered users/index.html.erb within layouts/application (8.8ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:51
Completed 200 OK in 255ms (Views: 246.4ms | ActiveRecord: 4.4ms)


Started GET "/users" for 127.0.0.1 at 2018-08-10 13:08:53 +0300
Processing by UsersController#index as HTML
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."vendor" = $1[0m  [["vendor", true]]
  ↳ app/views/users/index.html.erb:12
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/index.html.erb:16
  Rendered users/index.html.erb within layouts/application (6.7ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:51
Completed 200 OK in 475ms (Views: 471.5ms | ActiveRecord: 2.0ms)


Started GET "/users/1" for 127.0.0.1 at 2018-08-10 13:09:00 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."slug" = $1 LIMIT $2[0m  [["slug", "1"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:8
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:8
  Rendering users/show.html.erb within layouts/application
  [1m[35m (2.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:17
  [1m[36mFlat Load (0.9ms)[0m  [1m[34mSELECT "flats".* FROM "flats" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:51
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:29
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 3]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 1]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of bookings/_booking.html.erb [2 times] (1.6ms)
  [1m[36mBooking Load (4.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 2]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of templates [0 times] (0.0ms)
  Rendered collection of flats/_flat.html.erb [3 times] (20.1ms)
  [1m[36mBooking Load (2.1ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:55
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:1
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:1
  Rendered collection of bookings/_booking.html.erb [2 times] (5.5ms)
  Rendered users/show.html.erb within layouts/application (40.4ms)
Completed 200 OK in 238ms (Views: 220.8ms | ActiveRecord: 12.3ms)


Started GET "/users" for 127.0.0.1 at 2018-08-10 13:09:32 +0300
Processing by UsersController#index as HTML
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."vendor" = $1[0m  [["vendor", true]]
  ↳ app/views/users/index.html.erb:12
  [1m[35m (1.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/index.html.erb:16
  Rendered users/index.html.erb within layouts/application (6.4ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:51
Completed 200 OK in 194ms (Views: 189.7ms | ActiveRecord: 2.6ms)


Started GET "/users" for 127.0.0.1 at 2018-08-10 13:09:33 +0300
Processing by UsersController#index as HTML
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."vendor" = $1[0m  [["vendor", true]]
  ↳ app/views/users/index.html.erb:12
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/index.html.erb:16
  Rendered users/index.html.erb within layouts/application (4.8ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:51
Completed 200 OK in 178ms (Views: 175.8ms | ActiveRecord: 1.3ms)


Started GET "/users" for 127.0.0.1 at 2018-08-10 13:09:34 +0300
Processing by UsersController#index as HTML
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."vendor" = $1[0m  [["vendor", true]]
  ↳ app/views/users/index.html.erb:12
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/index.html.erb:16
  Rendered users/index.html.erb within layouts/application (7.9ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:51
Completed 200 OK in 198ms (Views: 194.5ms | ActiveRecord: 1.6ms)


Started GET "/secret" for 127.0.0.1 at 2018-08-10 13:09:36 +0300
Processing by UsersController#secret as HTML
  Rendering users/secret.html.erb within layouts/application
  [1m[35m (6.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"], ["vendor", true]]
  ↳ app/views/users/secret.html.erb:1
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"], ["vendor", false]]
  ↳ app/views/users/secret.html.erb:1
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:2
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:2
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:9
  Rendered users/secret.html.erb within layouts/application (16.3ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:51
Completed 200 OK in 234ms (Views: 213.8ms | ActiveRecord: 8.5ms)


Started GET "/flats/new" for 127.0.0.1 at 2018-08-10 13:09:41 +0300
Processing by FlatsController#new as HTML
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering flats/new.html.erb within layouts/application
  Rendered flats/_form.html.erb (6.0ms)
  Rendered flats/new.html.erb within layouts/application (7.8ms)
Completed 200 OK in 214ms (Views: 202.0ms | ActiveRecord: 1.3ms)


Started GET "/" for 127.0.0.1 at 2018-08-10 13:09:43 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.5ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:29
  [1m[36mBooking Load (1.1ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 1]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of bookings/_booking.html.erb [2 times] (1.6ms)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mBooking Load (0.7ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 2]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 3]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of templates [0 times] (0.0ms)
  Rendered collection of flats/_flat.html.erb [3 times] (42.9ms)
  Rendered flats/index.html.erb within layouts/application (55.4ms)
Completed 200 OK in 302ms (Views: 293.5ms | ActiveRecord: 5.0ms)


Started GET "/secret" for 127.0.0.1 at 2018-08-10 13:09:52 +0300
Processing by UsersController#secret as HTML
  Rendering users/secret.html.erb within layouts/application
  [1m[35m (1.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"], ["vendor", true]]
  ↳ app/views/users/secret.html.erb:1
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"], ["vendor", false]]
  ↳ app/views/users/secret.html.erb:1
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:2
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:2
  [1m[35mCACHE  (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:3
  [1m[35mCACHE  (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:9
  Rendered users/secret.html.erb within layouts/application (27.3ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:51
Completed 200 OK in 292ms (Views: 274.6ms | ActiveRecord: 6.0ms)


Started GET "/users" for 127.0.0.1 at 2018-08-10 13:14:13 +0300
Processing by UsersController#index as HTML
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."vendor" = $1[0m  [["vendor", true]]
  ↳ app/views/users/index.html.erb:12
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/index.html.erb:16
  Rendered users/index.html.erb within layouts/application (20.2ms)
Completed 500 Internal Server Error in 28ms (ActiveRecord: 4.8ms)


  
SyntaxError (/home/york/Документы/Projects/FlatBooking/app/views/layouts/application.html.erb:100: syntax error, unexpected keyword_ensure, expecting keyword_end
          ensure
          ^~~~~~
/home/york/Документы/Projects/FlatBooking/app/views/layouts/application.html.erb:102: syntax error, unexpected end-of-input, expecting keyword_end
          end
             ^):
  
app/views/layouts/application.html.erb:100: syntax error, unexpected keyword_ensure, expecting keyword_end
app/views/layouts/application.html.erb:102: syntax error, unexpected end-of-input, expecting keyword_end
Started GET "/secret" for 127.0.0.1 at 2018-08-10 13:14:52 +0300
Processing by UsersController#secret as HTML
  Rendering users/secret.html.erb within layouts/application
  [1m[35m (1.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"], ["vendor", true]]
  ↳ app/views/users/secret.html.erb:1
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"], ["vendor", false]]
  ↳ app/views/users/secret.html.erb:1
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:2
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:2
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:9
  Rendered users/secret.html.erb within layouts/application (15.1ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:51
Completed 200 OK in 458ms (Views: 414.3ms | ActiveRecord: 5.7ms)


Started GET "/users" for 127.0.0.1 at 2018-08-10 13:14:54 +0300
Processing by UsersController#index as HTML
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."vendor" = $1[0m  [["vendor", true]]
  ↳ app/views/users/index.html.erb:12
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/index.html.erb:16
  Rendered users/index.html.erb within layouts/application (6.9ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:51
Completed 200 OK in 205ms (Views: 200.5ms | ActiveRecord: 2.1ms)


Started GET "/secret" for 127.0.0.1 at 2018-08-10 13:14:55 +0300
Processing by UsersController#secret as HTML
  Rendering users/secret.html.erb within layouts/application
  [1m[35m (1.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"], ["vendor", true]]
  ↳ app/views/users/secret.html.erb:1
  [1m[35m (3.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"], ["vendor", false]]
  ↳ app/views/users/secret.html.erb:1
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:2
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:2
  [1m[35mCACHE  (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:3
  [1m[35mCACHE  (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:9
  Rendered users/secret.html.erb within layouts/application (33.3ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:51
Completed 200 OK in 328ms (Views: 309.2ms | ActiveRecord: 8.2ms)


Started GET "/flats/new" for 127.0.0.1 at 2018-08-10 13:14:56 +0300
Processing by FlatsController#new as HTML
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering flats/new.html.erb within layouts/application
  Rendered flats/_form.html.erb (5.9ms)
  Rendered flats/new.html.erb within layouts/application (7.2ms)
Completed 200 OK in 296ms (Views: 207.7ms | ActiveRecord: 9.6ms)


Started GET "/" for 127.0.0.1 at 2018-08-10 13:14:59 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.0ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:29
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 1]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of bookings/_booking.html.erb [2 times] (4.6ms)
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 2]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 3]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of templates [0 times] (0.0ms)
  Rendered collection of flats/_flat.html.erb [3 times] (47.8ms)
  Rendered flats/index.html.erb within layouts/application (55.5ms)
Completed 500 Internal Server Error in 759ms (ActiveRecord: 4.9ms)


  
ActionView::Template::Error (undefined local variable or method `active' for #<#<Class:0x00007f1739c82100>:0x00007f17393456c8>
Did you mean?  acts_like?):
    39:         <!-- Collect the nav links, forms, and other content for toggling -->
    40:         <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
    41:           <ul class="nav navbar-nav">
    42:             <li class="<%= active if current_page?(root_path) %>"><a href="<%= new_flat_path %>">Add new flat<span class="sr-only">(current)</span></a></li>
    43: 
    44: 
    45:             <li><a href="<%= users_path %>">Our vendors</a></li>
  
app/views/layouts/application.html.erb:42:in `_app_views_layouts_application_html_erb___3458506174483675995_69868860267640'
Started GET "/" for 127.0.0.1 at 2018-08-10 13:15:19 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.9ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (2.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:29
  [1m[36mBooking Load (1.0ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 1]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of bookings/_booking.html.erb [2 times] (1.0ms)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 2]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 3]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of templates [0 times] (0.0ms)
  Rendered collection of flats/_flat.html.erb [3 times] (49.5ms)
  Rendered flats/index.html.erb within layouts/application (63.2ms)
Completed 200 OK in 458ms (Views: 440.8ms | ActiveRecord: 5.8ms)


Started GET "/" for 127.0.0.1 at 2018-08-10 13:15:37 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.9ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:29
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 1]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of bookings/_booking.html.erb [2 times] (1.0ms)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mBooking Load (0.8ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 2]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mBooking Load (0.4ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 3]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of templates [0 times] (0.0ms)
  Rendered collection of flats/_flat.html.erb [3 times] (47.5ms)
  Rendered flats/index.html.erb within layouts/application (62.9ms)
Completed 200 OK in 448ms (Views: 440.1ms | ActiveRecord: 5.5ms)


Started GET "/flats/new" for 127.0.0.1 at 2018-08-10 13:15:39 +0300
Processing by FlatsController#new as HTML
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering flats/new.html.erb within layouts/application
  Rendered flats/_form.html.erb (18.7ms)
  Rendered flats/new.html.erb within layouts/application (22.2ms)
Completed 200 OK in 261ms (Views: 251.2ms | ActiveRecord: 1.3ms)


Started GET "/users" for 127.0.0.1 at 2018-08-10 13:15:40 +0300
Processing by UsersController#index as HTML
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."vendor" = $1[0m  [["vendor", true]]
  ↳ app/views/users/index.html.erb:12
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/index.html.erb:16
  Rendered users/index.html.erb within layouts/application (17.8ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:51
Completed 200 OK in 253ms (Views: 244.5ms | ActiveRecord: 2.9ms)


Started GET "/flats/new" for 127.0.0.1 at 2018-08-10 13:16:14 +0300
Processing by FlatsController#new as HTML
  [1m[36mUser Load (6.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering flats/new.html.erb within layouts/application
  Rendered flats/_form.html.erb (10.2ms)
  Rendered flats/new.html.erb within layouts/application (15.5ms)
Completed 200 OK in 258ms (Views: 245.5ms | ActiveRecord: 6.2ms)


Started GET "/users" for 127.0.0.1 at 2018-08-10 13:16:15 +0300
Processing by UsersController#index as HTML
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (3.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."vendor" = $1[0m  [["vendor", true]]
  ↳ app/views/users/index.html.erb:12
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/index.html.erb:16
  Rendered users/index.html.erb within layouts/application (16.0ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:51
Completed 200 OK in 272ms (Views: 262.1ms | ActiveRecord: 5.6ms)


Started GET "/secret" for 127.0.0.1 at 2018-08-10 13:16:16 +0300
Processing by UsersController#secret as HTML
  Rendering users/secret.html.erb within layouts/application
  [1m[35m (1.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"], ["vendor", true]]
  ↳ app/views/users/secret.html.erb:1
  [1m[35m (1.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"], ["vendor", false]]
  ↳ app/views/users/secret.html.erb:1
  [1m[35m (2.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:2
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:2
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:3
  [1m[35mCACHE  (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:9
  Rendered users/secret.html.erb within layouts/application (29.8ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:51
Completed 200 OK in 333ms (Views: 316.3ms | ActiveRecord: 7.3ms)


Started GET "/secret" for 127.0.0.1 at 2018-08-10 13:16:47 +0300
Processing by UsersController#secret as HTML
  Rendering users/secret.html.erb within layouts/application
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"], ["vendor", true]]
  ↳ app/views/users/secret.html.erb:1
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"], ["vendor", false]]
  ↳ app/views/users/secret.html.erb:1
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:2
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:2
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:9
  Rendered users/secret.html.erb within layouts/application (19.6ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
Completed 200 OK in 431ms (Views: 414.4ms | ActiveRecord: 3.1ms)


Started GET "/flats/new" for 127.0.0.1 at 2018-08-10 13:16:49 +0300
Processing by FlatsController#new as HTML
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering flats/new.html.erb within layouts/application
  Rendered flats/_form.html.erb (21.2ms)
  Rendered flats/new.html.erb within layouts/application (25.8ms)
Completed 200 OK in 273ms (Views: 259.7ms | ActiveRecord: 1.4ms)


Started GET "/users" for 127.0.0.1 at 2018-08-10 13:16:50 +0300
Processing by UsersController#index as HTML
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."vendor" = $1[0m  [["vendor", true]]
  ↳ app/views/users/index.html.erb:12
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/index.html.erb:16
  Rendered users/index.html.erb within layouts/application (11.6ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
Completed 200 OK in 232ms (Views: 224.5ms | ActiveRecord: 2.9ms)


Started GET "/secret" for 127.0.0.1 at 2018-08-10 13:16:51 +0300
Processing by UsersController#secret as HTML
  Rendering users/secret.html.erb within layouts/application
  [1m[35m (1.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"], ["vendor", true]]
  ↳ app/views/users/secret.html.erb:1
  [1m[35m (1.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"], ["vendor", false]]
  ↳ app/views/users/secret.html.erb:1
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:2
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:2
  [1m[35mCACHE  (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:9
  Rendered users/secret.html.erb within layouts/application (25.6ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
Completed 200 OK in 269ms (Views: 252.9ms | ActiveRecord: 5.9ms)


Started GET "/users" for 127.0.0.1 at 2018-08-10 13:17:14 +0300
Processing by UsersController#index as HTML
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (3.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."vendor" = $1[0m  [["vendor", true]]
  ↳ app/views/users/index.html.erb:12
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/index.html.erb:16
  Rendered users/index.html.erb within layouts/application (17.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
Completed 200 OK in 263ms (Views: 253.0ms | ActiveRecord: 5.4ms)


Started GET "/flats/new" for 127.0.0.1 at 2018-08-10 13:17:15 +0300
Processing by FlatsController#new as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering flats/new.html.erb within layouts/application
  Rendered flats/_form.html.erb (10.5ms)
  Rendered flats/new.html.erb within layouts/application (13.3ms)
Completed 200 OK in 297ms (Views: 290.5ms | ActiveRecord: 0.8ms)


Started GET "/secret" for 127.0.0.1 at 2018-08-10 13:17:16 +0300
Processing by UsersController#secret as HTML
  Rendering users/secret.html.erb within layouts/application
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"], ["vendor", true]]
  ↳ app/views/users/secret.html.erb:1
  [1m[35m (1.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"], ["vendor", false]]
  ↳ app/views/users/secret.html.erb:1
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:2
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:2
  [1m[35mCACHE  (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:3
  [1m[35mCACHE  (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:9
  Rendered users/secret.html.erb within layouts/application (25.2ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
Completed 200 OK in 302ms (Views: 287.0ms | ActiveRecord: 5.2ms)


Started GET "/users" for 127.0.0.1 at 2018-08-10 13:17:16 +0300
Processing by UsersController#index as HTML
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."vendor" = $1[0m  [["vendor", true]]
  ↳ app/views/users/index.html.erb:12
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/index.html.erb:16
  Rendered users/index.html.erb within layouts/application (12.6ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
Completed 200 OK in 275ms (Views: 267.9ms | ActiveRecord: 3.0ms)


Started GET "/flats/new" for 127.0.0.1 at 2018-08-10 13:17:16 +0300
Processing by FlatsController#new as HTML
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering flats/new.html.erb within layouts/application
  Rendered flats/_form.html.erb (16.2ms)
  Rendered flats/new.html.erb within layouts/application (20.8ms)
Completed 200 OK in 294ms (Views: 284.4ms | ActiveRecord: 1.2ms)


Started GET "/secret" for 127.0.0.1 at 2018-08-10 13:17:17 +0300
Processing by UsersController#secret as HTML
  Rendering users/secret.html.erb within layouts/application
  [1m[35m (1.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"], ["vendor", true]]
  ↳ app/views/users/secret.html.erb:1
  [1m[35m (1.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"], ["vendor", false]]
  ↳ app/views/users/secret.html.erb:1
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:2
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:2
  [1m[35mCACHE  (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:3
  [1m[35mCACHE  (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:9
  Rendered users/secret.html.erb within layouts/application (27.3ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
Completed 200 OK in 286ms (Views: 269.7ms | ActiveRecord: 5.9ms)


Started GET "/secret" for 127.0.0.1 at 2018-08-10 13:22:06 +0300
Processing by UsersController#secret as HTML
  Rendering users/secret.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"], ["vendor", true]]
  ↳ app/views/users/secret.html.erb:1
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"], ["vendor", false]]
  ↳ app/views/users/secret.html.erb:1
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:2
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:2
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:9
  Rendered users/secret.html.erb within layouts/application (5.9ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
Completed 200 OK in 319ms (Views: 299.5ms | ActiveRecord: 7.2ms)


Started GET "/secret" for 127.0.0.1 at 2018-08-10 13:22:12 +0300
Processing by UsersController#secret as HTML
  Rendering users/secret.html.erb within layouts/application
  [1m[35m (4.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"], ["vendor", true]]
  ↳ app/views/users/secret.html.erb:1
  [1m[35m (5.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"], ["vendor", false]]
  ↳ app/views/users/secret.html.erb:1
  [1m[35m (1.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:2
  [1m[35m (5.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:2
  [1m[35mCACHE  (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:3
  [1m[35mCACHE  (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:9
  Rendered users/secret.html.erb within layouts/application (46.1ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
Completed 200 OK in 282ms (Views: 253.3ms | ActiveRecord: 17.2ms)


Started GET "/secret" for 127.0.0.1 at 2018-08-10 13:24:26 +0300
Processing by UsersController#secret as HTML
  Rendering users/secret.html.erb within layouts/application
  [1m[35m (1.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"], ["vendor", true]]
  ↳ app/views/users/secret.html.erb:1
  [1m[35m (1.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"], ["vendor", false]]
  ↳ app/views/users/secret.html.erb:1
  [1m[35m (1.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:2
  [1m[35m (1.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:2
  [1m[35mCACHE  (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:3
  [1m[35mCACHE  (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:9
  Rendered users/secret.html.erb within layouts/application (30.8ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3 LIMIT $4[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"], ["vendor", true], ["LIMIT", 11]]
  ↳ /home/york/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:8
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3 LIMIT $4[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"], ["vendor", false], ["LIMIT", 11]]
  ↳ /home/york/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:8
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2 LIMIT $3[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"], ["LIMIT", 11]]
  ↳ /home/york/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:8
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2 LIMIT $3[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"], ["LIMIT", 11]]
  ↳ /home/york/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:8
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3 LIMIT $4[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"], ["vendor", true], ["LIMIT", 11]]
  ↳ /home/york/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:8
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3 LIMIT $4[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"], ["vendor", false], ["LIMIT", 11]]
  ↳ /home/york/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:8
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2 LIMIT $3[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"], ["LIMIT", 11]]
  ↳ /home/york/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:8
  [1m[36mCACHE Booking Load (0.0ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2 LIMIT $3[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"], ["LIMIT", 11]]
  ↳ /home/york/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:8
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3 LIMIT $4[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"], ["vendor", true], ["LIMIT", 11]]
  ↳ /home/york/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:8
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3 LIMIT $4[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"], ["vendor", false], ["LIMIT", 11]]
  ↳ /home/york/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:8
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2 LIMIT $3[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"], ["LIMIT", 11]]
  ↳ /home/york/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:8
  [1m[36mCACHE Booking Load (0.0ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2 LIMIT $3[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"], ["LIMIT", 11]]
  ↳ /home/york/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:8
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3 LIMIT $4[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"], ["vendor", true], ["LIMIT", 11]]
  ↳ /home/york/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:8
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3 LIMIT $4[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"], ["vendor", false], ["LIMIT", 11]]
  ↳ /home/york/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:8
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2 LIMIT $3[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"], ["LIMIT", 11]]
  ↳ /home/york/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:8
  [1m[36mCACHE Booking Load (0.0ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2 LIMIT $3[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"], ["LIMIT", 11]]
  ↳ /home/york/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:8
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3 LIMIT $4[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"], ["vendor", true], ["LIMIT", 11]]
  ↳ /home/york/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:4
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3 LIMIT $4[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"], ["vendor", false], ["LIMIT", 11]]
  ↳ /home/york/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:4
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2 LIMIT $3[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"], ["LIMIT", 11]]
  ↳ /home/york/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:4
  [1m[36mCACHE Booking Load (0.0ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2 LIMIT $3[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"], ["LIMIT", 11]]
  ↳ /home/york/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:4
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3 LIMIT $4[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"], ["vendor", true], ["LIMIT", 11]]
  ↳ /home/york/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:4
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3 LIMIT $4[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"], ["vendor", false], ["LIMIT", 11]]
  ↳ /home/york/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:4
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2 LIMIT $3[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"], ["LIMIT", 11]]
  ↳ /home/york/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:4
  [1m[36mCACHE Booking Load (0.0ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2 LIMIT $3[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"], ["LIMIT", 11]]
  ↳ /home/york/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:4
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3 LIMIT $4[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"], ["vendor", true], ["LIMIT", 11]]
  ↳ /home/york/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:4
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3 LIMIT $4[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"], ["vendor", false], ["LIMIT", 11]]
  ↳ /home/york/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:4
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2 LIMIT $3[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"], ["LIMIT", 11]]
  ↳ /home/york/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:4
  [1m[36mCACHE Booking Load (0.0ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2 LIMIT $3[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"], ["LIMIT", 11]]
  ↳ /home/york/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:4
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3 LIMIT $4[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"], ["vendor", true], ["LIMIT", 11]]
  ↳ /home/york/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:4
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3 LIMIT $4[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"], ["vendor", false], ["LIMIT", 11]]
  ↳ /home/york/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:4
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2 LIMIT $3[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"], ["LIMIT", 11]]
  ↳ /home/york/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:4
  [1m[36mCACHE Booking Load (0.0ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2 LIMIT $3[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"], ["LIMIT", 11]]
  ↳ /home/york/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:4
Completed 500 Internal Server Error in 932ms (ActiveRecord: 8.4ms)


  
ActionView::Template::Error (undefined local variable or method `bookings_path' for #<#<Class:0x00007f1739d2df78>:0x00007f1739e1d7d0>
Did you mean?  @booking):
    52:                   <ul class="dropdown-menu">
    53:                     <li><%= link_to 'Profile', user_path(current_user)%></li>
    54:                     <li role="separator" class="divider"></li>
    55:                     <li><%= link_to 'My booking', bookings_path %></li>
    56:                     <% if current_user.vendor %>
    57:                       <li><a href="#">My flat</a></li>
    58:                       <li><a href="#">Booking on my flat</a></li>
  
app/views/layouts/application.html.erb:55:in `_app_views_layouts_application_html_erb___3458506174483675995_69868866019600'
Started GET "/secret" for 127.0.0.1 at 2018-08-10 13:25:13 +0300
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by UsersController#secret as HTML
  Rendering users/secret.html.erb within layouts/application
  [1m[35m (2.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"], ["vendor", true]]
  ↳ app/views/users/secret.html.erb:1
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"], ["vendor", false]]
  ↳ app/views/users/secret.html.erb:1
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:2
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:2
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-10 00:00:00"], ["created_at", "2018-08-10 23:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:9
  Rendered users/secret.html.erb within layouts/application (38.5ms)
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
Completed 200 OK in 674ms (Views: 587.8ms | ActiveRecord: 25.1ms)


Started GET "/bookings" for 127.0.0.1 at 2018-08-10 13:25:16 +0300
Processing by BookingsController#index as HTML
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:6
  Rendering bookings/index.html.erb within layouts/application
  Rendered bookings/index.html.erb within layouts/application (1.0ms)
Completed 200 OK in 295ms (Views: 283.2ms | ActiveRecord: 1.6ms)


Started GET "/bookings" for 127.0.0.1 at 2018-08-10 13:28:11 +0300
Processing by BookingsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:6
  Rendering bookings/index.html.erb within layouts/application
  [1m[36mBooking Load (0.5ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/bookings/index.html.erb:3
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/index.html.erb:4
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/index.html.erb:4
  Rendered bookings/index.html.erb within layouts/application (124.5ms)
Completed 200 OK in 449ms (Views: 439.0ms | ActiveRecord: 5.6ms)


Started GET "/bookings" for 127.0.0.1 at 2018-08-10 13:28:59 +0300
Processing by BookingsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:6
  Rendering bookings/index.html.erb within layouts/application
  [1m[36mBooking Load (0.5ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/bookings/index.html.erb:3
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/index.html.erb:4
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/index.html.erb:4
  Rendered bookings/index.html.erb within layouts/application (12.0ms)
Completed 200 OK in 465ms (Views: 459.8ms | ActiveRecord: 1.4ms)


Started GET "/bookings" for 127.0.0.1 at 2018-08-10 13:31:47 +0300
Processing by BookingsController#index as HTML
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:6
  Rendering bookings/index.html.erb within layouts/application
  [1m[36mBooking Load (0.9ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/bookings/index.html.erb:3
  [1m[36mFlat Load (1.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/index.html.erb:4
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/index.html.erb:4
  Rendered bookings/index.html.erb within layouts/application (16.6ms)
Completed 200 OK in 368ms (Views: 355.2ms | ActiveRecord: 4.7ms)


Started GET "/bookings" for 127.0.0.1 at 2018-08-10 13:32:06 +0300
Processing by BookingsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:6
  Rendering bookings/index.html.erb within layouts/application
  [1m[36mBooking Load (0.4ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/bookings/index.html.erb:3
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/index.html.erb:4
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/index.html.erb:4
  Rendered bookings/index.html.erb within layouts/application (5.2ms)
Completed 200 OK in 408ms (Views: 401.6ms | ActiveRecord: 1.3ms)


Started GET "/bookings" for 127.0.0.1 at 2018-08-10 13:33:58 +0300
Processing by BookingsController#index as HTML
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:6
  Rendering bookings/index.html.erb within layouts/application
  [1m[36mBooking Load (0.6ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/bookings/index.html.erb:3
  [1m[36mFlat Load (0.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/index.html.erb:4
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/index.html.erb:4
  Rendered bookings/index.html.erb within layouts/application (13.9ms)
Completed 200 OK in 386ms (Views: 374.9ms | ActiveRecord: 3.1ms)


Started GET "/" for 127.0.0.1 at 2018-08-10 13:38:19 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.0ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:29
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 1]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of bookings/_booking.html.erb [2 times] (1.2ms)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 2]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 3]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of templates [0 times] (0.0ms)
  Rendered collection of flats/_flat.html.erb [3 times] (34.7ms)
  Rendered flats/index.html.erb within layouts/application (45.8ms)
Completed 200 OK in 228ms (Views: 222.0ms | ActiveRecord: 2.4ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-10 13:38:23 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (1.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:57
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (33.0ms)
  Rendered flats/show.html.erb within layouts/application (55.4ms)
Completed 200 OK in 276ms (Views: 260.1ms | ActiveRecord: 4.2ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-10 13:38:27 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (1.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:57
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (11.4ms)
  Rendered flats/show.html.erb within layouts/application (31.8ms)
Completed 200 OK in 416ms (Views: 401.4ms | ActiveRecord: 3.0ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-10 13:39:34 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:57
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (15.2ms)
  Rendered flats/show.html.erb within layouts/application (26.8ms)
Completed 200 OK in 624ms (Views: 618.3ms | ActiveRecord: 3.0ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-10 13:39:40 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:57
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (15.9ms)
  Rendered flats/show.html.erb within layouts/application (41.7ms)
Completed 200 OK in 362ms (Views: 350.3ms | ActiveRecord: 3.8ms)


Started GET "/" for 127.0.0.1 at 2018-08-10 13:39:52 +0300
  [1m[35m (2.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.3ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:29
  [1m[36mBooking Load (0.7ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 1]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of bookings/_booking.html.erb [2 times] (1.7ms)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mBooking Load (0.5ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 2]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 3]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of templates [0 times] (0.0ms)
  Rendered collection of flats/_flat.html.erb [3 times] (557.9ms)
  Rendered flats/index.html.erb within layouts/application (604.3ms)
Completed 200 OK in 1103ms (Views: 1067.7ms | ActiveRecord: 18.9ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-10 13:39:54 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:57
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (22.8ms)
  Rendered flats/show.html.erb within layouts/application (33.4ms)
Completed 200 OK in 249ms (Views: 240.2ms | ActiveRecord: 2.7ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-10 13:39:59 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (1.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:57
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (19.1ms)
  Rendered flats/show.html.erb within layouts/application (42.1ms)
Completed 200 OK in 468ms (Views: 454.6ms | ActiveRecord: 4.4ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-10 13:40:11 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (2.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:57
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (11.2ms)
  Rendered flats/show.html.erb within layouts/application (19.3ms)
Completed 200 OK in 361ms (Views: 344.6ms | ActiveRecord: 4.8ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-10 13:40:54 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:57
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (16.4ms)
  Rendered flats/show.html.erb within layouts/application (30.1ms)
Completed 200 OK in 478ms (Views: 471.0ms | ActiveRecord: 4.3ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-10 13:41:23 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:57
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (7.3ms)
  Rendered flats/show.html.erb within layouts/application (13.9ms)
Completed 200 OK in 397ms (Views: 391.3ms | ActiveRecord: 1.4ms)


Started GET "/" for 127.0.0.1 at 2018-08-10 13:41:59 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.9ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:29
  [1m[36mBooking Load (1.1ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 1]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of bookings/_booking.html.erb [2 times] (4.2ms)
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mBooking Load (4.8ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 2]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of templates [0 times] (0.1ms)
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mBooking Load (2.0ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 3]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of templates [0 times] (0.0ms)
  Rendered collection of flats/_flat.html.erb [3 times] (87.0ms)
  Rendered flats/index.html.erb within layouts/application (122.1ms)
Completed 200 OK in 444ms (Views: 426.3ms | ActiveRecord: 13.4ms)


Started GET "/" for 127.0.0.1 at 2018-08-10 13:42:00 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.0ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:29
  [1m[36mBooking Load (2.0ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 1]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of bookings/_booking.html.erb [2 times] (3.0ms)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 2]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 3]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of templates [0 times] (0.0ms)
  Rendered collection of flats/_flat.html.erb [3 times] (36.8ms)
  Rendered flats/index.html.erb within layouts/application (42.8ms)
Completed 200 OK in 277ms (Views: 271.1ms | ActiveRecord: 4.2ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-10 13:42:01 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:57
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (4.3ms)
  Rendered flats/show.html.erb within layouts/application (13.4ms)
Completed 200 OK in 242ms (Views: 234.3ms | ActiveRecord: 3.7ms)


Started GET "/" for 127.0.0.1 at 2018-08-10 13:43:02 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (5.2ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:29
  [1m[36mBooking Load (1.0ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 1]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of bookings/_booking.html.erb [2 times] (2.8ms)
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mBooking Load (0.6ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 2]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1[0m  [["flat_id", 3]]
  ↳ app/views/flats/_flat.html.erb:30
  Rendered collection of templates [0 times] (0.0ms)
  Rendered collection of flats/_flat.html.erb [3 times] (51.5ms)
  Rendered flats/index.html.erb within layouts/application (80.5ms)
Completed 200 OK in 305ms (Views: 288.9ms | ActiveRecord: 9.5ms)


Started GET "/" for 127.0.0.1 at 2018-08-10 13:43:39 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (38.6ms)
  Rendered flats/index.html.erb within layouts/application (48.0ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
Completed 200 OK in 459ms (Views: 454.9ms | ActiveRecord: 1.8ms)


Started GET "/bookings" for 127.0.0.1 at 2018-08-10 13:43:46 +0300
Processing by BookingsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:6
  Rendering bookings/index.html.erb within layouts/application
  [1m[36mBooking Load (0.5ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/bookings/index.html.erb:3
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/index.html.erb:4
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/index.html.erb:4
  Rendered bookings/index.html.erb within layouts/application (6.1ms)
Completed 200 OK in 195ms (Views: 190.7ms | ActiveRecord: 1.5ms)


Started GET "/bookings" for 127.0.0.1 at 2018-08-10 13:44:25 +0300
Processing by BookingsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:6
  Rendering bookings/index.html.erb within layouts/application
  [1m[36mBooking Load (4.6ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/bookings/index.html.erb:3
  [1m[36mFlat Load (1.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/index.html.erb:4
  [1m[36mCACHE Flat Load (0.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/index.html.erb:4
  Rendered bookings/index.html.erb within layouts/application (22.4ms)
Completed 200 OK in 428ms (Views: 418.5ms | ActiveRecord: 6.5ms)


Started GET "/bookings" for 127.0.0.1 at 2018-08-10 13:47:07 +0300
Processing by BookingsController#index as HTML
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:6
  Rendering bookings/index.html.erb within layouts/application
  [1m[36mBooking Load (7.1ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/bookings/index.html.erb:3
  [1m[36mFlat Load (1.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/index.html.erb:5
  [1m[36mCACHE Flat Load (0.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/index.html.erb:5
  Rendered bookings/index.html.erb within layouts/application (35.5ms)
Completed 500 Internal Server Error in 1678ms (ActiveRecord: 10.9ms)


  
ActionView::Template::Error (Invalid CSS after "...solid lightblue": expected "{", was ""):
     5:     <title>FlatBooking</title>
     6:     <%= csrf_meta_tags %>
     7:     <%= csp_meta_tag %>
     8:     <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %>
     9:     <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
    10: 
    11:     <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  
app/assets/stylesheets/bookings.scss:6
app/views/layouts/application.html.erb:8:in `_app_views_layouts_application_html_erb__3567825571874098199_70238774090400'
Started GET "/bookings" for 127.0.0.1 at 2018-08-10 13:47:50 +0300
Processing by BookingsController#index as HTML
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:6
  Rendering bookings/index.html.erb within layouts/application
  [1m[36mBooking Load (1.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/bookings/index.html.erb:3
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/index.html.erb:5
  [1m[36mCACHE Flat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/index.html.erb:5
  Rendered bookings/index.html.erb within layouts/application (24.0ms)
Completed 200 OK in 2222ms (Views: 2212.2ms | ActiveRecord: 3.9ms)


Started GET "/bookings" for 127.0.0.1 at 2018-08-10 13:48:18 +0300
Processing by BookingsController#index as HTML
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:6
  Rendering bookings/index.html.erb within layouts/application
  [1m[36mBooking Load (0.6ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/bookings/index.html.erb:3
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/index.html.erb:5
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/index.html.erb:5
  Rendered bookings/index.html.erb within layouts/application (8.7ms)
Completed 200 OK in 1923ms (Views: 1915.6ms | ActiveRecord: 2.0ms)


Started GET "/bookings" for 127.0.0.1 at 2018-08-10 13:48:56 +0300
Processing by BookingsController#index as HTML
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:6
  Rendering bookings/index.html.erb within layouts/application
  [1m[36mBooking Load (1.8ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/bookings/index.html.erb:3
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/index.html.erb:5
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/index.html.erb:5
  Rendered bookings/index.html.erb within layouts/application (18.9ms)
Completed 200 OK in 508ms (Views: 499.9ms | ActiveRecord: 3.7ms)


  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(8115692404137957555)[0m
  ↳ bin/rails:9
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
Migrating to CreateMessages (20180810105441)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ bin/rails:9
  [1m[35m (29.8ms)[0m  [1m[35mCREATE TABLE "messages" ("id" bigserial primary key, "user_id" bigint, "recipient" integer, "type" character varying, "body" text, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_273a25a7a6"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  ↳ db/migrate/20180810105441_create_messages.rb:3
  [1m[35m (4.0ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_user_id" ON "messages"  ("user_id")[0m
  ↳ db/migrate/20180810105441_create_messages.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20180810105441"]]
  ↳ bin/rails:9
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Load (1.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  ↳ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(8115692404137957555)[0m
  ↳ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
Started GET "/bookings" for 127.0.0.1 at 2018-08-10 14:13:06 +0300
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by BookingsController#index as HTML
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:6
  Rendering bookings/index.html.erb within layouts/application
  [1m[36mBooking Load (0.5ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/bookings/index.html.erb:3
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/index.html.erb:5
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/index.html.erb:5
  Rendered bookings/index.html.erb within layouts/application (26.5ms)
Completed 200 OK in 2625ms (Views: 2571.6ms | ActiveRecord: 21.4ms)


Started GET "/bookings" for 127.0.0.1 at 2018-08-10 14:13:09 +0300
Processing by BookingsController#index as HTML
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:6
  Rendering bookings/index.html.erb within layouts/application
  [1m[36mBooking Load (0.6ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/bookings/index.html.erb:3
  [1m[36mFlat Load (1.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/index.html.erb:5
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/index.html.erb:5
  Rendered bookings/index.html.erb within layouts/application (11.8ms)
Completed 200 OK in 484ms (Views: 473.1ms | ActiveRecord: 3.0ms)


Started GET "/bookings" for 127.0.0.1 at 2018-08-10 14:13:10 +0300
Processing by BookingsController#index as HTML
  [1m[36mUser Load (3.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:6
  Rendering bookings/index.html.erb within layouts/application
  [1m[36mBooking Load (1.4ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/bookings/index.html.erb:3
  [1m[36mFlat Load (1.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/index.html.erb:5
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/index.html.erb:5
  Rendered bookings/index.html.erb within layouts/application (29.3ms)
Completed 200 OK in 556ms (Views: 532.1ms | ActiveRecord: 6.5ms)


Started GET "/messages/new" for 127.0.0.1 at 2018-08-10 14:13:12 +0300
Processing by MessagesController#new as HTML
  Rendering messages/new.html.erb within layouts/application
  Rendered messages/_form.html.erb (388.4ms)
  Rendered messages/new.html.erb within layouts/application (390.0ms)
Completed 500 Internal Server Error in 405ms (ActiveRecord: 3.5ms)


  
ActionView::Template::Error (undefined local variable or method `f' for #<#<Class:0x00007fc3649f8150>:0x00007fc3649f6490>):
    11:     </div>
    12:   <% end %>
    13: 
    14:   <%= f.hidden_field :type, value: "message" %>
    15:   <%= f.hidden_field :recipient, value: "message" %>
    16: 
    17:   <p>Send to: </p>
  
app/views/messages/_form.html.erb:14:in `block in _app_views_messages__form_html_erb__3426759237316689963_70238591669180'
app/views/messages/_form.html.erb:1:in `_app_views_messages__form_html_erb__3426759237316689963_70238591669180'
app/views/messages/new.html.erb:3:in `_app_views_messages_new_html_erb___1992141946791567382_70238591763840'
Started GET "/messages/new" for 127.0.0.1 at 2018-08-10 14:13:31 +0300
Processing by MessagesController#new as HTML
  Rendering messages/new.html.erb within layouts/application
  Rendered messages/_form.html.erb (3.3ms)
  Rendered messages/new.html.erb within layouts/application (4.8ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
Completed 200 OK in 492ms (Views: 489.8ms | ActiveRecord: 0.4ms)


Started GET "/bookings" for 127.0.0.1 at 2018-08-10 14:14:44 +0300
Processing by BookingsController#index as HTML
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:6
  Rendering bookings/index.html.erb within layouts/application
  [1m[36mBooking Load (0.5ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/bookings/index.html.erb:3
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/index.html.erb:5
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/index.html.erb:5
  Rendered bookings/index.html.erb within layouts/application (8.7ms)
Completed 200 OK in 619ms (Views: 606.4ms | ActiveRecord: 2.9ms)


Started GET "/messages/new.1" for 127.0.0.1 at 2018-08-10 14:14:48 +0300
Processing by MessagesController#new as 
  Rendering messages/new.html.erb within layouts/application
  Rendered messages/_form.html.erb (5.5ms)
  Rendered messages/new.html.erb within layouts/application (11.6ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
Completed 200 OK in 312ms (Views: 297.2ms | ActiveRecord: 0.5ms)


Started GET "/messages/new.1" for 127.0.0.1 at 2018-08-10 14:19:45 +0300
Processing by MessagesController#new as 
  Rendering messages/new.html.erb within layouts/application
  Rendered messages/_form.html.erb (1.8ms)
  Rendered messages/new.html.erb within layouts/application (8.1ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
Completed 200 OK in 378ms (Views: 344.6ms | ActiveRecord: 6.6ms)


Started GET "/messages/new.1" for 127.0.0.1 at 2018-08-10 14:20:47 +0300
Processing by MessagesController#new as 
  Rendering messages/new.html.erb within layouts/application
  Rendered messages/_form.html.erb (5.8ms)
  Rendered messages/new.html.erb within layouts/application (18.6ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
Completed 200 OK in 471ms (Views: 444.2ms | ActiveRecord: 0.6ms)


Started GET "/messages/new.1" for 127.0.0.1 at 2018-08-10 14:21:04 +0300
Processing by MessagesController#new as 
  Rendering messages/new.html.erb within layouts/application
  Rendered messages/_form.html.erb (6.4ms)
  Rendered messages/new.html.erb within layouts/application (17.5ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
Completed 200 OK in 457ms (Views: 447.0ms | ActiveRecord: 0.5ms)


Started GET "/messages/new.1" for 127.0.0.1 at 2018-08-10 14:23:03 +0300
Processing by MessagesController#new as 
  Rendering messages/new.html.erb within layouts/application
  Rendered messages/_form.html.erb (1.7ms)
  Rendered messages/new.html.erb within layouts/application (10.5ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
Completed 200 OK in 410ms (Views: 387.5ms | ActiveRecord: 5.5ms)


Started GET "/messages/new.1" for 127.0.0.1 at 2018-08-10 14:23:13 +0300
Processing by MessagesController#new as 
  Rendering messages/new.html.erb within layouts/application
  Rendered messages/_form.html.erb (2.0ms)
  Rendered messages/new.html.erb within layouts/application (10.5ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
Completed 200 OK in 436ms (Views: 427.1ms | ActiveRecord: 0.4ms)


Started GET "/messages/new.1" for 127.0.0.1 at 2018-08-10 14:23:16 +0300
Processing by MessagesController#new as 
  Rendering messages/new.html.erb within layouts/application
  Rendered messages/_form.html.erb (3.8ms)
  Rendered messages/new.html.erb within layouts/application (16.7ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
Completed 200 OK in 511ms (Views: 481.3ms | ActiveRecord: 0.4ms)


Started GET "/messages/new.1" for 127.0.0.1 at 2018-08-10 14:23:31 +0300
Processing by MessagesController#new as 
  Rendering messages/new.html.erb within layouts/application
  Rendered messages/_form.html.erb (3.8ms)
  Rendered messages/new.html.erb within layouts/application (14.9ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
Completed 200 OK in 400ms (Views: 362.2ms | ActiveRecord: 19.2ms)


Started GET "/messages/new.1" for 127.0.0.1 at 2018-08-10 14:26:27 +0300
Processing by MessagesController#new as 
Completed 500 Internal Server Error in 222ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `sanitize_for_mass_assignment' for #<MessagesController:0x00007fc36539f258>):
  
app/controllers/messages_controller.rb:52:in `new_message_params'
app/controllers/messages_controller.rb:10:in `new'
Started GET "/messages/new.1" for 127.0.0.1 at 2018-08-10 14:28:13 +0300
Processing by MessagesController#new as 
  Rendering messages/new.html.erb within layouts/application
  Rendered messages/_form.html.erb (7.6ms)
  Rendered messages/new.html.erb within layouts/application (15.1ms)
Completed 500 Internal Server Error in 68ms (ActiveRecord: 6.3ms)


  
ActionView::Template::Error (undefined method `[]' for nil:NilClass):
    12:   <% end %>
    13: 
    14:   <%= form.hidden_field :type, value: "message" %>
    15:   <%= form.hidden_field :recipient, value: params[:my_service][:recipient] %>
    16: 
    17:   <p>Send to: <%=  params[:my_service] %> </p>
    18: 
  
app/views/messages/_form.html.erb:15:in `block in _app_views_messages__form_html_erb__3426759237316689963_46990604798620'
app/views/messages/_form.html.erb:1:in `_app_views_messages__form_html_erb__3426759237316689963_46990604798620'
app/views/messages/new.html.erb:3:in `_app_views_messages_new_html_erb___1992141946791567382_46990604465040'
Started GET "/messages/new.1" for 127.0.0.1 at 2018-08-10 14:28:48 +0300
Processing by MessagesController#new as 
  Rendering messages/new.html.erb within layouts/application
  Rendered messages/_form.html.erb (5.7ms)
  Rendered messages/new.html.erb within layouts/application (14.3ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
Completed 200 OK in 673ms (Views: 661.6ms | ActiveRecord: 3.3ms)


Started GET "/messages/new.1" for 127.0.0.1 at 2018-08-10 14:30:10 +0300
Processing by MessagesController#new as 
  Rendering messages/new.html.erb within layouts/application
  Rendered messages/_form.html.erb (10.1ms)
  Rendered messages/new.html.erb within layouts/application (19.9ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
Completed 200 OK in 479ms (Views: 439.2ms | ActiveRecord: 10.7ms)


Started GET "/messages/new.1" for 127.0.0.1 at 2018-08-10 14:30:14 +0300
Processing by MessagesController#new as 
  Rendering messages/new.html.erb within layouts/application
  Rendered messages/_form.html.erb (9.0ms)
  Rendered messages/new.html.erb within layouts/application (22.6ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
Completed 200 OK in 425ms (Views: 401.9ms | ActiveRecord: 0.3ms)


Started GET "/messages/new.1" for 127.0.0.1 at 2018-08-10 14:30:52 +0300
Processing by MessagesController#new as 
Completed 500 Internal Server Error in 260ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `sanitize_for_mass_assignment' for #<MessagesController:0x00007fc379d35560>):
  
app/controllers/messages_controller.rb:52:in `new_message_params'
app/controllers/messages_controller.rb:10:in `new'
Started GET "/messages/new.1" for 127.0.0.1 at 2018-08-10 14:32:29 +0300
Processing by MessagesController#new as 
Completed 400 Bad Request in 3ms (ActiveRecord: 0.0ms)


  
ActionController::ParameterMissing (param is missing or the value is empty: message):
  
app/controllers/messages_controller.rb:52:in `new_message_params'
app/controllers/messages_controller.rb:10:in `new'
Started GET "/messages/new.1" for 127.0.0.1 at 2018-08-10 14:36:15 +0300
Processing by MessagesController#new as 
  Rendering messages/new.html.erb within layouts/application
  Rendered messages/_form.html.erb (6.1ms)
  Rendered messages/new.html.erb within layouts/application (16.8ms)
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
Completed 200 OK in 518ms (Views: 469.5ms | ActiveRecord: 9.6ms)


Started GET "/messages/new.1" for 127.0.0.1 at 2018-08-10 14:36:22 +0300
Processing by MessagesController#new as 
  Rendering messages/new.html.erb within layouts/application
  Rendered messages/_form.html.erb (3.3ms)
  Rendered messages/new.html.erb within layouts/application (25.4ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
Completed 200 OK in 407ms (Views: 387.8ms | ActiveRecord: 0.5ms)


Started GET "/messages/new.1" for 127.0.0.1 at 2018-08-10 14:40:19 +0300
Processing by MessagesController#new as 
  Rendering messages/new.html.erb within layouts/application
  Rendered messages/_form.html.erb (3.6ms)
  Rendered messages/new.html.erb within layouts/application (28.2ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
Completed 200 OK in 393ms (Views: 372.3ms | ActiveRecord: 0.4ms)


Started GET "/messages/new.1" for 127.0.0.1 at 2018-08-10 14:41:08 +0300
Processing by MessagesController#new as 
  Rendering messages/new.html.erb within layouts/application
  Rendered messages/_form.html.erb (5.7ms)
  Rendered messages/new.html.erb within layouts/application (14.4ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
Completed 200 OK in 369ms (Views: 342.3ms | ActiveRecord: 0.4ms)


Started GET "/messages/new.1" for 127.0.0.1 at 2018-08-10 14:44:31 +0300
Processing by MessagesController#new as 
  Rendering messages/new.html.erb within layouts/application
  Rendered messages/_form.html.erb (4.2ms)
  Rendered messages/new.html.erb within layouts/application (19.4ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
Completed 200 OK in 497ms (Views: 467.0ms | ActiveRecord: 0.4ms)


Started GET "/messages/new.1" for 127.0.0.1 at 2018-08-10 14:44:34 +0300
Processing by MessagesController#new as 
  Rendering messages/new.html.erb within layouts/application
  Rendered messages/_form.html.erb (12.7ms)
  Rendered messages/new.html.erb within layouts/application (21.0ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
Completed 200 OK in 361ms (Views: 330.6ms | ActiveRecord: 0.4ms)


Started GET "/messages/new.1" for 127.0.0.1 at 2018-08-10 14:44:44 +0300
Processing by MessagesController#new as 
  Rendering messages/new.html.erb within layouts/application
  Rendered messages/_form.html.erb (13.2ms)
  Rendered messages/new.html.erb within layouts/application (37.1ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
Completed 200 OK in 487ms (Views: 463.8ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2018-08-10 14:45:37 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.2ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (22.1ms)
  Rendered flats/index.html.erb within layouts/application (64.9ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
Completed 200 OK in 300ms (Views: 274.5ms | ActiveRecord: 8.3ms)


Started GET "/bookings" for 127.0.0.1 at 2018-08-10 14:45:41 +0300
Processing by BookingsController#index as HTML
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:6
  Rendering bookings/index.html.erb within layouts/application
  [1m[36mBooking Load (2.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/bookings/index.html.erb:3
  [1m[36mFlat Load (2.9ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/index.html.erb:5
  Rendered bookings/index.html.erb within layouts/application (91.5ms)
Completed 500 Internal Server Error in 132ms (ActiveRecord: 21.2ms)


  
ActionView::Template::Error (undefined method `flats' for #<Booking:0x00007fc36c154ac8>
Did you mean?  flat
               flat=):
     6: 
     7: 
     8:     <p>Date from <%= booking.start_date %> to <%= booking.end_date %></p>
     9:     <%= link_to "Send message to vendor", new_message_path, data: {recipient: booking.flats}, class: "btn btn-primary" %>
    10:     <%= link_to "Cancel booking", [booking.flat, booking], method: :delete,
    11:             data: { confirm: 'Are you sure?' }, class: "btn btn-danger" %>
    12:   </div>
  
app/views/bookings/index.html.erb:9:in `block in _app_views_bookings_index_html_erb__1873379291545506435_70238654788620'
app/views/bookings/index.html.erb:3:in `_app_views_bookings_index_html_erb__1873379291545506435_70238654788620'
Started GET "/bookings" for 127.0.0.1 at 2018-08-10 14:45:59 +0300
Processing by BookingsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:6
  Rendering bookings/index.html.erb within layouts/application
  [1m[36mBooking Load (2.4ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/bookings/index.html.erb:3
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/index.html.erb:5
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/index.html.erb:9
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/index.html.erb:5
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/index.html.erb:9
  Rendered bookings/index.html.erb within layouts/application (36.9ms)
Completed 200 OK in 472ms (Views: 462.2ms | ActiveRecord: 4.2ms)


Started GET "/bookings" for 127.0.0.1 at 2018-08-10 14:46:24 +0300
Processing by BookingsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:6
  Rendering bookings/index.html.erb within layouts/application
  [1m[36mBooking Load (0.5ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/bookings/index.html.erb:3
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/index.html.erb:5
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/index.html.erb:5
  Rendered bookings/index.html.erb within layouts/application (10.7ms)
Completed 200 OK in 517ms (Views: 508.6ms | ActiveRecord: 1.5ms)


Started GET "/bookings" for 127.0.0.1 at 2018-08-10 14:47:20 +0300
Processing by BookingsController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:6
  Rendering bookings/index.html.erb within layouts/application
  [1m[36mBooking Load (1.4ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/bookings/index.html.erb:3
  [1m[36mFlat Load (2.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/index.html.erb:5
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/index.html.erb:5
  Rendered bookings/index.html.erb within layouts/application (19.7ms)
Completed 200 OK in 444ms (Views: 434.9ms | ActiveRecord: 4.3ms)


Started GET "/messages/new?recipient=1" for 127.0.0.1 at 2018-08-10 14:47:24 +0300
Processing by MessagesController#new as HTML
  Parameters: {"recipient"=>"1"}
  Rendering messages/new.html.erb within layouts/application
  Rendered messages/_form.html.erb (2.7ms)
  Rendered messages/new.html.erb within layouts/application (3.9ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
Completed 200 OK in 262ms (Views: 259.6ms | ActiveRecord: 0.4ms)


Started GET "/messages/new?recipient=1" for 127.0.0.1 at 2018-08-10 14:49:42 +0300
Processing by MessagesController#new as HTML
  Parameters: {"recipient"=>"1"}
  Rendering messages/new.html.erb within layouts/application
  Rendered messages/_form.html.erb (8.2ms)
  Rendered messages/new.html.erb within layouts/application (12.2ms)
Completed 500 Internal Server Error in 65ms (ActiveRecord: 9.3ms)


  
ActionView::Template::Error (undefined method `name' for 1:Integer):
    14:   <%= form.hidden_field :type, value: "message" %>
    15:   <%= form.hidden_field :recipient, value: message.recipient %>
    16: 
    17:   <p>Send to: <%=  params[:recipient] %> <%=  message.recipient.name %> </p>
    18: 
    19:   <div class="field form-group">
    20:     <%= form.label :body %>
  
app/views/messages/_form.html.erb:17:in `block in _app_views_messages__form_html_erb__3426759237316689963_70238769730960'
app/views/messages/_form.html.erb:1:in `_app_views_messages__form_html_erb__3426759237316689963_70238769730960'
app/views/messages/new.html.erb:3:in `_app_views_messages_new_html_erb___1992141946791567382_70238769695860'
Started GET "/" for 127.0.0.1 at 2018-08-10 14:50:02 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.2ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (76.6ms)
  Rendered flats/index.html.erb within layouts/application (121.2ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
Completed 200 OK in 413ms (Views: 384.0ms | ActiveRecord: 17.8ms)


Started GET "/bookings" for 127.0.0.1 at 2018-08-10 14:50:09 +0300
Processing by BookingsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:6
  Rendering bookings/index.html.erb within layouts/application
  [1m[36mBooking Load (0.6ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/bookings/index.html.erb:3
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/index.html.erb:5
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/index.html.erb:9
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/index.html.erb:5
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/index.html.erb:9
  Rendered bookings/index.html.erb within layouts/application (43.6ms)
Completed 200 OK in 291ms (Views: 274.8ms | ActiveRecord: 6.2ms)


Started GET "/messages/new?recipient=tork" for 127.0.0.1 at 2018-08-10 14:50:10 +0300
Processing by MessagesController#new as HTML
  Parameters: {"recipient"=>"tork"}
  Rendering messages/new.html.erb within layouts/application
  Rendered messages/_form.html.erb (16.6ms)
  Rendered messages/new.html.erb within layouts/application (20.3ms)
Completed 500 Internal Server Error in 35ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (undefined method `name' for 0:Integer):
    14:   <%= form.hidden_field :type, value: "message" %>
    15:   <%= form.hidden_field :recipient, value: message.recipient %>
    16: 
    17:   <p>Send to: <%=  params[:recipient] %> <%=  message.recipient.name %> </p>
    18: 
    19:   <div class="field form-group">
    20:     <%= form.label :body %>
  
app/views/messages/_form.html.erb:17:in `block in _app_views_messages__form_html_erb__3426759237316689963_70238592999900'
app/views/messages/_form.html.erb:1:in `_app_views_messages__form_html_erb__3426759237316689963_70238592999900'
app/views/messages/new.html.erb:3:in `_app_views_messages_new_html_erb___1992141946791567382_70238593042600'
Started GET "/messages/new?recipient=tork" for 127.0.0.1 at 2018-08-10 14:50:24 +0300
Processing by MessagesController#new as HTML
  Parameters: {"recipient"=>"tork"}
  Rendering messages/new.html.erb within layouts/application
  Rendered messages/_form.html.erb (5.5ms)
  Rendered messages/new.html.erb within layouts/application (10.6ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
Completed 200 OK in 456ms (Views: 453.9ms | ActiveRecord: 0.4ms)


Started GET "/messages/new?recipient=tork" for 127.0.0.1 at 2018-08-10 14:50:46 +0300
Processing by MessagesController#new as HTML
  Parameters: {"recipient"=>"tork"}
  Rendering messages/new.html.erb within layouts/application
  Rendered messages/_form.html.erb (4.3ms)
  Rendered messages/new.html.erb within layouts/application (5.9ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
Completed 200 OK in 502ms (Views: 500.0ms | ActiveRecord: 0.6ms)


Started GET "/messages/new?recipient=tork" for 127.0.0.1 at 2018-08-10 14:50:58 +0300
Processing by MessagesController#new as HTML
  Parameters: {"recipient"=>"tork"}
  Rendering messages/new.html.erb within layouts/application
  Rendered messages/_form.html.erb (12.8ms)
  Rendered messages/new.html.erb within layouts/application (18.1ms)
Completed 500 Internal Server Error in 27ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (undefined method `name' for "tork":String):
    14:   <%= form.hidden_field :type, value: "message" %>
    15:   <%= form.hidden_field :recipient, value: message.recipient %>
    16: 
    17:   <p>Send to: <%=  params[:recipient].name %> </p>
    18: 
    19:   <div class="field form-group">
    20:     <%= form.label :body %>
  
app/views/messages/_form.html.erb:17:in `block in _app_views_messages__form_html_erb__3426759237316689963_70238596031760'
app/views/messages/_form.html.erb:1:in `_app_views_messages__form_html_erb__3426759237316689963_70238596031760'
app/views/messages/new.html.erb:3:in `_app_views_messages_new_html_erb___1992141946791567382_70238596056460'
Started GET "/" for 127.0.0.1 at 2018-08-10 14:51:08 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.1ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (35.6ms)
  Rendered flats/index.html.erb within layouts/application (55.2ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
Completed 200 OK in 614ms (Views: 604.6ms | ActiveRecord: 2.6ms)


Started GET "/bookings" for 127.0.0.1 at 2018-08-10 14:51:13 +0300
Processing by BookingsController#index as HTML
  [1m[36mUser Load (2.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:6
  Rendering bookings/index.html.erb within layouts/application
  [1m[36mBooking Load (1.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/bookings/index.html.erb:3
  [1m[36mFlat Load (1.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/index.html.erb:5
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/index.html.erb:9
  [1m[36mCACHE Flat Load (0.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/index.html.erb:5
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/index.html.erb:9
  Rendered bookings/index.html.erb within layouts/application (35.7ms)
Completed 200 OK in 309ms (Views: 292.5ms | ActiveRecord: 6.9ms)


Started GET "/messages/new?recipient=tork" for 127.0.0.1 at 2018-08-10 14:51:25 +0300
Processing by MessagesController#new as HTML
  Parameters: {"recipient"=>"tork"}
  Rendering messages/new.html.erb within layouts/application
  Rendered messages/_form.html.erb (16.2ms)
  Rendered messages/new.html.erb within layouts/application (20.9ms)
Completed 500 Internal Server Error in 38ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (undefined method `name' for "tork":String):
    14:   <%= form.hidden_field :type, value: "message" %>
    15:   <%= form.hidden_field :recipient, value: message.recipient %>
    16: 
    17:   <p>Send to: <%=  params[:recipient].name %> </p>
    18: 
    19:   <div class="field form-group">
    20:     <%= form.label :body %>
  
app/views/messages/_form.html.erb:17:in `block in _app_views_messages__form_html_erb__3426759237316689963_70238598438960'
app/views/messages/_form.html.erb:1:in `_app_views_messages__form_html_erb__3426759237316689963_70238598438960'
app/views/messages/new.html.erb:3:in `_app_views_messages_new_html_erb___1992141946791567382_70238598472220'
Started GET "/bookings" for 127.0.0.1 at 2018-08-10 14:51:29 +0300
Processing by BookingsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:6
  Rendering bookings/index.html.erb within layouts/application
  [1m[36mBooking Load (0.5ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/bookings/index.html.erb:3
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/index.html.erb:5
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/index.html.erb:9
  [1m[36mCACHE Flat Load (0.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/index.html.erb:5
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/index.html.erb:9
  Rendered bookings/index.html.erb within layouts/application (17.4ms)
Completed 200 OK in 503ms (Views: 498.4ms | ActiveRecord: 1.9ms)


Started GET "/bookings" for 127.0.0.1 at 2018-08-10 14:51:30 +0300
Processing by BookingsController#index as HTML
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:6
  Rendering bookings/index.html.erb within layouts/application
  [1m[36mBooking Load (0.8ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/bookings/index.html.erb:3
  [1m[36mFlat Load (2.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/index.html.erb:5
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/index.html.erb:9
  [1m[36mCACHE Flat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/index.html.erb:5
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/index.html.erb:9
  Rendered bookings/index.html.erb within layouts/application (43.5ms)
Completed 200 OK in 514ms (Views: 499.4ms | ActiveRecord: 5.9ms)


Started GET "/bookings" for 127.0.0.1 at 2018-08-10 14:51:37 +0300
Processing by BookingsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:6
  Rendering bookings/index.html.erb within layouts/application
  [1m[36mBooking Load (0.5ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/bookings/index.html.erb:3
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/index.html.erb:5
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/index.html.erb:9
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/index.html.erb:5
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/index.html.erb:9
  Rendered bookings/index.html.erb within layouts/application (20.5ms)
Completed 200 OK in 458ms (Views: 452.7ms | ActiveRecord: 1.8ms)


Started GET "/messages/new?recipient=tork" for 127.0.0.1 at 2018-08-10 14:51:38 +0300
Processing by MessagesController#new as HTML
  Parameters: {"recipient"=>"tork"}
  Rendering messages/new.html.erb within layouts/application
  Rendered messages/_form.html.erb (7.5ms)
  Rendered messages/new.html.erb within layouts/application (12.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
Completed 200 OK in 339ms (Views: 330.9ms | ActiveRecord: 0.3ms)


Started GET "/bookings" for 127.0.0.1 at 2018-08-10 14:52:15 +0300
Processing by BookingsController#index as HTML
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:6
  Rendering bookings/index.html.erb within layouts/application
  [1m[36mBooking Load (1.9ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/bookings/index.html.erb:3
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/index.html.erb:5
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/index.html.erb:5
  Rendered bookings/index.html.erb within layouts/application (23.2ms)
Completed 200 OK in 433ms (Views: 410.5ms | ActiveRecord: 4.4ms)


Started GET "/messages/new?recipient=1" for 127.0.0.1 at 2018-08-10 14:52:17 +0300
Processing by MessagesController#new as HTML
  Parameters: {"recipient"=>"1"}
  Rendering messages/new.html.erb within layouts/application
  Rendered messages/_form.html.erb (6.9ms)
  Rendered messages/new.html.erb within layouts/application (11.0ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
Completed 200 OK in 395ms (Views: 390.0ms | ActiveRecord: 0.5ms)


Started GET "/messages/new?recipient=1" for 127.0.0.1 at 2018-08-10 14:54:19 +0300
Processing by MessagesController#new as HTML
  Parameters: {"recipient"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:12
  Rendering messages/new.html.erb within layouts/application
  Rendered messages/_form.html.erb (2.6ms)
  Rendered messages/new.html.erb within layouts/application (4.1ms)
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
Completed 200 OK in 450ms (Views: 329.2ms | ActiveRecord: 16.4ms)


Started POST "/messages" for 127.0.0.1 at 2018-08-10 14:56:51 +0300
Processing by MessagesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Qbpd1x4R1NGW4O0xG3vPzyNAS5V6Rqc8a/6rx8a2qchSz98VdLERVZrWkdf7Y7korXWURE6MEGgBek5Wgo+7Ug==", "message"=>{"type"=>"message", "recipient"=>"1", "body"=>"Hi, I need rend a car"}, "commit"=>"Save"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:20
Completed 500 Internal Server Error in 15ms (ActiveRecord: 0.7ms)


  
ActiveRecord::SubclassNotFound (The single-table inheritance mechanism failed to locate the subclass: 'message'. This error is raised because the column 'type' is reserved for storing the class in case of inheritance. Please rename this column if you didn't intend it to be used for storing the inheritance class or overwrite Message.inheritance_column to use another column for that information.):
  
app/controllers/messages_controller.rb:20:in `create'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(8115692404137957555)[0m
  ↳ bin/rails:9
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
Migrating to RemoveMessageType (20180810115845)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ bin/rails:9
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "messages" DROP COLUMN "type"[0m
  ↳ db/migrate/20180810115845_remove_message_type.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20180810115845"]]
  ↳ bin/rails:9
  [1m[35m (2.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  ↳ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(8115692404137957555)[0m
  ↳ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
Started POST "/messages" for 127.0.0.1 at 2018-08-10 15:00:18 +0300
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by MessagesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Qbpd1x4R1NGW4O0xG3vPzyNAS5V6Rqc8a/6rx8a2qchSz98VdLERVZrWkdf7Y7korXWURE6MEGgBek5Wgo+7Ug==", "message"=>{"type"=>"message", "recipient"=>"1", "body"=>"Hi, I need rend a car"}, "commit"=>"Save"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:20
Completed 500 Internal Server Error in 70ms (ActiveRecord: 14.1ms)


  
ActiveModel::UnknownAttributeError (unknown attribute 'type' for Message.):
  
app/controllers/messages_controller.rb:20:in `create'
Started GET "/messages/new?recipient=1" for 127.0.0.1 at 2018-08-10 15:00:26 +0300
Processing by MessagesController#new as HTML
  Parameters: {"recipient"=>"1"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:12
  Rendering messages/new.html.erb within layouts/application
  Rendered messages/_form.html.erb (6.1ms)
  Rendered messages/new.html.erb within layouts/application (9.3ms)
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
Completed 200 OK in 490ms (Views: 476.1ms | ActiveRecord: 1.5ms)


Started GET "/" for 127.0.0.1 at 2018-08-10 15:00:33 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.6ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (19.4ms)
  Rendered flats/index.html.erb within layouts/application (109.6ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
Completed 200 OK in 366ms (Views: 323.9ms | ActiveRecord: 14.0ms)


Started GET "/bookings" for 127.0.0.1 at 2018-08-10 15:00:35 +0300
Processing by BookingsController#index as HTML
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:6
  Rendering bookings/index.html.erb within layouts/application
  [1m[36mBooking Load (2.4ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/bookings/index.html.erb:3
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/index.html.erb:5
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/index.html.erb:5
  Rendered bookings/index.html.erb within layouts/application (64.2ms)
Completed 200 OK in 343ms (Views: 304.8ms | ActiveRecord: 17.8ms)


Started GET "/messages/new?recipient=1" for 127.0.0.1 at 2018-08-10 15:00:36 +0300
Processing by MessagesController#new as HTML
  Parameters: {"recipient"=>"1"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:12
  Rendering messages/new.html.erb within layouts/application
  Rendered messages/_form.html.erb (8.9ms)
  Rendered messages/new.html.erb within layouts/application (15.0ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
Completed 200 OK in 329ms (Views: 316.5ms | ActiveRecord: 1.3ms)


Started POST "/messages" for 127.0.0.1 at 2018-08-10 15:01:08 +0300
Processing by MessagesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"ZhYdRGYHys0z7VioVijSrFcZnixKPFD6/cIf2LUWdGAaab4ujkYpRaQkyXw6eM9cSrvwN70BBL5xfC4siuNWBw==", "message"=>{"recipient"=>"1", "body"=>"Hi, I need rent a car"}, "commit"=>"Save"}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:20
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/messages_controller.rb:23
  [1m[36mMessage Create (0.9ms)[0m  [1m[32mINSERT INTO "messages" ("user_id", "recipient", "body", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 1], ["recipient", 1], ["body", "Hi, I need rent a car"], ["created_at", "2018-08-10 12:01:09.165897"], ["updated_at", "2018-08-10 12:01:09.165897"]]
  ↳ app/controllers/messages_controller.rb:23
  [1m[35m (2.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/messages_controller.rb:23
Redirected to 
Completed 500 Internal Server Error in 78ms (ActiveRecord: 21.8ms)


  
ActionController::ActionControllerError (Cannot redirect to nil!):
  
app/controllers/messages_controller.rb:26:in `create'
Started GET "/messages/new?recipient=1" for 127.0.0.1 at 2018-08-10 15:02:24 +0300
Processing by MessagesController#new as HTML
  Parameters: {"recipient"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:12
  Rendering messages/new.html.erb within layouts/application
  Rendered messages/_form.html.erb (1.7ms)
  Rendered messages/new.html.erb within layouts/application (2.6ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
Completed 200 OK in 270ms (Views: 228.9ms | ActiveRecord: 7.8ms)


Started POST "/messages" for 127.0.0.1 at 2018-08-10 15:03:03 +0300
Processing by MessagesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Igo0TIuoSCYmosDUy0ysbPtYARujvN87LK8LEGDjcGFedZcmY+mrrrFrUQCnHLGc5vpvAFSBi3+gETrkXxZSBg==", "message"=>{"recipient"=>"1", "body"=>"Hi, add lunch in my order"}, "commit"=>"Save"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:20
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/messages_controller.rb:23
  [1m[36mMessage Create (0.7ms)[0m  [1m[32mINSERT INTO "messages" ("user_id", "recipient", "body", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 1], ["recipient", 1], ["body", "Hi, add lunch in my order"], ["created_at", "2018-08-10 12:03:03.354582"], ["updated_at", "2018-08-10 12:03:03.354582"]]
  ↳ app/controllers/messages_controller.rb:23
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/messages_controller.rb:23
Redirected to http://localhost:3000/
Completed 302 Found in 20ms (ActiveRecord: 2.9ms)


Started GET "/" for 127.0.0.1 at 2018-08-10 15:03:03 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.4ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (21.9ms)
  Rendered flats/index.html.erb within layouts/application (89.9ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
Completed 200 OK in 392ms (Views: 360.4ms | ActiveRecord: 17.1ms)


Started GET "/bookings" for 127.0.0.1 at 2018-08-10 15:14:43 +0300
Processing by BookingsController#index as HTML
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:6
  Rendering bookings/index.html.erb within layouts/application
  [1m[36mBooking Load (0.5ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/bookings/index.html.erb:3
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/index.html.erb:5
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/index.html.erb:5
  Rendered bookings/index.html.erb within layouts/application (52.6ms)
Completed 200 OK in 360ms (Views: 308.0ms | ActiveRecord: 18.7ms)


Started GET "/messages/new?recipient=1" for 127.0.0.1 at 2018-08-10 15:14:45 +0300
Processing by MessagesController#new as HTML
  Parameters: {"recipient"=>"1"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:12
  Rendering messages/new.html.erb within layouts/application
  Rendered messages/_form.html.erb (16.1ms)
  Rendered messages/new.html.erb within layouts/application (19.3ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
Completed 200 OK in 348ms (Views: 273.7ms | ActiveRecord: 16.5ms)


Started POST "/messages" for 127.0.0.1 at 2018-08-10 15:15:26 +0300
Processing by MessagesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"HOZ+Oz0jV/x6mz99znX1ZsH3xPokhztU02s8g4NjftNgmd1R1WK0dO1SrqmiJeiW3FWq4dO6bxBf1Q13vJZctA==", "message"=>{"recipient"=>"1", "body"=>"Hi, I need beer in my room"}, "commit"=>"Save"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:20
  [1m[35m (1.0ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/messages_controller.rb:23
  [1m[36mMessage Create (1.3ms)[0m  [1m[32mINSERT INTO "messages" ("user_id", "recipient", "body", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 1], ["recipient", 1], ["body", "Hi, I need beer in my room"], ["created_at", "2018-08-10 12:15:26.719392"], ["updated_at", "2018-08-10 12:15:26.719392"]]
  ↳ app/controllers/messages_controller.rb:23
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/messages_controller.rb:23
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:24
MessageMailer#mail_messsage: processed outbound mail in 21.8ms
Completed 500 Internal Server Error in 461ms (ActiveRecord: 5.5ms)


  
ActionView::MissingTemplate (Missing template message_mailer/mail_messsage with "mailer". Searched in:
  * "message_mailer"
):
  
app/mailers/message_mailer.rb:6:in `mail_messsage'
app/controllers/messages_controller.rb:25:in `create'
Started POST "/messages" for 127.0.0.1 at 2018-08-10 15:16:18 +0300
Processing by MessagesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"7gSLJWKxYt2GerNjW1E942+w94rLK4ouB29pfdBXOhD9cQnnCBGnWYpMz4W7SUsE4YUoW//hPXpt64zslG4oig==", "message"=>{"recipient"=>"1", "body"=>"Hi, I need beer in my room"}, "commit"=>"Save"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:20
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/messages_controller.rb:23
  [1m[36mMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "messages" ("user_id", "recipient", "body", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 1], ["recipient", 1], ["body", "Hi, I need beer in my room"], ["created_at", "2018-08-10 12:16:18.815528"], ["updated_at", "2018-08-10 12:16:18.815528"]]
  ↳ app/controllers/messages_controller.rb:23
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/messages_controller.rb:23
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:24
MessageMailer#mail_message: processed outbound mail in 21.7ms
Completed 500 Internal Server Error in 98ms (ActiveRecord: 8.8ms)


  
ActionView::MissingTemplate (Missing template message_mailer/mail_message with "mailer". Searched in:
  * "message_mailer"
):
  
app/mailers/message_mailer.rb:6:in `mail_message'
app/controllers/messages_controller.rb:25:in `create'
Started POST "/messages" for 127.0.0.1 at 2018-08-10 15:16:56 +0300
Processing by MessagesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"7gSLJWKxYt2GerNjW1E942+w94rLK4ouB29pfdBXOhD9cQnnCBGnWYpMz4W7SUsE4YUoW//hPXpt64zslG4oig==", "message"=>{"recipient"=>"1", "body"=>"Hi, I need beer in my room"}, "commit"=>"Save"}
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:20
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/messages_controller.rb:23
  [1m[36mMessage Create (1.5ms)[0m  [1m[32mINSERT INTO "messages" ("user_id", "recipient", "body", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 1], ["recipient", 1], ["body", "Hi, I need beer in my room"], ["created_at", "2018-08-10 12:16:56.127679"], ["updated_at", "2018-08-10 12:16:56.127679"]]
  ↳ app/controllers/messages_controller.rb:23
  [1m[35m (3.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/messages_controller.rb:23
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:24
  Rendering message_mailer/mail_message.html.erb within layouts/mailer
  Rendered message_mailer/mail_message.html.erb within layouts/mailer (1.2ms)
  Rendering message_mailer/mail_message.text.erb within layouts/mailer
  Rendered message_mailer/mail_message.text.erb within layouts/mailer (0.6ms)
MessageMailer#mail_message: processed outbound mail in 105.0ms
Sent mail to tork@gmail.com (59.8ms)
Date: Fri, 10 Aug 2018 15:16:56 +0300
From: yorkqw@gmail.com
To: tork@gmail.com
Message-ID: <5b6d823840434_13f02abcd95c07cc51352@york-HP-250-G5-Notebook-PC.mail>
Subject: Tenant send you a message
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5b6d82383dfd4_13f02abcd95c07cc512ee";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5b6d82383dfd4_13f02abcd95c07cc512ee
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

@message.body


----==_mimepart_5b6d82383dfd4_13f02abcd95c07cc512ee
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <p>@message.body</p>

  </body>
</html>

----==_mimepart_5b6d82383dfd4_13f02abcd95c07cc512ee--

Redirected to http://localhost:3000/
Completed 302 Found in 210ms (ActiveRecord: 8.0ms)


Started GET "/" for 127.0.0.1 at 2018-08-10 15:16:56 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.9ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (65.8ms)
  Rendered flats/index.html.erb within layouts/application (152.8ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
Completed 200 OK in 528ms (Views: 506.0ms | ActiveRecord: 6.9ms)


Started POST "/messages" for 127.0.0.1 at 2018-08-10 15:17:57 +0300
Processing by MessagesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"7gSLJWKxYt2GerNjW1E942+w94rLK4ouB29pfdBXOhD9cQnnCBGnWYpMz4W7SUsE4YUoW//hPXpt64zslG4oig==", "message"=>{"recipient"=>"1", "body"=>"Hi, I need gide"}, "commit"=>"Save"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:20
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/messages_controller.rb:23
  [1m[36mMessage Create (0.7ms)[0m  [1m[32mINSERT INTO "messages" ("user_id", "recipient", "body", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 1], ["recipient", 1], ["body", "Hi, I need gide"], ["created_at", "2018-08-10 12:17:57.034881"], ["updated_at", "2018-08-10 12:17:57.034881"]]
  ↳ app/controllers/messages_controller.rb:23
  [1m[35m (2.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/messages_controller.rb:23
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:24
  Rendering message_mailer/mail_message.html.erb within layouts/mailer
  Rendered message_mailer/mail_message.html.erb within layouts/mailer (3.7ms)
  Rendering message_mailer/mail_message.text.erb within layouts/mailer
  Rendered message_mailer/mail_message.text.erb within layouts/mailer (5.1ms)
MessageMailer#mail_message: processed outbound mail in 47.1ms
Sent mail to tork@gmail.com (74.2ms)
Date: Fri, 10 Aug 2018 15:17:57 +0300
From: yorkqw@gmail.com
To: tork@gmail.com
Message-ID: <5b6d8275183a8_13f02abcd95c12e45151f@york-HP-250-G5-Notebook-PC.mail>
Subject: Tenant send you a message
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5b6d827515154_13f02abcd95c12e4514f3";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5b6d827515154_13f02abcd95c12e4514f3
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi, I need gide


----==_mimepart_5b6d827515154_13f02abcd95c12e4514f3
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <p>Hi, I need gide</p>

  </body>
</html>

----==_mimepart_5b6d827515154_13f02abcd95c12e4514f3--

Redirected to http://localhost:3000/
Completed 302 Found in 143ms (ActiveRecord: 4.7ms)


Started GET "/" for 127.0.0.1 at 2018-08-10 15:17:57 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (23.6ms)
  Rendered flats/index.html.erb within layouts/application (49.7ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
Completed 200 OK in 440ms (Views: 434.1ms | ActiveRecord: 1.5ms)


Started GET "/bookings" for 127.0.0.1 at 2018-08-10 15:19:00 +0300
Processing by BookingsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:6
  Rendering bookings/index.html.erb within layouts/application
  [1m[36mBooking Load (0.4ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/bookings/index.html.erb:3
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/index.html.erb:5
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/index.html.erb:5
  Rendered bookings/index.html.erb within layouts/application (51.9ms)
Completed 200 OK in 508ms (Views: 476.8ms | ActiveRecord: 9.5ms)


Started GET "/messages/new?recipient=1" for 127.0.0.1 at 2018-08-10 15:19:02 +0300
Processing by MessagesController#new as HTML
  Parameters: {"recipient"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:12
  Rendering messages/new.html.erb within layouts/application
  Rendered messages/_form.html.erb (14.3ms)
  Rendered messages/new.html.erb within layouts/application (18.6ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
Completed 200 OK in 356ms (Views: 300.4ms | ActiveRecord: 13.4ms)


Started POST "/messages" for 127.0.0.1 at 2018-08-10 15:19:17 +0300
Processing by MessagesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"uX0TwLcr95wh1MbeKM6SJxpQGzzOHdCG5iaDgsSgFrjFArCqX2oUFLYdVwpEno/XB/J1JzkghMJqmLJ2+1U03w==", "message"=>{"recipient"=>"1", "body"=>"Now i have the dog"}, "commit"=>"Save"}
  [1m[36mUser Load (2.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:20
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/messages_controller.rb:23
  [1m[36mMessage Create (1.0ms)[0m  [1m[32mINSERT INTO "messages" ("user_id", "recipient", "body", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 1], ["recipient", 1], ["body", "Now i have the dog"], ["created_at", "2018-08-10 12:19:17.559857"], ["updated_at", "2018-08-10 12:19:17.559857"]]
  ↳ app/controllers/messages_controller.rb:23
  [1m[35m (3.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/messages_controller.rb:23
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:24
  Rendering message_mailer/mail_message.html.erb within layouts/mailer
  Rendered message_mailer/mail_message.html.erb within layouts/mailer (3.4ms)
  Rendering message_mailer/mail_message.text.erb within layouts/mailer
  Rendered message_mailer/mail_message.text.erb within layouts/mailer (0.9ms)
MessageMailer#mail_message: processed outbound mail in 37.6ms
Sent mail to tork@gmail.com (81.0ms)
Date: Fri, 10 Aug 2018 15:19:17 +0300
From: yorkqw@gmail.com
To: tork@gmail.com
Message-ID: <5b6d82c59a631_13f02abcd95c07cc5178d@york-HP-250-G5-Notebook-PC.mail>
Subject: Tenant <%= @message.user.name %> send you a message
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5b6d82c595ddb_13f02abcd95c07cc516eb";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5b6d82c595ddb_13f02abcd95c07cc516eb
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Now i have the dog


----==_mimepart_5b6d82c595ddb_13f02abcd95c07cc516eb
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <p>Now i have the dog</p>

  </body>
</html>

----==_mimepart_5b6d82c595ddb_13f02abcd95c07cc516eb--

Redirected to http://localhost:3000/
Completed 302 Found in 174ms (ActiveRecord: 8.7ms)


Started GET "/" for 127.0.0.1 at 2018-08-10 15:19:17 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (42.9ms)
  Rendered flats/index.html.erb within layouts/application (65.5ms)
  [1m[36mUser Load (2.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
Completed 200 OK in 465ms (Views: 457.5ms | ActiveRecord: 3.6ms)


Started GET "/bookings" for 127.0.0.1 at 2018-08-10 15:19:53 +0300
Processing by BookingsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:6
  Rendering bookings/index.html.erb within layouts/application
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/bookings/index.html.erb:3
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/index.html.erb:5
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/index.html.erb:5
  Rendered bookings/index.html.erb within layouts/application (46.8ms)
Completed 200 OK in 383ms (Views: 323.5ms | ActiveRecord: 15.1ms)


Started GET "/messages/new?recipient=1" for 127.0.0.1 at 2018-08-10 15:19:55 +0300
Processing by MessagesController#new as HTML
  Parameters: {"recipient"=>"1"}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:12
  Rendering messages/new.html.erb within layouts/application
  Rendered messages/_form.html.erb (10.5ms)
  Rendered messages/new.html.erb within layouts/application (14.3ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
Completed 200 OK in 342ms (Views: 269.8ms | ActiveRecord: 14.2ms)


Started POST "/messages" for 127.0.0.1 at 2018-08-10 15:20:03 +0300
Processing by MessagesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"H+kMc/x0jrc5S0bEYtSMnokxqgnMDemaIktCBAvr85Fjlq8ZFDVtP66C1xAOhJFulJPEEjswvd6u9XPwNB7R9g==", "message"=>{"recipient"=>"1", "body"=>"and cat"}, "commit"=>"Save"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:20
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/messages_controller.rb:23
  [1m[36mMessage Create (0.6ms)[0m  [1m[32mINSERT INTO "messages" ("user_id", "recipient", "body", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 1], ["recipient", 1], ["body", "and cat"], ["created_at", "2018-08-10 12:20:03.548227"], ["updated_at", "2018-08-10 12:20:03.548227"]]
  ↳ app/controllers/messages_controller.rb:23
  [1m[35m (2.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/messages_controller.rb:23
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:24
  Rendering message_mailer/mail_message.html.erb within layouts/mailer
  Rendered message_mailer/mail_message.html.erb within layouts/mailer (2.2ms)
  Rendering message_mailer/mail_message.text.erb within layouts/mailer
  Rendered message_mailer/mail_message.text.erb within layouts/mailer (0.8ms)
MessageMailer#mail_message: processed outbound mail in 38.6ms
Sent mail to tork@gmail.com (69.0ms)
Date: Fri, 10 Aug 2018 15:20:03 +0300
From: yorkqw@gmail.com
To: tork@gmail.com
Message-ID: <5b6d82f397ca4_13f02abcd95c08a8519a6@york-HP-250-G5-Notebook-PC.mail>
Subject: Tenant Tork send you a message
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5b6d82f396218_13f02abcd95c08a851826";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5b6d82f396218_13f02abcd95c08a851826
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

and cat


----==_mimepart_5b6d82f396218_13f02abcd95c08a851826
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <p>and cat</p>

  </body>
</html>

----==_mimepart_5b6d82f396218_13f02abcd95c08a851826--

Redirected to http://localhost:3000/
Completed 302 Found in 156ms (ActiveRecord: 4.7ms)


Started GET "/" for 127.0.0.1 at 2018-08-10 15:20:03 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.8ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (38.1ms)
  Rendered flats/index.html.erb within layouts/application (57.5ms)
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
Completed 200 OK in 429ms (Views: 419.7ms | ActiveRecord: 2.8ms)


Started GET "/users/tork" for 127.0.0.1 at 2018-08-10 15:21:22 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"tork"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."slug" = $1 LIMIT $2[0m  [["slug", "tork"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:8
  Rendering users/show.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:17
  [1m[36mFlat Load (3.0ms)[0m  [1m[34mSELECT "flats".* FROM "flats" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:51
  Rendered collection of flats/_flat.html.erb [3 times] (21.8ms)
  [1m[36mUser Load (2.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/users/show.html.erb:53
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:55
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:1
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:1
  Rendered collection of bookings/_booking.html.erb [2 times] (6.1ms)
  Rendered users/show.html.erb within layouts/application (69.6ms)
Completed 200 OK in 326ms (Views: 311.9ms | ActiveRecord: 7.7ms)


Started GET "/users/tork" for 127.0.0.1 at 2018-08-10 15:27:47 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"tork"}
  [1m[36mUser Load (3.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."slug" = $1 LIMIT $2[0m  [["slug", "tork"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:8
  Rendering users/show.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:17
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT "flats".* FROM "flats" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:51
  Rendered collection of flats/_flat.html.erb [3 times] (13.6ms)
  [1m[36mUser Load (2.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/users/show.html.erb:53
  [1m[36mBooking Load (1.4ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:55
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:1
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:1
  Rendered collection of bookings/_booking.html.erb [2 times] (5.1ms)
  Rendered users/show.html.erb within layouts/application (127.7ms)
Completed 200 OK in 604ms (Views: 517.7ms | ActiveRecord: 37.0ms)


Started GET "/messages" for 127.0.0.1 at 2018-08-10 15:27:50 +0300
Processing by MessagesController#index as HTML
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:3
  Rendering messages/index.html.erb within layouts/application
  Rendered messages/index.html.erb within layouts/application (0.7ms)
Completed 200 OK in 263ms (Views: 250.0ms | ActiveRecord: 5.5ms)


Started GET "/messages" for 127.0.0.1 at 2018-08-10 15:31:32 +0300
Processing by MessagesController#index as HTML
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:3
  Rendering messages/index.html.erb within layouts/application
  [1m[36mMessage Load (0.7ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient" = $1[0m  [["recipient", 1]]
  ↳ app/views/messages/index.html.erb:2
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/messages/index.html.erb:4
  Rendered messages/index.html.erb within layouts/application (64.7ms)
Completed 500 Internal Server Error in 78ms (ActiveRecord: 10.8ms)


  
ActionView::Template::Error (undefined method `create_at' for #<Message:0x00007fc364c671e8>
Did you mean?  created_at
               created_at?
               created_at=):
    4:     <h2>message from <%= link_to message.user.name, user_path(message.user) %> </h2>
    5: 
    6: 
    7:     <p>Send at <%= message.create_at %></p>
    8:   </div>
    9: <% end %>
  
app/views/messages/index.html.erb:7:in `block in _app_views_messages_index_html_erb___2783574079180677505_70238593470280'
app/views/messages/index.html.erb:2:in `_app_views_messages_index_html_erb___2783574079180677505_70238593470280'
Started GET "/messages" for 127.0.0.1 at 2018-08-10 15:31:44 +0300
Processing by MessagesController#index as HTML
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:3
  Rendering messages/index.html.erb within layouts/application
  [1m[36mMessage Load (0.6ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient" = $1[0m  [["recipient", 1]]
  ↳ app/views/messages/index.html.erb:2
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/messages/index.html.erb:4
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/messages/index.html.erb:4
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/messages/index.html.erb:4
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/messages/index.html.erb:4
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/messages/index.html.erb:4
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/messages/index.html.erb:4
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/messages/index.html.erb:4
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/messages/index.html.erb:4
  Rendered messages/index.html.erb within layouts/application (24.1ms)
Completed 200 OK in 2215ms (Views: 2205.4ms | ActiveRecord: 3.0ms)


Started GET "/messages" for 127.0.0.1 at 2018-08-10 15:32:48 +0300
Processing by MessagesController#index as HTML
  [1m[36mUser Load (2.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:3
  Rendering messages/index.html.erb within layouts/application
  [1m[36mMessage Load (1.8ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient" = $1[0m  [["recipient", 1]]
  ↳ app/views/messages/index.html.erb:2
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/messages/index.html.erb:4
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/messages/index.html.erb:4
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/messages/index.html.erb:4
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/messages/index.html.erb:4
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/messages/index.html.erb:4
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/messages/index.html.erb:4
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/messages/index.html.erb:4
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/messages/index.html.erb:4
  Rendered messages/index.html.erb within layouts/application (40.0ms)
Completed 200 OK in 460ms (Views: 446.3ms | ActiveRecord: 5.4ms)


Started GET "/messages" for 127.0.0.1 at 2018-08-10 15:33:02 +0300
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:3
  Rendering messages/index.html.erb within layouts/application
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient" = $1[0m  [["recipient", 1]]
  ↳ app/views/messages/index.html.erb:2
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/messages/index.html.erb:4
  [1m[36mCACHE User Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/messages/index.html.erb:4
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/messages/index.html.erb:4
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/messages/index.html.erb:4
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/messages/index.html.erb:4
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/messages/index.html.erb:4
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/messages/index.html.erb:4
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/messages/index.html.erb:4
  Rendered messages/index.html.erb within layouts/application (35.0ms)
Completed 200 OK in 488ms (Views: 479.5ms | ActiveRecord: 2.9ms)


Started GET "/messages" for 127.0.0.1 at 2018-08-10 15:48:21 +0300
Processing by MessagesController#index as HTML
  [1m[36mUser Load (4.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:3
  Rendering messages/index.html.erb within layouts/application
  [1m[36mMessage Load (0.6ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient" = $1[0m  [["recipient", 1]]
  ↳ app/views/messages/index.html.erb:2
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/messages/index.html.erb:4
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/messages/index.html.erb:4
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/messages/index.html.erb:4
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/messages/index.html.erb:4
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/messages/index.html.erb:4
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/messages/index.html.erb:4
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/messages/index.html.erb:4
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/messages/index.html.erb:4
  Rendered messages/index.html.erb within layouts/application (51.8ms)
Completed 200 OK in 499ms (Views: 399.8ms | ActiveRecord: 27.5ms)


Started GET "/bookings_on_my_flat" for 127.0.0.1 at 2018-08-10 15:48:24 +0300
Processing by BookingsController#vedor_booking as HTML
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:10
Completed 406 Not Acceptable in 128ms (ActiveRecord: 11.5ms)


  
ActionController::UnknownFormat (BookingsController#vedor_booking is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []

NOTE! For XHR/Ajax or API requests, this action would normally respond with 204 No Content: an empty white screen. Since you're loading it in a web browser, we assume that you expected to actually render a template, not nothing, so we're showing an error to be extra-clear. If you expect 204 No Content, carry on. That's what you'll get from an XHR or API request. Give it a shot.):
  
actionpack (5.2.0) lib/action_controller/metal/implicit_render.rb:55:in `default_render'
actionpack (5.2.0) lib/action_controller/metal/basic_implicit_render.rb:6:in `block in send_action'
actionpack (5.2.0) lib/action_controller/metal/basic_implicit_render.rb:6:in `tap'
actionpack (5.2.0) lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
actionpack (5.2.0) lib/abstract_controller/base.rb:194:in `process_action'
actionpack (5.2.0) lib/action_controller/metal/rendering.rb:30:in `process_action'
actionpack (5.2.0) lib/abstract_controller/callbacks.rb:42:in `block in process_action'
activesupport (5.2.0) lib/active_support/callbacks.rb:132:in `run_callbacks'
actionpack (5.2.0) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (5.2.0) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (5.2.0) lib/action_controller/metal/instrumentation.rb:34:in `block in process_action'
activesupport (5.2.0) lib/active_support/notifications.rb:168:in `block in instrument'
activesupport (5.2.0) lib/active_support/notifications/instrumenter.rb:23:in `instrument'
activesupport (5.2.0) lib/active_support/notifications.rb:168:in `instrument'
actionpack (5.2.0) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (5.2.0) lib/action_controller/metal/params_wrapper.rb:256:in `process_action'
activerecord (5.2.0) lib/active_record/railties/controller_runtime.rb:24:in `process_action'
actionpack (5.2.0) lib/abstract_controller/base.rb:134:in `process'
actionview (5.2.0) lib/action_view/rendering.rb:32:in `process'
actionpack (5.2.0) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (5.2.0) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (5.2.0) lib/action_dispatch/routing/route_set.rb:52:in `dispatch'
actionpack (5.2.0) lib/action_dispatch/routing/route_set.rb:34:in `serve'
actionpack (5.2.0) lib/action_dispatch/journey/router.rb:52:in `block in serve'
actionpack (5.2.0) lib/action_dispatch/journey/router.rb:35:in `each'
actionpack (5.2.0) lib/action_dispatch/journey/router.rb:35:in `serve'
actionpack (5.2.0) lib/action_dispatch/routing/route_set.rb:840:in `call'
warden (1.2.7) lib/warden/manager.rb:36:in `block in call'
warden (1.2.7) lib/warden/manager.rb:35:in `catch'
warden (1.2.7) lib/warden/manager.rb:35:in `call'
rack (2.0.5) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.0.5) lib/rack/etag.rb:25:in `call'
rack (2.0.5) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.5) lib/rack/head.rb:12:in `call'
actionpack (5.2.0) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.0.5) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.5) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/cookies.rb:670:in `call'
activerecord (5.2.0) lib/active_record/migration.rb:559:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
activesupport (5.2.0) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (5.2.0) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:61:in `call'
web-console (3.6.2) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.6.2) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `catch'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.0) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/messages" for 127.0.0.1 at 2018-08-10 15:50:20 +0300
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:3
  Rendering messages/index.html.erb within layouts/application
  [1m[36mMessage Load (2.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient" = $1[0m  [["recipient", 1]]
  ↳ app/views/messages/index.html.erb:2
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/messages/index.html.erb:4
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/messages/index.html.erb:4
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/messages/index.html.erb:4
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/messages/index.html.erb:4
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/messages/index.html.erb:4
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/messages/index.html.erb:4
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/messages/index.html.erb:4
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/messages/index.html.erb:4
  Rendered messages/index.html.erb within layouts/application (60.7ms)
Completed 200 OK in 591ms (Views: 577.0ms | ActiveRecord: 4.8ms)


Started GET "/bookings_on_my_flat" for 127.0.0.1 at 2018-08-10 15:50:24 +0300
Processing by BookingsController#vedor_booking as HTML
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:10
  Rendering bookings/vedor_booking.html.erb within layouts/application
  Rendered bookings/vedor_booking.html.erb within layouts/application (1.4ms)
Completed 200 OK in 318ms (Views: 307.4ms | ActiveRecord: 1.5ms)


Started GET "/" for 127.0.0.1 at 2018-08-10 15:50:27 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.5ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (11.2ms)
  Rendered flats/index.html.erb within layouts/application (57.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
Completed 200 OK in 271ms (Views: 259.8ms | ActiveRecord: 5.8ms)


Started GET "/bookings" for 127.0.0.1 at 2018-08-10 15:52:05 +0300
Processing by BookingsController#index as HTML
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:6
  Rendering bookings/index.html.erb within layouts/application
  [1m[36mBooking Load (1.7ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/bookings/index.html.erb:4
  [1m[36mFlat Load (1.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:1
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:1
  Rendered collection of bookings/_booking.html.erb [2 times] (28.5ms)
  Rendered bookings/index.html.erb within layouts/application (83.8ms)
Completed 200 OK in 330ms (Views: 309.2ms | ActiveRecord: 12.1ms)


Started GET "/bookings" for 127.0.0.1 at 2018-08-10 15:52:39 +0300
Processing by BookingsController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:6
  Rendering bookings/index.html.erb within layouts/application
  [1m[36mBooking Load (0.5ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/bookings/index.html.erb:4
  [1m[36mFlat Load (1.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:2
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:2
  Rendered collection of bookings/_booking.html.erb [2 times] (14.2ms)
  Rendered bookings/index.html.erb within layouts/application (17.9ms)
Completed 200 OK in 503ms (Views: 494.0ms | ActiveRecord: 2.7ms)


Started GET "/bookings_on_my_flat" for 127.0.0.1 at 2018-08-10 15:53:12 +0300
Processing by BookingsController#vedor_booking as HTML
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:10
  Rendering bookings/vedor_booking.html.erb within layouts/application
  Rendered bookings/vedor_booking.html.erb within layouts/application (8.1ms)
Completed 500 Internal Server Error in 34ms (ActiveRecord: 1.8ms)


  
ActionView::Template::Error (Can't join 'Booking' to association named 'flats'; perhaps you misspelled it?):
    1: <h1> Bookings on my flat </h1>
    2: <%= render @bookings %>
  
app/views/bookings/vedor_booking.html.erb:2:in `_app_views_bookings_vedor_booking_html_erb__801386501525355322_70238775093340'
Started GET "/bookings_on_my_flat" for 127.0.0.1 at 2018-08-10 15:53:46 +0300
Processing by BookingsController#vedor_booking as HTML
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:10
  Rendering bookings/vedor_booking.html.erb within layouts/application
  [1m[36mBooking Load (4.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" LEFT OUTER JOIN "flats" ON "flats"."id" = "bookings"."flat_id" WHERE "flat"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/bookings/vedor_booking.html.erb:2
  Rendered bookings/vedor_booking.html.erb within layouts/application (20.6ms)
Completed 500 Internal Server Error in 106ms (ActiveRecord: 26.0ms)


  
ActionView::Template::Error (PG::UndefinedTable: ОШИБКА:  таблица "flat" отсутствует в предложении FROM
LINE 1: ...ats" ON "flats"."id" = "bookings"."flat_id" WHERE "flat"."us...
                                                             ^
: SELECT "bookings".* FROM "bookings" LEFT OUTER JOIN "flats" ON "flats"."id" = "bookings"."flat_id" WHERE "flat"."user_id" = $1):
    1: <h1> Bookings on my flat </h1>
    2: <%= render @bookings %>
  
app/views/bookings/vedor_booking.html.erb:2:in `_app_views_bookings_vedor_booking_html_erb__801386501525355322_70238671850680'
Started GET "/bookings_on_my_flat" for 127.0.0.1 at 2018-08-10 15:53:56 +0300
Processing by BookingsController#vedor_booking as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:10
  Rendering bookings/vedor_booking.html.erb within layouts/application
  Rendered bookings/vedor_booking.html.erb within layouts/application (7.7ms)
Completed 500 Internal Server Error in 133ms (ActiveRecord: 14.7ms)


  
ActionView::Template::Error (Can't join 'Booking' to association named 'flats'; perhaps you misspelled it?):
    1: <h1> Bookings on my flat </h1>
    2: <%= render @bookings %>
  
app/views/bookings/vedor_booking.html.erb:2:in `_app_views_bookings_vedor_booking_html_erb__801386501525355322_70238256371120'
Started GET "/bookings_on_my_flat" for 127.0.0.1 at 2018-08-10 15:54:09 +0300
Processing by BookingsController#vedor_booking as HTML
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:10
  Rendering bookings/vedor_booking.html.erb within layouts/application
  Rendered bookings/vedor_booking.html.erb within layouts/application (5.4ms)
Completed 500 Internal Server Error in 143ms (ActiveRecord: 23.9ms)


  
ActionView::Template::Error (Can't join 'Booking' to association named 'flats'; perhaps you misspelled it?):
    1: <h1> Bookings on my flat </h1>
    2: <%= render @bookings %>
  
app/views/bookings/vedor_booking.html.erb:2:in `_app_views_bookings_vedor_booking_html_erb__801386501525355322_70238594502300'
Started GET "/bookings_on_my_flat" for 127.0.0.1 at 2018-08-10 15:54:26 +0300
Processing by BookingsController#vedor_booking as HTML
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:10
  Rendering bookings/vedor_booking.html.erb within layouts/application
  Rendered bookings/vedor_booking.html.erb within layouts/application (10.3ms)
Completed 500 Internal Server Error in 40ms (ActiveRecord: 2.0ms)


  
ActionView::Template::Error (Can't join 'Booking' to association named 'flats'; perhaps you misspelled it?):
    1: <h1> Bookings on my flat </h1>
    2: <%= render @bookings %>
  
app/views/bookings/vedor_booking.html.erb:2:in `_app_views_bookings_vedor_booking_html_erb__801386501525355322_70238255594720'
Started GET "/bookings_on_my_flat" for 127.0.0.1 at 2018-08-10 15:55:54 +0300
Processing by BookingsController#vedor_booking as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:10
  Rendering bookings/vedor_booking.html.erb within layouts/application
  Rendered bookings/vedor_booking.html.erb within layouts/application (1.8ms)
Completed 500 Internal Server Error in 86ms (ActiveRecord: 11.1ms)


  
ActionView::Template::Error (Can't join 'Booking' to association named 'flats'; perhaps you misspelled it?):
    1: <h1> Bookings on my flat </h1>
    2: <%= render @bookings %>
  
app/views/bookings/vedor_booking.html.erb:2:in `_app_views_bookings_vedor_booking_html_erb__801386501525355322_70238778093240'
Started GET "/" for 127.0.0.1 at 2018-08-10 15:56:06 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.3ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (19.8ms)
  Rendered flats/index.html.erb within layouts/application (61.7ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
Completed 200 OK in 261ms (Views: 255.9ms | ActiveRecord: 3.2ms)


Started GET "/bookings_on_my_flat" for 127.0.0.1 at 2018-08-10 15:56:09 +0300
Processing by BookingsController#vedor_booking as HTML
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:10
  Rendering bookings/vedor_booking.html.erb within layouts/application
  Rendered bookings/vedor_booking.html.erb within layouts/application (8.4ms)
Completed 500 Internal Server Error in 28ms (ActiveRecord: 1.2ms)


  
ActionView::Template::Error (Can't join 'Booking' to association named 'flats'; perhaps you misspelled it?):
    1: <h1> Bookings on my flat </h1>
    2: <%= render @bookings %>
  
app/views/bookings/vedor_booking.html.erb:2:in `_app_views_bookings_vedor_booking_html_erb__801386501525355322_70238686672320'
Started GET "/" for 127.0.0.1 at 2018-08-10 15:58:21 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.8ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (33.2ms)
  Rendered flats/index.html.erb within layouts/application (44.8ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
Completed 200 OK in 521ms (Views: 516.0ms | ActiveRecord: 2.2ms)


Started GET "/bookings_on_my_flat" for 127.0.0.1 at 2018-08-10 15:58:27 +0300
Processing by BookingsController#vedor_booking as HTML
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:10
  Rendering bookings/vedor_booking.html.erb within layouts/application
  Rendered bookings/vedor_booking.html.erb within layouts/application (6.1ms)
Completed 500 Internal Server Error in 26ms (ActiveRecord: 1.5ms)


  
ActionView::Template::Error (Can't join 'Booking' to association named 'flats'; perhaps you misspelled it?):
    1: <h1> Bookings on my flat </h1>
    2: <%= render @bookings %>
  
app/views/bookings/vedor_booking.html.erb:2:in `_app_views_bookings_vedor_booking_html_erb__801386501525355322_70238775379540'
Started GET "/" for 127.0.0.1 at 2018-08-10 16:00:41 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (66.9ms)
  Rendered flats/index.html.erb within layouts/application (145.9ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
Completed 200 OK in 502ms (Views: 462.7ms | ActiveRecord: 24.2ms)


Started GET "/" for 127.0.0.1 at 2018-08-10 16:00:45 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (3.1ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (40.5ms)
  Rendered flats/index.html.erb within layouts/application (67.1ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
Completed 200 OK in 496ms (Views: 485.6ms | ActiveRecord: 4.4ms)


Started GET "/bookings_on_my_flat" for 127.0.0.1 at 2018-08-10 16:00:48 +0300
Processing by BookingsController#vedor_booking as HTML
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:10
Completed 500 Internal Server Error in 313ms (ActiveRecord: 5.0ms)


  
NameError (undefined local variable or method `buybug' for #<BookingsController:0x00007fc379bc2ae8>
Did you mean?  byebug):
  
app/controllers/bookings_controller.rb:11:in `vedor_booking'
Started GET "/bookings_on_my_flat" for 127.0.0.1 at 2018-08-10 16:01:02 +0300
Processing by BookingsController#vedor_booking as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:10
  Rendering bookings/vedor_booking.html.erb within layouts/application
  Rendered bookings/vedor_booking.html.erb within layouts/application (5.5ms)
Completed 500 Internal Server Error in 80ms (ActiveRecord: 13.1ms)


  
ActionView::Template::Error (Can't join 'Booking' to association named 'flats'; perhaps you misspelled it?):
    1: <h1> Bookings on my flat </h1>
    2: <%= render @bookings %>
  
app/views/bookings/vedor_booking.html.erb:2:in `_app_views_bookings_vedor_booking_html_erb__801386501525355322_70238252992380'
Started GET "/bookings_on_my_flat" for 127.0.0.1 at 2018-08-10 16:01:22 +0300
Processing by BookingsController#vedor_booking as HTML
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:10
Completed 500 Internal Server Error in 648620ms (ActiveRecord: 14.3ms)


Started GET "/bookings_on_my_flat" for 127.0.0.1 at 2018-08-10 16:12:11 +0300
  
SystemExit (exit):
  
Started GET "/bookings_on_my_flat" for 127.0.0.1 at 2018-08-10 16:12:11 +0300
(byebug):1:in `exit'
(byebug):1:in `vedor_booking'
app/controllers/bookings_controller.rb:12:in `vedor_booking'
Processing by BookingsController#vedor_booking as HTML
Processing by BookingsController#vedor_booking as HTML
  [1m[36mUser Load (80.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:10
  [1m[36mUser Load (319.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:10
  Rendering bookings/vedor_booking.html.erb within layouts/application
  Rendering bookings/vedor_booking.html.erb within layouts/application
  [1m[36mBooking Load (8.9ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/bookings/vedor_booking.html.erb:2
  [1m[36mBooking Load (10.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/bookings/vedor_booking.html.erb:2
  [1m[36mFlat Load (30.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:2
  [1m[36mFlat Load (97.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:2
  [1m[36mCACHE Flat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Flat Load (0.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:2
  ↳ app/views/bookings/_booking.html.erb:2
  Rendered collection of bookings/_booking.html.erb [2 times] (682.6ms)
  Rendered collection of bookings/_booking.html.erb [2 times] (531.1ms)
  Rendered bookings/vedor_booking.html.erb within layouts/application (997.3ms)
  Rendered bookings/vedor_booking.html.erb within layouts/application (971.5ms)
Completed 200 OK in 14680ms (Views: 13797.9ms | ActiveRecord: 275.4ms)


Completed 200 OK in 14990ms (Views: 14075.5ms | ActiveRecord: 755.2ms)


Started GET "/" for 127.0.0.1 at 2018-08-10 16:12:45 +0300
  [1m[35m (3.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.8ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (457.5ms)
  Rendered flats/index.html.erb within layouts/application (516.1ms)
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
Completed 200 OK in 996ms (Views: 954.6ms | ActiveRecord: 15.1ms)


Started GET "/bookings_on_my_flat" for 127.0.0.1 at 2018-08-10 16:12:48 +0300
Processing by BookingsController#vedor_booking as HTML
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:10
  Rendering bookings/vedor_booking.html.erb within layouts/application
  [1m[36mBooking Load (1.5ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/bookings/vedor_booking.html.erb:2
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:2
  [1m[36mCACHE Flat Load (0.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:2
  Rendered collection of bookings/_booking.html.erb [2 times] (14.3ms)
  Rendered bookings/vedor_booking.html.erb within layouts/application (57.7ms)
Completed 200 OK in 315ms (Views: 281.1ms | ActiveRecord: 15.9ms)


Started GET "/bookings_on_my_flat" for 127.0.0.1 at 2018-08-10 16:14:10 +0300
Processing by BookingsController#vedor_booking as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:10
  Rendering bookings/vedor_booking.html.erb within layouts/application
  [1m[36mBooking Load (0.6ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" INNER JOIN "flats" ON "flats"."id" = "bookings"."flat_id" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/bookings/vedor_booking.html.erb:2
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:2
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:2
  Rendered collection of bookings/_booking.html.erb [2 times] (24.0ms)
  Rendered bookings/vedor_booking.html.erb within layouts/application (52.7ms)
Completed 200 OK in 309ms (Views: 268.1ms | ActiveRecord: 14.0ms)


Started GET "/" for 127.0.0.1 at 2018-08-10 16:14:14 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.0ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (55.2ms)
  Rendered flats/index.html.erb within layouts/application (75.8ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
Completed 200 OK in 407ms (Views: 396.4ms | ActiveRecord: 3.6ms)


Started GET "/bookings_on_my_flat" for 127.0.0.1 at 2018-08-10 16:14:16 +0300
Processing by BookingsController#vedor_booking as HTML
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:10
  Rendering bookings/vedor_booking.html.erb within layouts/application
  [1m[36mBooking Load (1.4ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" INNER JOIN "flats" ON "flats"."id" = "bookings"."flat_id" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/bookings/vedor_booking.html.erb:2
  [1m[36mFlat Load (1.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:2
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:2
  Rendered collection of bookings/_booking.html.erb [2 times] (8.9ms)
  Rendered bookings/vedor_booking.html.erb within layouts/application (16.1ms)
Completed 200 OK in 290ms (Views: 277.8ms | ActiveRecord: 4.0ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2018-08-10 16:14:32 +0300
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"Nph5Mj1iXVWAQm2kftP63+OTqCC3zQeKYIpkI63tqIol7fvwV8KY0Yx0EUKey4w4baZ38YMHsN4KDoGy6dS6EA=="}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 28ms (ActiveRecord: 1.6ms)


Started GET "/" for 127.0.0.1 at 2018-08-10 16:14:32 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.1ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (25.7ms)
  Rendered flats/index.html.erb within layouts/application (42.3ms)
Completed 200 OK in 357ms (Views: 352.4ms | ActiveRecord: 1.8ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2018-08-10 16:14:34 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (2.1ms)
  Rendered devise/sessions/new.html.erb within layouts/application (15.7ms)
Completed 200 OK in 269ms (Views: 266.7ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-08-10 16:14:41 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"iebHuafovk4nwoHZUphTtZHsf3jgi3vzCd7tZ6hDy2khyS+o2HF3yWD5AIuuT24wLzd0IZnh8g16a90TwtnO3Q==", "user"=>{"email"=>"Pork@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "pork@gmail.com"], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = $1, "last_sign_in_at" = $2, "sign_in_count" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["current_sign_in_at", "2018-08-10 13:14:41.839013"], ["last_sign_in_at", "2018-08-08 14:22:02.206145"], ["sign_in_count", 6], ["updated_at", "2018-08-10 13:14:41.839869"], ["id", 2]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (5.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 236ms (ActiveRecord: 7.9ms)


Started GET "/" for 127.0.0.1 at 2018-08-10 16:14:41 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (21.1ms)
  Rendered flats/index.html.erb within layouts/application (28.1ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
Completed 200 OK in 339ms (Views: 332.4ms | ActiveRecord: 1.2ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-08-10 16:14:45 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (1.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:57
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (7.5ms)
  Rendered flats/show.html.erb within layouts/application (18.4ms)
Completed 200 OK in 272ms (Views: 262.9ms | ActiveRecord: 2.5ms)


Started POST "/flats/3/bookings" for 127.0.0.1 at 2018-08-10 16:15:03 +0300
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"tlX2IT2yJXh3oJYcMDf64A6PU8ad2RSHZl5judQDwWrw7aYRpnyaUaWND/gJ8lCa68zNBYUJ7p/jS/O/j/bhcQ==", "booking"=>{"notice"=>"Nice view", "start_date"=>"2018-08-15", "end_date"=>"2018-08-17"}, "commit"=>"Book this flat", "flat_id"=>"3"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/bookings_controller.rb:26
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:26
  [1m[36mBooking Create (1.4ms)[0m  [1m[32mINSERT INTO "bookings" ("user_id", "flat_id", "created_at", "updated_at", "notice", "start_date", "end_date") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 2], ["flat_id", 3], ["created_at", "2018-08-10 13:15:03.130427"], ["updated_at", "2018-08-10 13:15:03.130427"], ["notice", "Nice view"], ["start_date", "2018-08-15"], ["end_date", "2018-08-17"]]
  ↳ app/controllers/bookings_controller.rb:26
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/bookings_controller.rb:26
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:27
  Rendering create_booking_mailer/new_booking.html.erb within layouts/mailer
  Rendered create_booking_mailer/new_booking.html.erb within layouts/mailer (0.6ms)
  Rendering create_booking_mailer/new_booking.text.erb within layouts/mailer
  Rendered create_booking_mailer/new_booking.text.erb within layouts/mailer (0.4ms)
CreateBookingMailer#new_booking: processed outbound mail in 45.2ms
Sent mail to tork@gmail.com (70.3ms)
Date: Fri, 10 Aug 2018 16:15:03 +0300
From: yorkqw@gmail.com
To: tork@gmail.com
Message-ID: <5b6d8fd7589f7_246c2affa3dee3b07377e@york-HP-250-G5-Notebook-PC.mail>
Subject: Your flat booked
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5b6d8fd755233_246c2affa3dee3b07364";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5b6d8fd755233_246c2affa3dee3b07364
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hello Tork

Pork booked your flat Boutique Hotel Villa P from 2018-08-15 to 2018-08-17 and say:
Nice view


----==_mimepart_5b6d8fd755233_246c2affa3dee3b07364
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <h1> Hello Tork</h1>

Pork booked your flat Boutique Hotel Villa P from 2018-08-15 to 2018-08-17 and say:
Nice view


  </body>
</html>

----==_mimepart_5b6d8fd755233_246c2affa3dee3b07364--

  [1m[35m (1.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/booking_service.rb:11
  [1m[36mFlat Update (1.2ms)[0m  [1m[33mUPDATE "flats" SET "reserved_date" = $1, "updated_at" = $2 WHERE "flats"."id" = $3[0m  [["reserved_date", "{2018-08-15}"], ["updated_at", "2018-08-10 13:15:03.449000"], ["id", 3]]
  ↳ app/services/booking_service.rb:11
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/booking_service.rb:11
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/booking_service.rb:11
  [1m[36mFlat Update (0.8ms)[0m  [1m[33mUPDATE "flats" SET "reserved_date" = $1, "updated_at" = $2 WHERE "flats"."id" = $3[0m  [["reserved_date", "{2018-08-15,2018-08-16}"], ["updated_at", "2018-08-10 13:15:03.460243"], ["id", 3]]
  ↳ app/services/booking_service.rb:11
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/booking_service.rb:11
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/booking_service.rb:11
  [1m[36mFlat Update (0.8ms)[0m  [1m[33mUPDATE "flats" SET "reserved_date" = $1, "updated_at" = $2 WHERE "flats"."id" = $3[0m  [["reserved_date", "{2018-08-15,2018-08-16,2018-08-17}"], ["updated_at", "2018-08-10 13:15:03.477558"], ["id", 3]]
  ↳ app/services/booking_service.rb:11
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/booking_service.rb:11
Redirected to http://localhost:3000/
Completed 302 Found in 388ms (ActiveRecord: 14.4ms)


Started GET "/" for 127.0.0.1 at 2018-08-10 16:15:03 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.8ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (29.8ms)
  Rendered flats/index.html.erb within layouts/application (46.0ms)
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
Completed 200 OK in 391ms (Views: 382.8ms | ActiveRecord: 3.6ms)


Started GET "/bookings" for 127.0.0.1 at 2018-08-10 16:15:17 +0300
Processing by BookingsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:6
  Rendering bookings/index.html.erb within layouts/application
  [1m[36mBooking Load (0.8ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/views/bookings/index.html.erb:4
  [1m[36mFlat Load (1.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:2
  Rendered collection of bookings/_booking.html.erb [1 times] (9.3ms)
  Rendered bookings/index.html.erb within layouts/application (14.3ms)
Completed 200 OK in 246ms (Views: 239.0ms | ActiveRecord: 3.0ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2018-08-10 16:15:25 +0300
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"h8Y0aOjE2b/4tOWzyj5btw7+F+FMxi5MWYIWqtwRwHQg1OCH/T2/N9PrnT5PHcmWaH4gv86db/nNiLlwBIr06w=="}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 6ms (ActiveRecord: 0.9ms)


Started GET "/" for 127.0.0.1 at 2018-08-10 16:15:25 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.8ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (19.3ms)
  Rendered flats/index.html.erb within layouts/application (30.9ms)
Completed 200 OK in 328ms (Views: 322.8ms | ActiveRecord: 2.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2018-08-10 16:15:27 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (4.3ms)
  Rendered devise/sessions/new.html.erb within layouts/application (16.2ms)
Completed 200 OK in 304ms (Views: 300.5ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-08-10 16:15:36 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"t+k8W6shbPeEAEZ4k9j+96VB8kYhpnMWG0nZX63ruLgQEPyGGi+KyxypjXgz5g61jvnaXXgbr5OYjogRcwwseQ==", "user"=>{"email"=>"Tork@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "tork@gmail.com"], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (1.8ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = $1, "last_sign_in_at" = $2, "sign_in_count" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["current_sign_in_at", "2018-08-10 13:15:36.191833"], ["last_sign_in_at", "2018-08-10 09:50:30.981643"], ["sign_in_count", 13], ["updated_at", "2018-08-10 13:15:36.193082"], ["id", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 196ms (ActiveRecord: 4.7ms)


Started GET "/" for 127.0.0.1 at 2018-08-10 16:15:36 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (22.7ms)
  Rendered flats/index.html.erb within layouts/application (28.0ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
Completed 200 OK in 316ms (Views: 313.8ms | ActiveRecord: 1.5ms)


Started GET "/bookings_on_my_flat" for 127.0.0.1 at 2018-08-10 16:15:40 +0300
Processing by BookingsController#vedor_booking as HTML
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:10
  Rendering bookings/vedor_booking.html.erb within layouts/application
  [1m[36mBooking Load (2.0ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" INNER JOIN "flats" ON "flats"."id" = "bookings"."flat_id" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/bookings/vedor_booking.html.erb:2
  [1m[36mFlat Load (0.9ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:2
  [1m[36mCACHE Flat Load (0.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:2
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:2
  Rendered collection of bookings/_booking.html.erb [3 times] (22.5ms)
  Rendered bookings/vedor_booking.html.erb within layouts/application (34.0ms)
Completed 200 OK in 343ms (Views: 328.3ms | ActiveRecord: 5.2ms)


Started GET "/bookings" for 127.0.0.1 at 2018-08-10 16:15:47 +0300
Processing by BookingsController#index as HTML
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:6
  Rendering bookings/index.html.erb within layouts/application
  [1m[36mBooking Load (1.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/bookings/index.html.erb:4
  [1m[36mFlat Load (2.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:2
  [1m[36mCACHE Flat Load (0.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:2
  Rendered collection of bookings/_booking.html.erb [2 times] (26.1ms)
  Rendered bookings/index.html.erb within layouts/application (37.2ms)
Completed 200 OK in 370ms (Views: 351.3ms | ActiveRecord: 5.0ms)


Started GET "/bookings_on_my_flat" for 127.0.0.1 at 2018-08-10 16:15:49 +0300
Processing by BookingsController#vedor_booking as HTML
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:10
  Rendering bookings/vedor_booking.html.erb within layouts/application
  [1m[36mBooking Load (2.5ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" INNER JOIN "flats" ON "flats"."id" = "bookings"."flat_id" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/bookings/vedor_booking.html.erb:2
  [1m[36mFlat Load (0.9ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:2
  [1m[36mCACHE Flat Load (0.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:2
  [1m[36mFlat Load (1.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:2
  Rendered collection of bookings/_booking.html.erb [3 times] (24.7ms)
  Rendered bookings/vedor_booking.html.erb within layouts/application (34.8ms)
Completed 200 OK in 333ms (Views: 310.1ms | ActiveRecord: 6.7ms)


Started GET "/bookings_on_my_flat" for 127.0.0.1 at 2018-08-10 16:17:35 +0300
Processing by BookingsController#vedor_booking as HTML
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:10
  Rendering bookings/vedor_booking.html.erb within layouts/application
  [1m[36mBooking Load (0.6ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" INNER JOIN "flats" ON "flats"."id" = "bookings"."flat_id" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/bookings/vedor_booking.html.erb:2
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:2
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:2
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:2
  Rendered collection of bookings/_booking.html.erb [3 times] (53.9ms)
  Rendered bookings/vedor_booking.html.erb within layouts/application (91.4ms)
Completed 200 OK in 528ms (Views: 422.7ms | ActiveRecord: 22.8ms)


Started GET "/bookings_on_my_flat" for 127.0.0.1 at 2018-08-10 16:18:00 +0300
Processing by BookingsController#vedor_booking as HTML
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:10
  Rendering bookings/vedor_booking.html.erb within layouts/application
  [1m[36mBooking Load (0.5ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" INNER JOIN "flats" ON "flats"."id" = "bookings"."flat_id" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/bookings/vedor_booking.html.erb:2
  [1m[36mFlat Load (1.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:2
  [1m[36mCACHE Flat Load (0.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:2
  [1m[36mFlat Load (2.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:2
  Rendered collection of bookings/_booking.html.erb [3 times] (25.3ms)
  Rendered bookings/vedor_booking.html.erb within layouts/application (30.7ms)
Completed 200 OK in 476ms (Views: 466.1ms | ActiveRecord: 5.3ms)


Started GET "/bookings_on_my_flat" for 127.0.0.1 at 2018-08-10 16:20:32 +0300
Processing by BookingsController#vedor_booking as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:10
  Rendering bookings/vedor_booking.html.erb within layouts/application
  [1m[36mBooking Load (1.7ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" INNER JOIN "flats" ON "flats"."id" = "bookings"."flat_id" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/bookings/vedor_booking.html.erb:2
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:2
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:6
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:2
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:6
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:2
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:6
  Rendered collection of bookings/_booking.html.erb [3 times] (19.9ms)
  Rendered bookings/vedor_booking.html.erb within layouts/application (27.8ms)
Completed 200 OK in 451ms (Views: 441.2ms | ActiveRecord: 4.5ms)


Started GET "/users/pork" for 127.0.0.1 at 2018-08-10 16:20:58 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"pork"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."slug" = $1 LIMIT $2[0m  [["slug", "pork"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:8
  Rendering users/show.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/views/users/show.html.erb:17
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/users/show.html.erb:53
  Rendered users/show.html.erb within layouts/application (17.7ms)
Completed 200 OK in 268ms (Views: 261.1ms | ActiveRecord: 3.2ms)


Started GET "/" for 127.0.0.1 at 2018-08-10 16:24:58 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (63.6ms)
  Rendered flats/index.html.erb within layouts/application (113.9ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
Completed 200 OK in 370ms (Views: 356.6ms | ActiveRecord: 7.1ms)


Started GET "/secret" for 127.0.0.1 at 2018-08-10 16:24:59 +0300
Processing by UsersController#secret as HTML
Completed 500 Internal Server Error in 52ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `today' for #<Class:0x000055ff49518210>):
  
app/controllers/users_controller.rb:14:in `secret'
Started GET "/secret" for 127.0.0.1 at 2018-08-10 16:25:28 +0300
Processing by UsersController#secret as HTML
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" LIMIT $1[0m  [["LIMIT", 11]]
  ↳ /home/york/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:8
Completed 500 Internal Server Error in 107ms (ActiveRecord: 3.5ms)


  
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" LIMIT $1[0m  [["LIMIT", 11]]
  ↳ /home/york/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:8
NoMethodError (undefined method `today' for #<Flat::ActiveRecord_Relation:0x00007fc9c07c0cb8>
Did you mean?  to_ary):
  
app/controllers/users_controller.rb:14:in `secret'
Started GET "/secret" for 127.0.0.1 at 2018-08-10 16:26:13 +0300
Processing by UsersController#secret as HTML
  Rendering users/secret.html.erb within layouts/application
  [1m[35m (1.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3[0m  [["created_at", "2018-08-09 21:00:00"], ["created_at", "2018-08-10 20:59:59.999999"], ["vendor", true]]
  ↳ app/views/users/secret.html.erb:1
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3[0m  [["created_at", "2018-08-09 21:00:00"], ["created_at", "2018-08-10 20:59:59.999999"], ["vendor", false]]
  ↳ app/views/users/secret.html.erb:1
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-09 21:00:00"], ["created_at", "2018-08-10 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:2
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-09 21:00:00"], ["created_at", "2018-08-10 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:2
  [1m[35mCACHE  (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-09 21:00:00"], ["created_at", "2018-08-10 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-09 21:00:00"], ["created_at", "2018-08-10 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:9
  [1m[36mBooking Load (0.6ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-09 21:00:00"], ["created_at", "2018-08-10 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:11
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/secret.html.erb:12
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/secret.html.erb:12
  Rendered users/secret.html.erb within layouts/application (235.0ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
Completed 200 OK in 637ms (Views: 540.1ms | ActiveRecord: 35.3ms)


Started GET "/secret" for 127.0.0.1 at 2018-08-10 16:26:40 +0300
Processing by UsersController#secret as HTML
  Rendering users/secret.html.erb within layouts/application
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3[0m  [["created_at", "2018-08-09 21:00:00"], ["created_at", "2018-08-10 20:59:59.999999"], ["vendor", true]]
  ↳ app/views/users/secret.html.erb:1
  [1m[35m (1.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3[0m  [["created_at", "2018-08-09 21:00:00"], ["created_at", "2018-08-10 20:59:59.999999"], ["vendor", false]]
  ↳ app/views/users/secret.html.erb:1
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-09 21:00:00"], ["created_at", "2018-08-10 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:2
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-09 21:00:00"], ["created_at", "2018-08-10 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:2
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-09 21:00:00"], ["created_at", "2018-08-10 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-09 21:00:00"], ["created_at", "2018-08-10 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:9
  [1m[36mBooking Load (1.6ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-09 21:00:00"], ["created_at", "2018-08-10 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:11
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/secret.html.erb:12
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/secret.html.erb:12
  Rendered users/secret.html.erb within layouts/application (31.9ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
Completed 200 OK in 300ms (Views: 284.2ms | ActiveRecord: 6.6ms)


Started GET "/flats/new" for 127.0.0.1 at 2018-08-10 16:35:36 +0300
Processing by FlatsController#new as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering flats/new.html.erb within layouts/application
  Rendered flats/_form.html.erb (3.4ms)
  Rendered flats/new.html.erb within layouts/application (4.3ms)
Completed 200 OK in 280ms (Views: 211.6ms | ActiveRecord: 7.7ms)


Started GET "/secret" for 127.0.0.1 at 2018-08-10 16:35:37 +0300
Processing by UsersController#secret as HTML
  Rendering users/secret.html.erb within layouts/application
  [1m[35m (3.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3[0m  [["created_at", "2018-08-09 21:00:00"], ["created_at", "2018-08-10 20:59:59.999999"], ["vendor", true]]
  ↳ app/views/users/secret.html.erb:1
  [1m[35m (1.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3[0m  [["created_at", "2018-08-09 21:00:00"], ["created_at", "2018-08-10 20:59:59.999999"], ["vendor", false]]
  ↳ app/views/users/secret.html.erb:1
  [1m[35m (1.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-09 21:00:00"], ["created_at", "2018-08-10 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:2
  [1m[35m (1.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-09 21:00:00"], ["created_at", "2018-08-10 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:2
  [1m[35mCACHE  (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-09 21:00:00"], ["created_at", "2018-08-10 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:3
  [1m[35mCACHE  (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-09 21:00:00"], ["created_at", "2018-08-10 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:9
  [1m[36mBooking Load (1.4ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-09 21:00:00"], ["created_at", "2018-08-10 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:11
  [1m[36mFlat Load (1.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/secret.html.erb:12
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/secret.html.erb:12
  Rendered users/secret.html.erb within layouts/application (93.0ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
Completed 200 OK in 354ms (Views: 301.3ms | ActiveRecord: 25.5ms)


Started GET "/secret" for 127.0.0.1 at 2018-08-10 16:35:38 +0300
Processing by UsersController#secret as HTML
  Rendering users/secret.html.erb within layouts/application
  [1m[35m (2.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3[0m  [["created_at", "2018-08-09 21:00:00"], ["created_at", "2018-08-10 20:59:59.999999"], ["vendor", true]]
  ↳ app/views/users/secret.html.erb:1
  [1m[35m (1.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3[0m  [["created_at", "2018-08-09 21:00:00"], ["created_at", "2018-08-10 20:59:59.999999"], ["vendor", false]]
  ↳ app/views/users/secret.html.erb:1
  [1m[35m (6.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-09 21:00:00"], ["created_at", "2018-08-10 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:2
  [1m[35m (1.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-09 21:00:00"], ["created_at", "2018-08-10 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:2
  [1m[35mCACHE  (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-09 21:00:00"], ["created_at", "2018-08-10 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:3
  [1m[35mCACHE  (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-09 21:00:00"], ["created_at", "2018-08-10 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:9
  [1m[36mBooking Load (2.1ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-09 21:00:00"], ["created_at", "2018-08-10 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:11
  [1m[36mFlat Load (0.9ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/secret.html.erb:12
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/secret.html.erb:12
  Rendered users/secret.html.erb within layouts/application (57.8ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
Completed 200 OK in 356ms (Views: 325.4ms | ActiveRecord: 15.4ms)


Started GET "/secret" for 127.0.0.1 at 2018-08-10 16:35:41 +0300
Processing by UsersController#secret as HTML
  Rendering users/secret.html.erb within layouts/application
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3[0m  [["created_at", "2018-08-09 21:00:00"], ["created_at", "2018-08-10 20:59:59.999999"], ["vendor", true]]
  ↳ app/views/users/secret.html.erb:1
  [1m[35m (2.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3[0m  [["created_at", "2018-08-09 21:00:00"], ["created_at", "2018-08-10 20:59:59.999999"], ["vendor", false]]
  ↳ app/views/users/secret.html.erb:1
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-09 21:00:00"], ["created_at", "2018-08-10 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:2
  [1m[35m (1.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-09 21:00:00"], ["created_at", "2018-08-10 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:2
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-09 21:00:00"], ["created_at", "2018-08-10 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-09 21:00:00"], ["created_at", "2018-08-10 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:9
  [1m[36mBooking Load (2.4ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-09 21:00:00"], ["created_at", "2018-08-10 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:11
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/secret.html.erb:12
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/secret.html.erb:12
  Rendered users/secret.html.erb within layouts/application (32.9ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
Completed 200 OK in 287ms (Views: 270.2ms | ActiveRecord: 9.4ms)


Started GET "/secret" for 127.0.0.1 at 2018-08-10 16:36:45 +0300
Processing by UsersController#secret as HTML
  Rendering users/secret.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3[0m  [["created_at", "2018-08-09 21:00:00"], ["created_at", "2018-08-10 20:59:59.999999"], ["vendor", true]]
  ↳ app/views/users/secret.html.erb:1
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3[0m  [["created_at", "2018-08-09 21:00:00"], ["created_at", "2018-08-10 20:59:59.999999"], ["vendor", false]]
  ↳ app/views/users/secret.html.erb:1
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-09 21:00:00"], ["created_at", "2018-08-10 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:2
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-09 21:00:00"], ["created_at", "2018-08-10 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:2
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-09 21:00:00"], ["created_at", "2018-08-10 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-09 21:00:00"], ["created_at", "2018-08-10 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:9
  [1m[36mBooking Load (2.0ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-09 21:00:00"], ["created_at", "2018-08-10 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:11
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/secret.html.erb:12
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/secret.html.erb:12
  Rendered users/secret.html.erb within layouts/application (21.1ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
Completed 200 OK in 451ms (Views: 443.5ms | ActiveRecord: 5.0ms)


Started GET "/get_secret_email" for 127.0.0.1 at 2018-08-10 16:36:47 +0300
Processing by UsersController#get_secret_email as HTML
Redirected to http://localhost:3000/secret
Completed 302 Found in 32ms (ActiveRecord: 0.0ms)


Started GET "/secret" for 127.0.0.1 at 2018-08-10 16:36:47 +0300
Processing by UsersController#secret as HTML
  Rendering users/secret.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3[0m  [["created_at", "2018-08-09 21:00:00"], ["created_at", "2018-08-10 20:59:59.999999"], ["vendor", true]]
  ↳ app/views/users/secret.html.erb:1
  [1m[35m (1.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3[0m  [["created_at", "2018-08-09 21:00:00"], ["created_at", "2018-08-10 20:59:59.999999"], ["vendor", false]]
  ↳ app/views/users/secret.html.erb:1
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-09 21:00:00"], ["created_at", "2018-08-10 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:2
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-09 21:00:00"], ["created_at", "2018-08-10 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:2
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-09 21:00:00"], ["created_at", "2018-08-10 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-09 21:00:00"], ["created_at", "2018-08-10 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:9
  [1m[36mBooking Load (0.4ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-09 21:00:00"], ["created_at", "2018-08-10 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:11
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/secret.html.erb:12
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/secret.html.erb:12
  Rendered users/secret.html.erb within layouts/application (22.1ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
Completed 200 OK in 324ms (Views: 315.8ms | ActiveRecord: 5.0ms)


Started GET "/get_secret_email" for 127.0.0.1 at 2018-08-10 16:36:49 +0300
Processing by UsersController#get_secret_email as HTML
Redirected to http://localhost:3000/secret
Completed 302 Found in 10ms (ActiveRecord: 0.0ms)


Started GET "/secret" for 127.0.0.1 at 2018-08-10 16:36:49 +0300
Processing by UsersController#secret as HTML
  Rendering users/secret.html.erb within layouts/application
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3[0m  [["created_at", "2018-08-09 21:00:00"], ["created_at", "2018-08-10 20:59:59.999999"], ["vendor", true]]
  ↳ app/views/users/secret.html.erb:1
  [1m[35m (4.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3[0m  [["created_at", "2018-08-09 21:00:00"], ["created_at", "2018-08-10 20:59:59.999999"], ["vendor", false]]
  ↳ app/views/users/secret.html.erb:1
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-09 21:00:00"], ["created_at", "2018-08-10 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:2
  [1m[35m (2.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-09 21:00:00"], ["created_at", "2018-08-10 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:2
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-09 21:00:00"], ["created_at", "2018-08-10 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-09 21:00:00"], ["created_at", "2018-08-10 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:9
  [1m[36mBooking Load (2.0ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-09 21:00:00"], ["created_at", "2018-08-10 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:11
  [1m[36mFlat Load (1.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/secret.html.erb:12
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/secret.html.erb:12
  Rendered users/secret.html.erb within layouts/application (49.7ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
Completed 200 OK in 288ms (Views: 268.1ms | ActiveRecord: 13.0ms)


Started GET "/get_secret_email" for 127.0.0.1 at 2018-08-10 16:37:29 +0300
Processing by UsersController#get_secret_email as HTML
  Rendering admin_mailer/report.html.erb within layouts/mailer
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3[0m  [["created_at", "2018-08-09 21:00:00"], ["created_at", "2018-08-10 20:59:59.999999"], ["vendor", true]]
  ↳ app/views/admin_mailer/report.html.erb:1
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3[0m  [["created_at", "2018-08-09 21:00:00"], ["created_at", "2018-08-10 20:59:59.999999"], ["vendor", false]]
  ↳ app/views/admin_mailer/report.html.erb:1
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-09 21:00:00"], ["created_at", "2018-08-10 20:59:59.999999"]]
  ↳ app/views/admin_mailer/report.html.erb:2
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-09 21:00:00"], ["created_at", "2018-08-10 20:59:59.999999"]]
  ↳ app/views/admin_mailer/report.html.erb:2
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-09 21:00:00"], ["created_at", "2018-08-10 20:59:59.999999"]]
  ↳ app/views/admin_mailer/report.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-09 21:00:00"], ["created_at", "2018-08-10 20:59:59.999999"]]
  ↳ app/views/admin_mailer/report.html.erb:9
  [1m[36mBooking Load (0.4ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-09 21:00:00"], ["created_at", "2018-08-10 20:59:59.999999"]]
  ↳ app/views/admin_mailer/report.html.erb:11
  [1m[36mFlat Load (0.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/admin_mailer/report.html.erb:12
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/admin_mailer/report.html.erb:12
  Rendered admin_mailer/report.html.erb within layouts/mailer (56.9ms)
  Rendering admin_mailer/report.text.erb within layouts/mailer
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3[0m  [["created_at", "2018-08-09 21:00:00"], ["created_at", "2018-08-10 20:59:59.999999"], ["vendor", true]]
  ↳ app/views/admin_mailer/report.text.erb:1
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3[0m  [["created_at", "2018-08-09 21:00:00"], ["created_at", "2018-08-10 20:59:59.999999"], ["vendor", false]]
  ↳ app/views/admin_mailer/report.text.erb:1
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-09 21:00:00"], ["created_at", "2018-08-10 20:59:59.999999"]]
  ↳ app/views/admin_mailer/report.text.erb:2
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-09 21:00:00"], ["created_at", "2018-08-10 20:59:59.999999"]]
  ↳ app/views/admin_mailer/report.text.erb:3
  Rendered admin_mailer/report.text.erb within layouts/mailer (10.6ms)
AdminMailer#report: processed outbound mail in 79.4ms
Sent mail to admin@gmail.com (29.6ms)
Date: Fri, 10 Aug 2018 16:37:29 +0300
From: yorkqw@gmail.com
To: admin@gmail.com
Message-ID: <5b6d9519c43e6_246c2affa3de326c7399a@york-HP-250-G5-Notebook-PC.mail>
Subject: Report from FlatBooking 2018-08-10 %>
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5b6d9519c3117_246c2affa3de326c73893";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5b6d9519c3117_246c2affa3de326c73893
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Today on site registrated 0 vendors, 0 visitors
and vendors create 0 flats and visitors booked flats 1 times.
  Bookings
    Boutique Hotel Villa P booked from 2018-08-15 to 2018-08-17 by Pork


----==_mimepart_5b6d9519c3117_246c2affa3de326c73893
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Today on site registrated 0 vendors, 0 visitors
and vendors create 0 flats and visitors booked flats 1 times.<br/>
  <h4>Bookings</h4>
    Boutique Hotel Villa P booked from 2018-08-15 to 2018-08-17 by Pork</br/>

  </body>
</html>

----==_mimepart_5b6d9519c3117_246c2affa3de326c73893--

Redirected to http://localhost:3000/secret
Completed 302 Found in 133ms (ActiveRecord: 13.7ms)


Started GET "/secret" for 127.0.0.1 at 2018-08-10 16:37:29 +0300
Processing by UsersController#secret as HTML
  Rendering users/secret.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3[0m  [["created_at", "2018-08-09 21:00:00"], ["created_at", "2018-08-10 20:59:59.999999"], ["vendor", true]]
  ↳ app/views/users/secret.html.erb:1
  [1m[35m (1.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3[0m  [["created_at", "2018-08-09 21:00:00"], ["created_at", "2018-08-10 20:59:59.999999"], ["vendor", false]]
  ↳ app/views/users/secret.html.erb:1
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-09 21:00:00"], ["created_at", "2018-08-10 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:2
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-09 21:00:00"], ["created_at", "2018-08-10 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:2
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-09 21:00:00"], ["created_at", "2018-08-10 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-09 21:00:00"], ["created_at", "2018-08-10 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:9
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-09 21:00:00"], ["created_at", "2018-08-10 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:11
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/users/secret.html.erb:12
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/secret.html.erb:12
  Rendered users/secret.html.erb within layouts/application (22.9ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
Completed 200 OK in 352ms (Views: 343.9ms | ActiveRecord: 4.8ms)


Started GET "/" for 127.0.0.1 at 2018-08-10 16:59:16 +0300
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.7ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (318.5ms)
  Rendered flats/index.html.erb within layouts/application (401.2ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
Completed 200 OK in 1043ms (Views: 994.7ms | ActiveRecord: 11.7ms)


[ActiveJob] Enqueued SendAdminMailJob (Job ID: ead078f6-b601-426b-8ac0-aeb0ffcf6374) to Async(default) at 2018-08-10 14:13:52 UTC
[ActiveJob] [SendAdminMailJob] [ead078f6-b601-426b-8ac0-aeb0ffcf6374] Performing SendAdminMailJob (Job ID: ead078f6-b601-426b-8ac0-aeb0ffcf6374) from Async(default)
[ActiveJob] [SendAdminMailJob] [ead078f6-b601-426b-8ac0-aeb0ffcf6374] Error performing SendAdminMailJob (Job ID: ead078f6-b601-426b-8ac0-aeb0ffcf6374) from Async(default) in 4.37ms: NoMethodError (undefined method `rake' for #<SendAdminMailJob:0x000055b052fe2c68>):
/home/york/Документы/Projects/FlatBooking/app/jobs/send_admin_mail_job.rb:5:in `perform'
/home/york/.rvm/gems/ruby-2.5.1/gems/activejob-5.2.0/lib/active_job/execution.rb:39:in `block in perform_now'
/home/york/.rvm/gems/ruby-2.5.1/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/home/york/.rvm/gems/ruby-2.5.1/gems/i18n-1.0.1/lib/i18n.rb:284:in `with_locale'
/home/york/.rvm/gems/ruby-2.5.1/gems/activejob-5.2.0/lib/active_job/translation.rb:9:in `block (2 levels) in <module:Translation>'
/home/york/.rvm/gems/ruby-2.5.1/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/home/york/.rvm/gems/ruby-2.5.1/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/home/york/.rvm/gems/ruby-2.5.1/gems/activejob-5.2.0/lib/active_job/logging.rb:26:in `block (4 levels) in <module:Logging>'
/home/york/.rvm/gems/ruby-2.5.1/gems/activesupport-5.2.0/lib/active_support/notifications.rb:168:in `block in instrument'
/home/york/.rvm/gems/ruby-2.5.1/gems/activesupport-5.2.0/lib/active_support/notifications/instrumenter.rb:23:in `instrument'
/home/york/.rvm/gems/ruby-2.5.1/gems/activesupport-5.2.0/lib/active_support/notifications.rb:168:in `instrument'
/home/york/.rvm/gems/ruby-2.5.1/gems/activejob-5.2.0/lib/active_job/logging.rb:25:in `block (3 levels) in <module:Logging>'
/home/york/.rvm/gems/ruby-2.5.1/gems/activejob-5.2.0/lib/active_job/logging.rb:46:in `block in tag_logger'
/home/york/.rvm/gems/ruby-2.5.1/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `block in tagged'
/home/york/.rvm/gems/ruby-2.5.1/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/york/.rvm/gems/ruby-2.5.1/gems/activesupport-5.2.0/lib/active_support/tagged_logging.rb:71:in `tagged'
/home/york/.rvm/gems/ruby-2.5.1/gems/activejob-5.2.0/lib/active_job/logging.rb:46:in `tag_logger'
/home/york/.rvm/gems/ruby-2.5.1/gems/activejob-5.2.0/lib/active_job/logging.rb:22:in `block (2 levels) in <module:Logging>'
/home/york/.rvm/gems/ruby-2.5.1/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/home/york/.rvm/gems/ruby-2.5.1/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/home/york/.rvm/gems/ruby-2.5.1/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/home/york/.rvm/gems/ruby-2.5.1/gems/activejob-5.2.0/lib/active_job/execution.rb:35:in `perform_now'
/home/york/.rvm/gems/ruby-2.5.1/gems/activejob-5.2.0/lib/active_job/execution.rb:24:in `block in execute'
/home/york/.rvm/gems/ruby-2.5.1/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/home/york/.rvm/gems/ruby-2.5.1/gems/activejob-5.2.0/lib/active_job/railtie.rb:28:in `block (4 levels) in <class:Railtie>'
/home/york/.rvm/gems/ruby-2.5.1/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:87:in `wrap'
/home/york/.rvm/gems/ruby-2.5.1/gems/activesupport-5.2.0/lib/active_support/reloader.rb:73:in `block in wrap'
/home/york/.rvm/gems/ruby-2.5.1/gems/activesupport-5.2.0/lib/active_support/execution_wrapper.rb:87:in `wrap'
/home/york/.rvm/gems/ruby-2.5.1/gems/activesupport-5.2.0/lib/active_support/reloader.rb:72:in `wrap'
/home/york/.rvm/gems/ruby-2.5.1/gems/activejob-5.2.0/lib/active_job/railtie.rb:27:in `block (3 levels) in <class:Railtie>'
/home/york/.rvm/gems/ruby-2.5.1/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `instance_exec'
/home/york/.rvm/gems/ruby-2.5.1/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/home/york/.rvm/gems/ruby-2.5.1/gems/activesupport-5.2.0/lib/active_support/callbacks.rb:136:in `run_callbacks'
/home/york/.rvm/gems/ruby-2.5.1/gems/activejob-5.2.0/lib/active_job/execution.rb:22:in `execute'
/home/york/.rvm/gems/ruby-2.5.1/gems/activejob-5.2.0/lib/active_job/queue_adapters/async_adapter.rb:70:in `perform'
/home/york/.rvm/gems/ruby-2.5.1/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/safe_task_executor.rb:24:in `block in execute'
/home/york/.rvm/gems/ruby-2.5.1/gems/concurrent-ruby-1.0.5/lib/concurrent/synchronization/mri_lockable_object.rb:38:in `block in synchronize'
/home/york/.rvm/gems/ruby-2.5.1/gems/concurrent-ruby-1.0.5/lib/concurrent/synchronization/mri_lockable_object.rb:38:in `synchronize'
/home/york/.rvm/gems/ruby-2.5.1/gems/concurrent-ruby-1.0.5/lib/concurrent/synchronization/mri_lockable_object.rb:38:in `synchronize'
/home/york/.rvm/gems/ruby-2.5.1/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/safe_task_executor.rb:19:in `execute'
/home/york/.rvm/gems/ruby-2.5.1/gems/concurrent-ruby-1.0.5/lib/concurrent/ivar.rb:170:in `safe_execute'
/home/york/.rvm/gems/ruby-2.5.1/gems/concurrent-ruby-1.0.5/lib/concurrent/scheduled_task.rb:285:in `process_task'
/home/york/.rvm/gems/ruby-2.5.1/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/timer_set.rb:168:in `block (2 levels) in process_tasks'
/home/york/.rvm/gems/ruby-2.5.1/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/home/york/.rvm/gems/ruby-2.5.1/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/home/york/.rvm/gems/ruby-2.5.1/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/home/york/.rvm/gems/ruby-2.5.1/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/home/york/.rvm/gems/ruby-2.5.1/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/home/york/.rvm/gems/ruby-2.5.1/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Started GET "/" for 127.0.0.1 at 2018-08-10 17:19:32 +0300
  [1m[35m (3.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.4ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (405.6ms)
  Rendered flats/index.html.erb within layouts/application (479.7ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
Completed 200 OK in 918ms (Views: 865.0ms | ActiveRecord: 15.4ms)


Started GET "/" for 127.0.0.1 at 2018-08-10 17:20:38 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.8ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (48.6ms)
  Rendered flats/index.html.erb within layouts/application (75.1ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
Completed 200 OK in 633ms (Views: 622.5ms | ActiveRecord: 3.8ms)


Started GET "/flats?utf8=%E2%9C%93&q%5Bcity_cont%5D=&q%5Bcapacity_eq%5D=2&q%5Bprice_gteq%5D=&q%5Bprice_lteq%5D=&commit=Search" for 127.0.0.1 at 2018-08-10 17:22:48 +0300
  [1m[35m (2.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "q"=>{"city_cont"=>"", "capacity_eq"=>"2", "price_gteq"=>"", "price_lteq"=>""}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (3.2ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" WHERE "flats"."capacity" = 2 LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (2.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (423.9ms)
  Rendered flats/index.html.erb within layouts/application (486.3ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
Completed 200 OK in 963ms (Views: 907.6ms | ActiveRecord: 21.2ms)


Started GET "/flats?utf8=%E2%9C%93&q%5Bcity_cont%5D=&q%5Bcapacity_eq%5D=2&q%5Bprice_gteq%5D=50&q%5Bprice_lteq%5D=70&commit=Search" for 127.0.0.1 at 2018-08-10 17:22:59 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "q"=>{"city_cont"=>"", "capacity_eq"=>"2", "price_gteq"=>"50", "price_lteq"=>"70"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.9ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" WHERE ("flats"."capacity" = 2 AND "flats"."price" >= 50 AND "flats"."price" <= 70) LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [2 times] (40.5ms)
  Rendered flats/index.html.erb within layouts/application (57.9ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
Completed 200 OK in 529ms (Views: 518.1ms | ActiveRecord: 2.8ms)


Started GET "/" for 127.0.0.1 at 2018-08-10 17:24:03 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.9ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (52.6ms)
  Rendered flats/index.html.erb within layouts/application (70.9ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
Completed 200 OK in 343ms (Views: 330.9ms | ActiveRecord: 3.9ms)


Started GET "/users/tork" for 127.0.0.1 at 2018-08-10 17:24:07 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"tork"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."slug" = $1 LIMIT $2[0m  [["slug", "tork"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:8
  Rendering users/show.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:17
  [1m[36mFlat Load (2.0ms)[0m  [1m[34mSELECT "flats".* FROM "flats" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:51
  Rendered collection of flats/_flat.html.erb [3 times] (11.7ms)
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/users/show.html.erb:53
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:55
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:2
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:2
  Rendered collection of bookings/_booking.html.erb [2 times] (14.0ms)
  Rendered users/show.html.erb within layouts/application (103.7ms)
Completed 200 OK in 445ms (Views: 428.0ms | ActiveRecord: 9.5ms)


Started GET "/users/tork" for 127.0.0.1 at 2018-08-10 17:24:42 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"tork"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."slug" = $1 LIMIT $2[0m  [["slug", "tork"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:8
  Rendering users/show.html.erb within layouts/application
  [1m[35m (2.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:17
  [1m[36mFlat Load (2.3ms)[0m  [1m[34mSELECT "flats".* FROM "flats" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:51
  Rendered collection of flats/_flat.html.erb [3 times] (26.9ms)
  Rendered users/show.html.erb within layouts/application (39.7ms)
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
Completed 200 OK in 580ms (Views: 568.5ms | ActiveRecord: 6.5ms)


Started GET "/users" for 127.0.0.1 at 2018-08-10 17:36:57 +0300
Processing by UsersController#index as HTML
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."vendor" = $1[0m  [["vendor", true]]
  ↳ app/views/users/index.html.erb:12
  [1m[35m (4.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/index.html.erb:16
  Rendered users/index.html.erb within layouts/application (20.3ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
Completed 200 OK in 299ms (Views: 288.0ms | ActiveRecord: 6.6ms)


Started GET "/" for 127.0.0.1 at 2018-08-10 17:37:00 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (10.2ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (29.5ms)
  Rendered flats/index.html.erb within layouts/application (62.6ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:49
Completed 200 OK in 323ms (Views: 304.2ms | ActiveRecord: 12.4ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-10 18:02:32 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (3.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:57
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (2.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (60.9ms)
  Rendered flats/show.html.erb within layouts/application (75.3ms)
Completed 200 OK in 320ms (Views: 299.2ms | ActiveRecord: 8.1ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-10 18:05:15 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (1.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:57
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (16.6ms)
  Rendered flats/show.html.erb within layouts/application (35.4ms)
Completed 200 OK in 601ms (Views: 584.0ms | ActiveRecord: 5.5ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-10 18:05:32 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:57
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (4.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (16.6ms)
  Rendered flats/show.html.erb within layouts/application (40.4ms)
Completed 200 OK in 534ms (Views: 526.7ms | ActiveRecord: 5.3ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-10 18:06:35 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:57
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (15.0ms)
  Rendered flats/show.html.erb within layouts/application (40.8ms)
Completed 200 OK in 776ms (Views: 769.1ms | ActiveRecord: 4.6ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-10 18:06:55 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (1.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:57
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (3.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (20.5ms)
  Rendered flats/show.html.erb within layouts/application (48.1ms)
Completed 200 OK in 637ms (Views: 621.9ms | ActiveRecord: 6.2ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-10 18:07:33 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (1.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:57
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (14.6ms)
  Rendered flats/show.html.erb within layouts/application (43.4ms)
Completed 200 OK in 504ms (Views: 489.0ms | ActiveRecord: 4.1ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-10 18:07:35 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:57
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (15.2ms)
  Rendered flats/show.html.erb within layouts/application (36.0ms)
Completed 200 OK in 621ms (Views: 614.0ms | ActiveRecord: 3.0ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-10 18:07:38 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:57
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (13.6ms)
  Rendered flats/show.html.erb within layouts/application (19.4ms)
Completed 200 OK in 465ms (Views: 460.3ms | ActiveRecord: 2.9ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-10 18:07:54 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:57
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (8.1ms)
  Rendered flats/show.html.erb within layouts/application (20.1ms)
Completed 200 OK in 672ms (Views: 666.9ms | ActiveRecord: 1.8ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-10 18:17:06 +0300
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (2.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (44.7ms)
  Rendered flats/show.html.erb within layouts/application (674.4ms)
Completed 200 OK in 1611ms (Views: 1484.8ms | ActiveRecord: 29.8ms)


Started GET "/" for 127.0.0.1 at 2018-08-11 15:30:57 +0300
  [1m[35m (2.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (3.4ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (4.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (458.8ms)
  Rendered flats/index.html.erb within layouts/application (495.0ms)
Completed 200 OK in 818ms (Views: 761.3ms | ActiveRecord: 16.9ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-08-11 15:31:51 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (0.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered bookings/_form.html.erb (39.2ms)
  Rendered flats/show.html.erb within layouts/application (51.4ms)
Completed 200 OK in 236ms (Views: 225.3ms | ActiveRecord: 4.0ms)


Started GET "/" for 127.0.0.1 at 2018-08-11 17:06:01 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (6.7ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (2.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (30.6ms)
  Rendered flats/index.html.erb within layouts/application (49.1ms)
Completed 500 Internal Server Error in 106ms (ActiveRecord: 10.1ms)


  
ActionView::Template::Error (couldn't find file 'fullcalendar' with type 'text/css'
Checked in these paths: 
  /home/york/Документы/Projects/FlatBooking/app/assets/config
  /home/york/Документы/Projects/FlatBooking/app/assets/images
  /home/york/Документы/Projects/FlatBooking/app/assets/javascripts
  /home/york/Документы/Projects/FlatBooking/app/assets/stylesheets
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-daterangepicker-rails-3.0.3/vendor/assets/javascripts
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-daterangepicker-rails-3.0.3/vendor/assets/stylesheets
  /home/york/.rvm/gems/ruby-2.5.1/gems/momentjs-rails-2.20.1/vendor/assets/javascripts
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-datepicker-rails-1.8.0.1/vendor/assets/javascripts
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-datepicker-rails-1.8.0.1/vendor/assets/stylesheets
  /home/york/.rvm/gems/ruby-2.5.1/gems/jquery-rails-4.3.3/vendor/assets/javascripts
  /home/york/.rvm/gems/ruby-2.5.1/gems/coffee-rails-4.2.2/lib/assets/javascripts
  /home/york/.rvm/gems/ruby-2.5.1/gems/actioncable-5.2.0/lib/assets/compiled
  /home/york/.rvm/gems/ruby-2.5.1/gems/activestorage-5.2.0/app/assets/javascripts
  /home/york/.rvm/gems/ruby-2.5.1/gems/actionview-5.2.0/lib/assets/compiled
  /home/york/.rvm/gems/ruby-2.5.1/gems/turbolinks-source-5.1.0/lib/assets/javascripts
  /home/york/Документы/Projects/FlatBooking/node_modules
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-sass-3.3.7/assets/stylesheets
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-sass-3.3.7/assets/javascripts
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-sass-3.3.7/assets/fonts
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-sass-3.3.7/assets/images):
     6:     <%= Gon::Base.render_data %>
     7:     <%= csrf_meta_tags %>
     8:     <%= csp_meta_tag %>
     9:     <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    10:     <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
    11: 
    12:     <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  
app/assets/stylesheets/application.scss:15
app/views/layouts/application.html.erb:9:in `_app_views_layouts_application_html_erb__2358376165377961307_70137913062660'
Started GET "/" for 127.0.0.1 at 2018-08-11 17:08:42 +0300
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.8ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (2088.9ms)
  Rendered flats/index.html.erb within layouts/application (2119.9ms)
Completed 200 OK in 2523ms (Views: 2480.3ms | ActiveRecord: 9.6ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-08-11 17:08:49 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (0.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered bookings/_form.html.erb (27.4ms)
  Rendered flats/show.html.erb within layouts/application (35.8ms)
Completed 200 OK in 230ms (Views: 215.7ms | ActiveRecord: 8.6ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-08-11 17:10:26 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (1.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered bookings/_form.html.erb (5.5ms)
  Rendered flats/show.html.erb within layouts/application (27.1ms)
Completed 200 OK in 414ms (Views: 402.4ms | ActiveRecord: 2.8ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-08-11 17:10:36 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (1.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered bookings/_form.html.erb (7.1ms)
  Rendered flats/show.html.erb within layouts/application (30.4ms)
Completed 200 OK in 276ms (Views: 266.6ms | ActiveRecord: 2.6ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-08-11 17:13:44 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (0.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered bookings/_form.html.erb (7.9ms)
  Rendered flats/show.html.erb within layouts/application (30.3ms)
Completed 200 OK in 419ms (Views: 412.0ms | ActiveRecord: 1.7ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-08-11 17:13:51 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (1.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered bookings/_form.html.erb (11.1ms)
  Rendered flats/show.html.erb within layouts/application (27.7ms)
Completed 200 OK in 281ms (Views: 271.2ms | ActiveRecord: 2.4ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-08-11 17:13:52 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered bookings/_form.html.erb (2.1ms)
  Rendered flats/show.html.erb within layouts/application (7.3ms)
Completed 200 OK in 234ms (Views: 231.1ms | ActiveRecord: 1.0ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-08-11 17:13:53 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered bookings/_form.html.erb (8.1ms)
  Rendered flats/show.html.erb within layouts/application (21.5ms)
Completed 200 OK in 259ms (Views: 252.4ms | ActiveRecord: 1.2ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-08-11 17:13:54 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered bookings/_form.html.erb (7.4ms)
  Rendered flats/show.html.erb within layouts/application (28.6ms)
Completed 200 OK in 288ms (Views: 278.1ms | ActiveRecord: 1.9ms)


Started GET "/" for 127.0.0.1 at 2018-08-11 17:13:57 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (4.5ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (30.3ms)
  Rendered flats/index.html.erb within layouts/application (46.4ms)
Completed 200 OK in 265ms (Views: 235.0ms | ActiveRecord: 5.5ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-11 17:13:58 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered bookings/_form.html.erb (5.1ms)
  Rendered flats/show.html.erb within layouts/application (18.9ms)
Completed 200 OK in 258ms (Views: 253.2ms | ActiveRecord: 0.8ms)


Started GET "/" for 127.0.0.1 at 2018-08-11 17:14:01 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.4ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (30.6ms)
  Rendered flats/index.html.erb within layouts/application (47.8ms)
Completed 200 OK in 309ms (Views: 302.1ms | ActiveRecord: 2.6ms)


Started GET "/flats/2" for 127.0.0.1 at 2018-08-11 17:14:03 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered bookings/_form.html.erb (9.6ms)
  Rendered flats/show.html.erb within layouts/application (29.9ms)
Completed 200 OK in 252ms (Views: 244.0ms | ActiveRecord: 1.5ms)


Started GET "/" for 127.0.0.1 at 2018-08-11 17:15:36 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.2ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (35.0ms)
  Rendered flats/index.html.erb within layouts/application (53.6ms)
Completed 200 OK in 1619ms (Views: 1612.4ms | ActiveRecord: 2.0ms)


Started GET "/" for 127.0.0.1 at 2018-08-11 17:15:38 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (9.6ms)
  Rendered flats/index.html.erb within layouts/application (14.9ms)
Completed 200 OK in 258ms (Views: 254.8ms | ActiveRecord: 1.0ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-08-11 17:15:39 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered bookings/_form.html.erb (5.4ms)
  Rendered flats/show.html.erb within layouts/application (19.6ms)
Completed 200 OK in 263ms (Views: 256.4ms | ActiveRecord: 1.2ms)


Started GET "/" for 127.0.0.1 at 2018-08-11 17:19:45 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.4ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (38.6ms)
  Rendered flats/index.html.erb within layouts/application (60.7ms)
Completed 200 OK in 483ms (Views: 473.7ms | ActiveRecord: 3.3ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2018-08-11 17:19:54 +0300
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.1ms)
  Rendered devise/sessions/new.html.erb within layouts/application (9.5ms)
Completed 200 OK in 714ms (Views: 690.0ms | ActiveRecord: 3.3ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-08-11 17:20:04 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"kjg61AIgB171YzQ0EN1sZjvfrOspV97MVCFxppqGolbsxUNb8VNeLxENjwHm5UilmGusT17NrpywbXrUOWc4cA==", "user"=>{"email"=>"Tork@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (2.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "tork@gmail.com"], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (1.0ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = $1, "last_sign_in_at" = $2, "sign_in_count" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["current_sign_in_at", "2018-08-11 14:20:04.254639"], ["last_sign_in_at", "2018-08-10 13:15:36.191833"], ["sign_in_count", 14], ["updated_at", "2018-08-11 14:20:04.255704"], ["id", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 204ms (ActiveRecord: 5.3ms)


Started GET "/" for 127.0.0.1 at 2018-08-11 17:20:04 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.3ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (13.8ms)
  Rendered flats/index.html.erb within layouts/application (36.0ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:50
Completed 200 OK in 248ms (Views: 236.5ms | ActiveRecord: 4.1ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-08-11 17:20:05 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (19.6ms)
  Rendered flats/show.html.erb within layouts/application (25.5ms)
Completed 200 OK in 223ms (Views: 216.9ms | ActiveRecord: 3.7ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-08-11 17:20:10 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (1.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (13.5ms)
  Rendered flats/show.html.erb within layouts/application (33.6ms)
Completed 200 OK in 319ms (Views: 307.8ms | ActiveRecord: 4.3ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-08-11 17:22:47 +0300
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/show.html.erb within layouts/application (170.9ms)
Completed 500 Internal Server Error in 242ms (ActiveRecord: 10.4ms)


  
ActionView::Template::Error (couldn't find file 'jquery-ui' with type 'application/javascript'
Checked in these paths: 
  /home/york/Документы/Projects/FlatBooking/app/assets/config
  /home/york/Документы/Projects/FlatBooking/app/assets/images
  /home/york/Документы/Projects/FlatBooking/app/assets/javascripts
  /home/york/Документы/Projects/FlatBooking/app/assets/stylesheets
  /home/york/Документы/Projects/FlatBooking/vendor/assets/javascripts
  /home/york/Документы/Projects/FlatBooking/vendor/assets/stylesheets
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-daterangepicker-rails-3.0.3/vendor/assets/javascripts
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-daterangepicker-rails-3.0.3/vendor/assets/stylesheets
  /home/york/.rvm/gems/ruby-2.5.1/gems/momentjs-rails-2.20.1/vendor/assets/javascripts
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-datepicker-rails-1.8.0.1/vendor/assets/javascripts
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-datepicker-rails-1.8.0.1/vendor/assets/stylesheets
  /home/york/.rvm/gems/ruby-2.5.1/gems/jquery-rails-4.3.3/vendor/assets/javascripts
  /home/york/.rvm/gems/ruby-2.5.1/gems/coffee-rails-4.2.2/lib/assets/javascripts
  /home/york/.rvm/gems/ruby-2.5.1/gems/actioncable-5.2.0/lib/assets/compiled
  /home/york/.rvm/gems/ruby-2.5.1/gems/activestorage-5.2.0/app/assets/javascripts
  /home/york/.rvm/gems/ruby-2.5.1/gems/actionview-5.2.0/lib/assets/compiled
  /home/york/.rvm/gems/ruby-2.5.1/gems/turbolinks-source-5.1.0/lib/assets/javascripts
  /home/york/Документы/Projects/FlatBooking/node_modules
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-sass-3.3.7/assets/stylesheets
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-sass-3.3.7/assets/javascripts
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-sass-3.3.7/assets/fonts
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-sass-3.3.7/assets/images):
    11:         <%= link_to "Delete", flat_path(@flat), method: :delete,
    12:         data: { confirm: 'Are you sure?' } %>
    13:     </small><br/>
    14:     <%= image_tag("address_icon", size: "12")%> <%= @flat.city ? @flat.city : '' %>, <%= @flat.address %>
    15:   </section>
    16: 
    17:   <section class="flat-content">
  
app/assets/javascripts/application.js:17
app/views/flats/show.html.erb:14:in `_app_views_flats_show_html_erb___3330891877357418377_46934940710840'
Started GET "/flats/3" for 127.0.0.1 at 2018-08-11 17:23:50 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (1.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/show.html.erb within layouts/application (58.7ms)
Completed 500 Internal Server Error in 77ms (ActiveRecord: 3.1ms)


  
ActionView::Template::Error (couldn't find file 'jquery-ui' with type 'application/javascript'
Checked in these paths: 
  /home/york/Документы/Projects/FlatBooking/app/assets/config
  /home/york/Документы/Projects/FlatBooking/app/assets/images
  /home/york/Документы/Projects/FlatBooking/app/assets/javascripts
  /home/york/Документы/Projects/FlatBooking/app/assets/stylesheets
  /home/york/Документы/Projects/FlatBooking/vendor/assets/javascripts
  /home/york/Документы/Projects/FlatBooking/vendor/assets/stylesheets
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-daterangepicker-rails-3.0.3/vendor/assets/javascripts
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-daterangepicker-rails-3.0.3/vendor/assets/stylesheets
  /home/york/.rvm/gems/ruby-2.5.1/gems/momentjs-rails-2.20.1/vendor/assets/javascripts
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-datepicker-rails-1.8.0.1/vendor/assets/javascripts
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-datepicker-rails-1.8.0.1/vendor/assets/stylesheets
  /home/york/.rvm/gems/ruby-2.5.1/gems/jquery-rails-4.3.3/vendor/assets/javascripts
  /home/york/.rvm/gems/ruby-2.5.1/gems/coffee-rails-4.2.2/lib/assets/javascripts
  /home/york/.rvm/gems/ruby-2.5.1/gems/actioncable-5.2.0/lib/assets/compiled
  /home/york/.rvm/gems/ruby-2.5.1/gems/activestorage-5.2.0/app/assets/javascripts
  /home/york/.rvm/gems/ruby-2.5.1/gems/actionview-5.2.0/lib/assets/compiled
  /home/york/.rvm/gems/ruby-2.5.1/gems/turbolinks-source-5.1.0/lib/assets/javascripts
  /home/york/Документы/Projects/FlatBooking/node_modules
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-sass-3.3.7/assets/stylesheets
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-sass-3.3.7/assets/javascripts
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-sass-3.3.7/assets/fonts
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-sass-3.3.7/assets/images):
    11:         <%= link_to "Delete", flat_path(@flat), method: :delete,
    12:         data: { confirm: 'Are you sure?' } %>
    13:     </small><br/>
    14:     <%= image_tag("address_icon", size: "12")%> <%= @flat.city ? @flat.city : '' %>, <%= @flat.address %>
    15:   </section>
    16: 
    17:   <section class="flat-content">
  
app/assets/javascripts/application.js:17
app/views/flats/show.html.erb:14:in `_app_views_flats_show_html_erb___3330891877357418377_70002247909560'
Started GET "/flats/3" for 127.0.0.1 at 2018-08-11 17:23:56 +0300
  [1m[35m (1.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/show.html.erb within layouts/application (153.6ms)
Completed 500 Internal Server Error in 218ms (ActiveRecord: 10.5ms)


  
ActionView::Template::Error (couldn't find file 'jquery-ui' with type 'application/javascript'
Checked in these paths: 
  /home/york/Документы/Projects/FlatBooking/app/assets/config
  /home/york/Документы/Projects/FlatBooking/app/assets/images
  /home/york/Документы/Projects/FlatBooking/app/assets/javascripts
  /home/york/Документы/Projects/FlatBooking/app/assets/stylesheets
  /home/york/Документы/Projects/FlatBooking/vendor/assets/javascripts
  /home/york/Документы/Projects/FlatBooking/vendor/assets/stylesheets
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-daterangepicker-rails-3.0.3/vendor/assets/javascripts
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-daterangepicker-rails-3.0.3/vendor/assets/stylesheets
  /home/york/.rvm/gems/ruby-2.5.1/gems/momentjs-rails-2.20.1/vendor/assets/javascripts
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-datepicker-rails-1.8.0.1/vendor/assets/javascripts
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-datepicker-rails-1.8.0.1/vendor/assets/stylesheets
  /home/york/.rvm/gems/ruby-2.5.1/gems/jquery-rails-4.3.3/vendor/assets/javascripts
  /home/york/.rvm/gems/ruby-2.5.1/gems/coffee-rails-4.2.2/lib/assets/javascripts
  /home/york/.rvm/gems/ruby-2.5.1/gems/actioncable-5.2.0/lib/assets/compiled
  /home/york/.rvm/gems/ruby-2.5.1/gems/activestorage-5.2.0/app/assets/javascripts
  /home/york/.rvm/gems/ruby-2.5.1/gems/actionview-5.2.0/lib/assets/compiled
  /home/york/.rvm/gems/ruby-2.5.1/gems/turbolinks-source-5.1.0/lib/assets/javascripts
  /home/york/Документы/Projects/FlatBooking/node_modules
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-sass-3.3.7/assets/stylesheets
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-sass-3.3.7/assets/javascripts
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-sass-3.3.7/assets/fonts
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-sass-3.3.7/assets/images):
    11:         <%= link_to "Delete", flat_path(@flat), method: :delete,
    12:         data: { confirm: 'Are you sure?' } %>
    13:     </small><br/>
    14:     <%= image_tag("address_icon", size: "12")%> <%= @flat.city ? @flat.city : '' %>, <%= @flat.address %>
    15:   </section>
    16: 
    17:   <section class="flat-content">
  
app/assets/javascripts/application.js:17
app/views/flats/show.html.erb:14:in `_app_views_flats_show_html_erb___118650514324783763_47204049403100'
Started GET "/flats/3" for 127.0.0.1 at 2018-08-11 17:24:34 +0300
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (0.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (27.3ms)
  Rendered flats/show.html.erb within layouts/application (1680.7ms)
Completed 200 OK in 2156ms (Views: 2088.2ms | ActiveRecord: 15.4ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-08-11 17:24:52 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (0.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (10.3ms)
  Rendered flats/show.html.erb within layouts/application (28.3ms)
Completed 200 OK in 1745ms (Views: 1737.3ms | ActiveRecord: 2.5ms)


Started GET "/" for 127.0.0.1 at 2018-08-11 17:24:57 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.8ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (22.8ms)
  Rendered flats/index.html.erb within layouts/application (39.0ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:50
Completed 200 OK in 249ms (Views: 241.4ms | ActiveRecord: 4.0ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-08-11 17:24:59 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (0.9ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (10.9ms)
  Rendered flats/show.html.erb within layouts/application (25.3ms)
Completed 200 OK in 270ms (Views: 260.6ms | ActiveRecord: 2.8ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-08-11 17:26:03 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (1.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (16.7ms)
  Rendered flats/show.html.erb within layouts/application (43.9ms)
Completed 200 OK in 335ms (Views: 321.2ms | ActiveRecord: 5.3ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-08-11 17:26:47 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (1.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (15.2ms)
  Rendered flats/show.html.erb within layouts/application (36.3ms)
Completed 200 OK in 1691ms (Views: 1678.6ms | ActiveRecord: 5.2ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-08-11 17:26:52 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (1.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (13.5ms)
  Rendered flats/show.html.erb within layouts/application (31.9ms)
Completed 200 OK in 312ms (Views: 300.4ms | ActiveRecord: 2.8ms)


Started GET "/" for 127.0.0.1 at 2018-08-11 17:26:56 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (14.2ms)
  Rendered flats/index.html.erb within layouts/application (23.8ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:50
Completed 200 OK in 232ms (Views: 227.6ms | ActiveRecord: 1.4ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-08-11 17:26:58 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (5.2ms)
  Rendered flats/show.html.erb within layouts/application (12.4ms)
Completed 200 OK in 238ms (Views: 231.2ms | ActiveRecord: 1.6ms)


Started GET "/" for 127.0.0.1 at 2018-08-11 19:28:43 +0300
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.8ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (2.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (1130.3ms)
  Rendered flats/index.html.erb within layouts/application (1181.0ms)
Completed 200 OK in 1698ms (Views: 1634.6ms | ActiveRecord: 17.3ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-08-11 19:28:48 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (2.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered bookings/_form.html.erb (134.5ms)
  Rendered flats/show.html.erb within layouts/application (169.7ms)
Completed 200 OK in 1544ms (Views: 1504.5ms | ActiveRecord: 23.7ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-08-11 19:33:23 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (0.9ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered bookings/_form.html.erb (10.3ms)
  Rendered flats/show.html.erb within layouts/application (27.8ms)
Completed 200 OK in 1601ms (Views: 1593.0ms | ActiveRecord: 2.1ms)


Started POST "/flats/3/bookings" for 127.0.0.1 at 2018-08-11 19:33:33 +0300
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"7D30XBNSmRzysUWhrQAHtgipZufVbnxC4B04n9tFL3RS/Tyrp5rVK9AtBPMKc+lI1rt6cWdQyAJZlbnblHp2Jw==", "booking"=>{"notice"=>"", "start_date"=>"rtyrtyrty", "end_date"=>"tyrtyr"}, "commit"=>"Book this flat", "flat_id"=>"3"}
Completed 401 Unauthorized in 2ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2018-08-11 19:33:33 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.4ms)
  Rendered devise/sessions/new.html.erb within layouts/application (10.9ms)
Completed 200 OK in 214ms (Views: 209.9ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-08-11 19:33:40 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"H0pgSo56ALjIok7EERubr6IjerZpZfqmO36NrIiDzs6hiqi9OrJMj+o+D5a2aHVRfDFmINtbTuaC9gzox7yXnQ==", "user"=>{"email"=>"Tork@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "tork@gmail.com"], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (1.0ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = $1, "last_sign_in_at" = $2, "sign_in_count" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["current_sign_in_at", "2018-08-11 16:33:40.341919"], ["last_sign_in_at", "2018-08-11 14:20:04.254639"], ["sign_in_count", 15], ["updated_at", "2018-08-11 16:33:40.343365"], ["id", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 218ms (ActiveRecord: 4.4ms)


Started GET "/" for 127.0.0.1 at 2018-08-11 19:33:40 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (10.4ms)
  Rendered flats/index.html.erb within layouts/application (15.8ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:45
Completed 200 OK in 212ms (Views: 209.3ms | ActiveRecord: 1.5ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-08-11 19:33:43 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (0.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (7.4ms)
  Rendered flats/show.html.erb within layouts/application (21.1ms)
Completed 200 OK in 211ms (Views: 203.7ms | ActiveRecord: 2.2ms)


Started GET "/" for 127.0.0.1 at 2018-08-11 19:34:01 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.1ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (30.9ms)
  Rendered flats/index.html.erb within layouts/application (48.5ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:45
Completed 200 OK in 270ms (Views: 262.7ms | ActiveRecord: 2.7ms)


Started GET "/" for 127.0.0.1 at 2018-08-11 19:34:08 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.4ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (31.2ms)
  Rendered flats/index.html.erb within layouts/application (54.1ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:45
Completed 200 OK in 294ms (Views: 287.6ms | ActiveRecord: 2.7ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-08-11 19:40:48 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (2.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (10.3ms)
  Rendered flats/show.html.erb within layouts/application (23.4ms)
Completed 200 OK in 320ms (Views: 309.0ms | ActiveRecord: 5.0ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-08-11 19:40:50 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (5.1ms)
  Rendered flats/show.html.erb within layouts/application (12.2ms)
Completed 200 OK in 243ms (Views: 239.4ms | ActiveRecord: 1.4ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-08-11 19:43:00 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (1.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (15.1ms)
  Rendered flats/show.html.erb within layouts/application (31.7ms)
Completed 200 OK in 407ms (Views: 392.6ms | ActiveRecord: 3.7ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-08-11 19:43:21 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (0.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (14.0ms)
  Rendered flats/show.html.erb within layouts/application (31.8ms)
Completed 200 OK in 420ms (Views: 409.7ms | ActiveRecord: 3.1ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-08-11 19:44:44 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (1.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (6.7ms)
  Rendered flats/show.html.erb within layouts/application (17.2ms)
Completed 200 OK in 374ms (Views: 361.6ms | ActiveRecord: 2.7ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-08-11 19:54:09 +0300
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (17.1ms)
  Rendered flats/show.html.erb within layouts/application (2095.9ms)
Completed 200 OK in 2453ms (Views: 2416.3ms | ActiveRecord: 9.1ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-08-11 19:55:35 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (1.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (6.1ms)
  Rendered flats/show.html.erb within layouts/application (18.9ms)
Completed 200 OK in 274ms (Views: 257.9ms | ActiveRecord: 2.8ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-08-11 20:10:29 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (1.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (2.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (7.7ms)
  Rendered flats/show.html.erb within layouts/application (20.2ms)
Completed 200 OK in 1721ms (Views: 1711.3ms | ActiveRecord: 5.6ms)


Started GET "/" for 127.0.0.1 at 2018-08-11 20:10:41 +0300
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.1ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (504.4ms)
  Rendered flats/index.html.erb within layouts/application (525.5ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:45
Completed 200 OK in 757ms (Views: 738.0ms | ActiveRecord: 7.2ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-08-11 20:10:43 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (5.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (23.1ms)
  Rendered flats/show.html.erb within layouts/application (34.5ms)
Completed 200 OK in 244ms (Views: 231.4ms | ActiveRecord: 9.5ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-08-11 20:16:55 +0300
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (24.6ms)
  Rendered flats/show.html.erb within layouts/application (493.8ms)
Completed 200 OK in 758ms (Views: 701.0ms | ActiveRecord: 13.0ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-08-11 20:19:10 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (1.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (11.2ms)
  Rendered flats/show.html.erb within layouts/application (33.4ms)
Completed 200 OK in 621ms (Views: 608.4ms | ActiveRecord: 3.3ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-08-11 20:19:26 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (0.9ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (11.0ms)
  Rendered flats/show.html.erb within layouts/application (30.9ms)
Completed 200 OK in 545ms (Views: 531.5ms | ActiveRecord: 3.6ms)


Started GET "/" for 127.0.0.1 at 2018-08-11 20:21:31 +0300
  [1m[35m (2.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.3ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (2274.8ms)
  Rendered flats/index.html.erb within layouts/application (2297.4ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:45
Completed 200 OK in 2774ms (Views: 2743.7ms | ActiveRecord: 7.9ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-08-11 20:21:39 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (2.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (5.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (52.5ms)
  Rendered flats/show.html.erb within layouts/application (76.0ms)
Completed 200 OK in 286ms (Views: 252.0ms | ActiveRecord: 19.1ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-08-11 20:22:37 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (1.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (12.4ms)
  Rendered flats/show.html.erb within layouts/application (33.0ms)
Completed 200 OK in 1718ms (Views: 1705.4ms | ActiveRecord: 3.2ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-08-11 20:23:47 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (2.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (16.0ms)
  Rendered flats/show.html.erb within layouts/application (47.1ms)
Completed 500 Internal Server Error in 156ms (ActiveRecord: 4.8ms)


  
ActionView::Template::Error (couldn't find file 'jquery-ujs' with type 'application/javascript'
Checked in these paths: 
  /home/york/Документы/Projects/FlatBooking/app/assets/config
  /home/york/Документы/Projects/FlatBooking/app/assets/images
  /home/york/Документы/Projects/FlatBooking/app/assets/javascripts
  /home/york/Документы/Projects/FlatBooking/app/assets/stylesheets
  /home/york/Документы/Projects/FlatBooking/lib/assets/javascripts
  /home/york/Документы/Projects/FlatBooking/vendor/assets/javascripts
  /home/york/Документы/Projects/FlatBooking/vendor/assets/stylesheets
  /home/york/.rvm/gems/ruby-2.5.1/gems/fullcalendar-rails-3.9.0.0/vendor/assets/javascripts
  /home/york/.rvm/gems/ruby-2.5.1/gems/fullcalendar-rails-3.9.0.0/vendor/assets/stylesheets
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-daterangepicker-rails-3.0.3/vendor/assets/javascripts
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-daterangepicker-rails-3.0.3/vendor/assets/stylesheets
  /home/york/.rvm/gems/ruby-2.5.1/gems/momentjs-rails-2.20.1/vendor/assets/javascripts
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-datepicker-rails-1.8.0.1/vendor/assets/javascripts
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-datepicker-rails-1.8.0.1/vendor/assets/stylesheets
  /home/york/.rvm/gems/ruby-2.5.1/gems/jquery-rails-4.3.3/vendor/assets/javascripts
  /home/york/.rvm/gems/ruby-2.5.1/gems/coffee-rails-4.2.2/lib/assets/javascripts
  /home/york/.rvm/gems/ruby-2.5.1/gems/actioncable-5.2.0/lib/assets/compiled
  /home/york/.rvm/gems/ruby-2.5.1/gems/activestorage-5.2.0/app/assets/javascripts
  /home/york/.rvm/gems/ruby-2.5.1/gems/actionview-5.2.0/lib/assets/compiled
  /home/york/.rvm/gems/ruby-2.5.1/gems/turbolinks-source-5.1.0/lib/assets/javascripts
  /home/york/Документы/Projects/FlatBooking/node_modules
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-sass-3.3.7/assets/stylesheets
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-sass-3.3.7/assets/javascripts
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-sass-3.3.7/assets/fonts
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-sass-3.3.7/assets/images):
     7:     <%= csrf_meta_tags %>
     8:     <%= csp_meta_tag %>
     9:     <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    10:     <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
    11: 
    12:     <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    13:     <!--  jQuery -->
  
app/assets/javascripts/application.js:16
app/views/layouts/application.html.erb:10:in `_app_views_layouts_application_html_erb__2970442127185165851_69966816832400'
Started GET "/flats/3" for 127.0.0.1 at 2018-08-11 20:27:46 +0300
  [1m[35m (2.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/show.html.erb within layouts/application (178.1ms)
Completed 500 Internal Server Error in 231ms (ActiveRecord: 10.4ms)


  
ActionView::Template::Error (couldn't find file 'jquery-ujs' with type 'application/javascript'
Checked in these paths: 
  /home/york/Документы/Projects/FlatBooking/app/assets/config
  /home/york/Документы/Projects/FlatBooking/app/assets/images
  /home/york/Документы/Projects/FlatBooking/app/assets/javascripts
  /home/york/Документы/Projects/FlatBooking/app/assets/stylesheets
  /home/york/Документы/Projects/FlatBooking/lib/assets/javascripts
  /home/york/Документы/Projects/FlatBooking/vendor/assets/javascripts
  /home/york/Документы/Projects/FlatBooking/vendor/assets/stylesheets
  /home/york/.rvm/gems/ruby-2.5.1/gems/fullcalendar-rails-3.9.0.0/vendor/assets/javascripts
  /home/york/.rvm/gems/ruby-2.5.1/gems/fullcalendar-rails-3.9.0.0/vendor/assets/stylesheets
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-daterangepicker-rails-3.0.3/vendor/assets/javascripts
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-daterangepicker-rails-3.0.3/vendor/assets/stylesheets
  /home/york/.rvm/gems/ruby-2.5.1/gems/momentjs-rails-2.20.1/vendor/assets/javascripts
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-datepicker-rails-1.8.0.1/vendor/assets/javascripts
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-datepicker-rails-1.8.0.1/vendor/assets/stylesheets
  /home/york/.rvm/gems/ruby-2.5.1/gems/jquery-rails-4.3.3/vendor/assets/javascripts
  /home/york/.rvm/gems/ruby-2.5.1/gems/coffee-rails-4.2.2/lib/assets/javascripts
  /home/york/.rvm/gems/ruby-2.5.1/gems/actioncable-5.2.0/lib/assets/compiled
  /home/york/.rvm/gems/ruby-2.5.1/gems/activestorage-5.2.0/app/assets/javascripts
  /home/york/.rvm/gems/ruby-2.5.1/gems/actionview-5.2.0/lib/assets/compiled
  /home/york/.rvm/gems/ruby-2.5.1/gems/turbolinks-source-5.1.0/lib/assets/javascripts
  /home/york/Документы/Projects/FlatBooking/node_modules
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-sass-3.3.7/assets/stylesheets
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-sass-3.3.7/assets/javascripts
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-sass-3.3.7/assets/fonts
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-sass-3.3.7/assets/images):
    11:         <%= link_to "Delete", flat_path(@flat), method: :delete,
    12:         data: { confirm: 'Are you sure?' } %>
    13:     </small><br/>
    14:     <%= image_tag("address_icon", size: "12")%> <%= @flat.city ? @flat.city : '' %>, <%= @flat.address %>
    15:   </section>
    16: 
    17:   <section class="flat-content">
  
app/assets/javascripts/application.js:16
app/views/flats/show.html.erb:14:in `_app_views_flats_show_html_erb__3507443440112690049_46931840389640'
Started GET "/" for 127.0.0.1 at 2018-08-11 20:27:51 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.0ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (20.5ms)
  Rendered flats/index.html.erb within layouts/application (25.2ms)
Completed 500 Internal Server Error in 29ms (ActiveRecord: 2.4ms)


  
ActionView::Template::Error (couldn't find file 'jquery-ujs' with type 'application/javascript'
Checked in these paths: 
  /home/york/Документы/Projects/FlatBooking/app/assets/config
  /home/york/Документы/Projects/FlatBooking/app/assets/images
  /home/york/Документы/Projects/FlatBooking/app/assets/javascripts
  /home/york/Документы/Projects/FlatBooking/app/assets/stylesheets
  /home/york/Документы/Projects/FlatBooking/lib/assets/javascripts
  /home/york/Документы/Projects/FlatBooking/vendor/assets/javascripts
  /home/york/Документы/Projects/FlatBooking/vendor/assets/stylesheets
  /home/york/.rvm/gems/ruby-2.5.1/gems/fullcalendar-rails-3.9.0.0/vendor/assets/javascripts
  /home/york/.rvm/gems/ruby-2.5.1/gems/fullcalendar-rails-3.9.0.0/vendor/assets/stylesheets
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-daterangepicker-rails-3.0.3/vendor/assets/javascripts
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-daterangepicker-rails-3.0.3/vendor/assets/stylesheets
  /home/york/.rvm/gems/ruby-2.5.1/gems/momentjs-rails-2.20.1/vendor/assets/javascripts
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-datepicker-rails-1.8.0.1/vendor/assets/javascripts
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-datepicker-rails-1.8.0.1/vendor/assets/stylesheets
  /home/york/.rvm/gems/ruby-2.5.1/gems/jquery-rails-4.3.3/vendor/assets/javascripts
  /home/york/.rvm/gems/ruby-2.5.1/gems/coffee-rails-4.2.2/lib/assets/javascripts
  /home/york/.rvm/gems/ruby-2.5.1/gems/actioncable-5.2.0/lib/assets/compiled
  /home/york/.rvm/gems/ruby-2.5.1/gems/activestorage-5.2.0/app/assets/javascripts
  /home/york/.rvm/gems/ruby-2.5.1/gems/actionview-5.2.0/lib/assets/compiled
  /home/york/.rvm/gems/ruby-2.5.1/gems/turbolinks-source-5.1.0/lib/assets/javascripts
  /home/york/Документы/Projects/FlatBooking/node_modules
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-sass-3.3.7/assets/stylesheets
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-sass-3.3.7/assets/javascripts
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-sass-3.3.7/assets/fonts
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-sass-3.3.7/assets/images):
    14:         <%= link_to "Delete", flat_path(flat), method: :delete,
    15:         data: { confirm: 'Are you sure?' } %>
    16:     </small><br/>
    17:     <%= image_tag("address_icon", size: "12")%> <%= flat.city ? flat.city : '' %>, <%= flat.address %>
    18:   </section>
    19: 
    20:   <section class="flat-content clearfix">
  
app/assets/javascripts/application.js:16
app/views/flats/_flat.html.erb:17:in `_app_views_flats__flat_html_erb___3099249606412451719_70307118526200'
app/views/flats/index.html.erb:4:in `_app_views_flats_index_html_erb__1960631673761457183_70307118689600'
Started GET "/" for 127.0.0.1 at 2018-08-11 20:36:48 +0300
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.6ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (2105.4ms)
  Rendered flats/index.html.erb within layouts/application (2131.7ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:45
Completed 200 OK in 2562ms (Views: 2533.1ms | ActiveRecord: 9.7ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-08-11 20:37:09 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (1.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (42.6ms)
  Rendered flats/show.html.erb within layouts/application (62.0ms)
Completed 200 OK in 277ms (Views: 256.8ms | ActiveRecord: 11.0ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-08-11 20:39:12 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (0.9ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (11.8ms)
  Rendered flats/show.html.erb within layouts/application (33.6ms)
Completed 200 OK in 523ms (Views: 510.5ms | ActiveRecord: 4.3ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-08-11 20:41:30 +0300
  [1m[35m (2.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (26.6ms)
  Rendered flats/show.html.erb within layouts/application (527.9ms)
Completed 200 OK in 847ms (Views: 795.0ms | ActiveRecord: 13.7ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-08-11 20:42:21 +0300
  [1m[35m (1.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (27.7ms)
  Rendered flats/show.html.erb within layouts/application (620.6ms)
Completed 200 OK in 1059ms (Views: 1009.2ms | ActiveRecord: 13.2ms)


Started GET "/" for 127.0.0.1 at 2018-08-11 20:42:27 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.9ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (29.7ms)
  Rendered flats/index.html.erb within layouts/application (51.9ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:45
Completed 200 OK in 293ms (Views: 284.1ms | ActiveRecord: 4.7ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-08-11 20:42:31 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (2.9ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (4.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (17.6ms)
  Rendered flats/show.html.erb within layouts/application (39.1ms)
Completed 200 OK in 278ms (Views: 262.2ms | ActiveRecord: 8.4ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-08-11 20:42:36 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (0.9ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (9.6ms)
  Rendered flats/show.html.erb within layouts/application (30.0ms)
Completed 200 OK in 333ms (Views: 324.6ms | ActiveRecord: 3.0ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-08-11 20:44:06 +0300
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (25.3ms)
  Rendered flats/show.html.erb within layouts/application (662.6ms)
Completed 200 OK in 1214ms (Views: 1161.2ms | ActiveRecord: 15.6ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-08-11 20:44:08 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (0.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (11.7ms)
  Rendered flats/show.html.erb within layouts/application (32.5ms)
Completed 200 OK in 352ms (Views: 339.3ms | ActiveRecord: 3.3ms)


Started GET "/" for 127.0.0.1 at 2018-08-11 20:44:10 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.2ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (10.0ms)
  Rendered flats/index.html.erb within layouts/application (18.2ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:45
Completed 200 OK in 264ms (Views: 258.6ms | ActiveRecord: 2.0ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-08-11 20:44:17 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (1.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (2.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (17.5ms)
  Rendered flats/show.html.erb within layouts/application (35.5ms)
Completed 200 OK in 281ms (Views: 264.1ms | ActiveRecord: 4.6ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-08-11 20:45:11 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (1.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (10.5ms)
  Rendered flats/show.html.erb within layouts/application (29.6ms)
Completed 200 OK in 579ms (Views: 565.9ms | ActiveRecord: 3.5ms)


Started GET "/" for 127.0.0.1 at 2018-08-12 14:51:45 +0300
  [1m[35m (7.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (40.3ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (31.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (10766.0ms)
  Rendered flats/index.html.erb within layouts/application (11203.4ms)
Completed 200 OK in 15969ms (Views: 15568.7ms | ActiveRecord: 154.7ms)


Started GET "/" for 127.0.0.1 at 2018-08-13 12:53:43 +0300
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.2ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (4.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (459.5ms)
  Rendered flats/index.html.erb within layouts/application (491.0ms)
Completed 200 OK in 889ms (Views: 855.1ms | ActiveRecord: 15.2ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-08-13 12:53:52 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (1.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered bookings/_form.html.erb (44.7ms)
  Rendered flats/show.html.erb within layouts/application (65.2ms)
Completed 200 OK in 301ms (Views: 272.3ms | ActiveRecord: 8.7ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-08-13 12:55:54 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (0.9ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered bookings/_form.html.erb (2.8ms)
  Rendered flats/show.html.erb within layouts/application (18.2ms)
Completed 200 OK in 1955ms (Views: 1945.7ms | ActiveRecord: 1.5ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-08-13 12:56:19 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (1.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered bookings/_form.html.erb (5.8ms)
  Rendered flats/show.html.erb within layouts/application (27.1ms)
Completed 200 OK in 527ms (Views: 516.7ms | ActiveRecord: 2.7ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-08-13 12:56:44 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (1.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered bookings/_form.html.erb (6.9ms)
  Rendered flats/show.html.erb within layouts/application (24.3ms)
Completed 200 OK in 523ms (Views: 510.1ms | ActiveRecord: 2.3ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-08-13 12:57:21 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (1.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered bookings/_form.html.erb (8.4ms)
  Rendered flats/show.html.erb within layouts/application (35.3ms)
Completed 200 OK in 329ms (Views: 319.1ms | ActiveRecord: 2.3ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-08-13 12:59:07 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (1.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered bookings/_form.html.erb (6.6ms)
  Rendered flats/show.html.erb within layouts/application (27.1ms)
Completed 200 OK in 294ms (Views: 279.9ms | ActiveRecord: 3.6ms)


Started GET "/" for 127.0.0.1 at 2018-08-13 12:59:29 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.6ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (34.1ms)
  Rendered flats/index.html.erb within layouts/application (50.5ms)
Completed 200 OK in 265ms (Views: 258.2ms | ActiveRecord: 2.5ms)


Started GET "/secret" for 127.0.0.1 at 2018-08-13 12:59:38 +0300
Processing by UsersController#secret as HTML
  Rendering users/secret.html.erb within layouts/application
  [1m[35m (2.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"], ["vendor", true]]
  ↳ app/views/users/secret.html.erb:1
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"], ["vendor", false]]
  ↳ app/views/users/secret.html.erb:1
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:2
  [1m[35m (2.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:2
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:3
  [1m[35mCACHE  (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:9
  Rendered users/secret.html.erb within layouts/application (22.8ms)
Completed 200 OK in 265ms (Views: 250.8ms | ActiveRecord: 7.6ms)


Started GET "/" for 127.0.0.1 at 2018-08-13 12:59:45 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (12.7ms)
  Rendered flats/index.html.erb within layouts/application (19.6ms)
Completed 200 OK in 239ms (Views: 236.5ms | ActiveRecord: 0.9ms)


  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Update (1.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "admin" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2018-08-13 10:01:58.771690"], ["admin", true], ["id", 1]]
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
Started GET "/" for 127.0.0.1 at 2018-08-13 13:08:14 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.5ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (51.4ms)
  Rendered flats/index.html.erb within layouts/application (91.0ms)
Completed 200 OK in 416ms (Views: 393.6ms | ActiveRecord: 16.0ms)


Started GET "/secret" for 127.0.0.1 at 2018-08-13 13:08:16 +0300
Processing by UsersController#secret as HTML
  Rendering users/secret.html.erb within layouts/application
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"], ["vendor", true]]
  ↳ app/views/users/secret.html.erb:1
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"], ["vendor", false]]
  ↳ app/views/users/secret.html.erb:1
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:2
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:2
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:9
  Rendered users/secret.html.erb within layouts/application (13.5ms)
Completed 200 OK in 273ms (Views: 245.8ms | ActiveRecord: 7.7ms)


Started GET "/users" for 127.0.0.1 at 2018-08-13 13:08:18 +0300
Processing by UsersController#index as HTML
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."vendor" = $1[0m  [["vendor", true]]
  ↳ app/views/users/index.html.erb:12
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/index.html.erb:16
  Rendered users/index.html.erb within layouts/application (23.2ms)
Completed 200 OK in 289ms (Views: 281.6ms | ActiveRecord: 2.4ms)


Started GET "/flats/new" for 127.0.0.1 at 2018-08-13 13:08:19 +0300
Processing by FlatsController#new as HTML
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2018-08-13 13:08:19 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (4.3ms)
  Rendered devise/sessions/new.html.erb within layouts/application (24.7ms)
Completed 200 OK in 282ms (Views: 275.2ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-08-13 13:08:29 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Idq+62eQZ4mEW1dq5kUemMeo47kJoPpb/zY5Fla4IocquvgIPodB1w8w5sPZH8Pu4ewmsUtt1ZY0qT9Q4XpLug==", "user"=>{"email"=>"Pork@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "pork@gmail.com"], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (1.7ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = $1, "last_sign_in_at" = $2, "sign_in_count" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["current_sign_in_at", "2018-08-13 10:08:29.724739"], ["last_sign_in_at", "2018-08-10 13:14:41.839013"], ["sign_in_count", 7], ["updated_at", "2018-08-13 10:08:29.729309"], ["id", 2]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/flats/new
Completed 302 Found in 216ms (ActiveRecord: 5.6ms)


Started GET "/flats/new" for 127.0.0.1 at 2018-08-13 13:08:29 +0300
Processing by FlatsController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 11ms (ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2018-08-13 13:08:29 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (9.2ms)
  Rendered flats/index.html.erb within layouts/application (14.5ms)
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:45
Completed 200 OK in 337ms (Views: 332.5ms | ActiveRecord: 1.7ms)


Started GET "/secret" for 127.0.0.1 at 2018-08-13 13:08:32 +0300
Processing by UsersController#secret as HTML
  Rendering users/secret.html.erb within layouts/application
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"], ["vendor", true]]
  ↳ app/views/users/secret.html.erb:1
  [1m[35m (3.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"], ["vendor", false]]
  ↳ app/views/users/secret.html.erb:1
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:2
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:2
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:9
  Rendered users/secret.html.erb within layouts/application (11.3ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:45
Completed 200 OK in 267ms (Views: 257.9ms | ActiveRecord: 5.7ms)


Started GET "/flats/new" for 127.0.0.1 at 2018-08-13 13:08:34 +0300
Processing by FlatsController#new as HTML
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 13ms (ActiveRecord: 1.2ms)


Started GET "/" for 127.0.0.1 at 2018-08-13 13:08:34 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.0ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (22.5ms)
  Rendered flats/index.html.erb within layouts/application (32.2ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:45
Completed 200 OK in 268ms (Views: 260.4ms | ActiveRecord: 2.0ms)


Started GET "/users" for 127.0.0.1 at 2018-08-13 13:09:08 +0300
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by UsersController#index as HTML
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."vendor" = $1[0m  [["vendor", true]]
  ↳ app/views/users/index.html.erb:12
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/index.html.erb:16
  Rendered users/index.html.erb within layouts/application (29.2ms)
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:45
Completed 200 OK in 3783ms (Views: 3758.8ms | ActiveRecord: 8.3ms)


Started GET "/secret" for 127.0.0.1 at 2018-08-13 13:09:14 +0300
Processing by UsersController#secret as HTML
  Rendering users/secret.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"], ["vendor", true]]
  ↳ app/views/users/secret.html.erb:1
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"], ["vendor", false]]
  ↳ app/views/users/secret.html.erb:1
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:2
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:2
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:9
  Rendered users/secret.html.erb within layouts/application (10.7ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:45
Completed 200 OK in 269ms (Views: 257.6ms | ActiveRecord: 4.5ms)


Started GET "/users" for 127.0.0.1 at 2018-08-13 13:09:15 +0300
Processing by UsersController#index as HTML
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."vendor" = $1[0m  [["vendor", true]]
  ↳ app/views/users/index.html.erb:12
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/index.html.erb:16
  Rendered users/index.html.erb within layouts/application (11.1ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:45
Completed 200 OK in 341ms (Views: 332.9ms | ActiveRecord: 3.4ms)


Started GET "/flats/new" for 127.0.0.1 at 2018-08-13 13:09:16 +0300
Processing by FlatsController#new as HTML
  [1m[36mUser Load (3.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 83ms (ActiveRecord: 10.1ms)


Started GET "/" for 127.0.0.1 at 2018-08-13 13:09:16 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.9ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (23.7ms)
  Rendered flats/index.html.erb within layouts/application (34.2ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:45
Completed 200 OK in 266ms (Views: 260.0ms | ActiveRecord: 3.6ms)


Started GET "/secret" for 127.0.0.1 at 2018-08-13 13:09:17 +0300
Processing by UsersController#secret as HTML
  Rendering users/secret.html.erb within layouts/application
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"], ["vendor", true]]
  ↳ app/views/users/secret.html.erb:1
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"], ["vendor", false]]
  ↳ app/views/users/secret.html.erb:1
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:2
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:2
  [1m[35mCACHE  (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:3
  [1m[35mCACHE  (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:9
  Rendered users/secret.html.erb within layouts/application (23.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:45
Completed 200 OK in 310ms (Views: 296.0ms | ActiveRecord: 4.7ms)


Started GET "/secret" for 127.0.0.1 at 2018-08-13 13:11:16 +0300
Processing by UsersController#secret as HTML
  Rendering users/secret.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"], ["vendor", true]]
  ↳ app/views/users/secret.html.erb:1
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"], ["vendor", false]]
  ↳ app/views/users/secret.html.erb:1
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:2
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:2
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:9
  Rendered users/secret.html.erb within layouts/application (5.2ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:45
Completed 200 OK in 243ms (Views: 223.4ms | ActiveRecord: 7.0ms)


Started GET "/" for 127.0.0.1 at 2018-08-13 13:11:17 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.1ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (15.8ms)
  Rendered flats/index.html.erb within layouts/application (83.2ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:45
Completed 200 OK in 340ms (Views: 322.0ms | ActiveRecord: 11.8ms)


Started GET "/secret" for 127.0.0.1 at 2018-08-13 13:11:18 +0300
Processing by UsersController#secret as HTML
  Rendering users/secret.html.erb within layouts/application
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"], ["vendor", true]]
  ↳ app/views/users/secret.html.erb:1
  [1m[35m (1.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"], ["vendor", false]]
  ↳ app/views/users/secret.html.erb:1
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:2
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:2
  [1m[35mCACHE  (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:3
  [1m[35mCACHE  (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:9
  Rendered users/secret.html.erb within layouts/application (30.4ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:45
Completed 200 OK in 304ms (Views: 287.6ms | ActiveRecord: 6.0ms)


Started GET "/" for 127.0.0.1 at 2018-08-13 13:12:41 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (29.0ms)
  Rendered flats/index.html.erb within layouts/application (49.7ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:45
Completed 200 OK in 258ms (Views: 241.6ms | ActiveRecord: 7.0ms)


Started GET "/secret" for 127.0.0.1 at 2018-08-13 13:12:42 +0300
Processing by UsersController#secret as HTML
Completed 500 Internal Server Error in 35ms (ActiveRecord: 6.2ms)


  
ArgumentError (wrong number of arguments (given 0, expected 1..2)):
  
app/controllers/users_controller.rb:16:in `secret'
Started GET "/secret" for 127.0.0.1 at 2018-08-13 13:12:58 +0300
Processing by UsersController#secret as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:16
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2 LIMIT $3[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"], ["LIMIT", 11]]
  ↳ /home/york/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:8
Completed 500 Internal Server Error in 99ms (ActiveRecord: 14.2ms)


  
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2 LIMIT $3[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"], ["LIMIT", 11]]
  ↳ /home/york/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:8
NoMethodError (undefined method `secret?' for #<FlatPolicy:0x00007f51caad7708>):
  
app/controllers/users_controller.rb:16:in `secret'
Started GET "/" for 127.0.0.1 at 2018-08-13 13:13:45 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (21.9ms)
  Rendered flats/index.html.erb within layouts/application (37.8ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:45
Completed 200 OK in 245ms (Views: 234.5ms | ActiveRecord: 5.6ms)


Started GET "/secret" for 127.0.0.1 at 2018-08-13 13:13:49 +0300
Processing by UsersController#secret as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:16
Completed 500 Internal Server Error in 26ms (ActiveRecord: 4.7ms)


  
SyntaxError (/home/york/Документы/Projects/FlatBooking/app/policies/user_policy.rb:19: syntax error, unexpected end-of-input, expecting keyword_end):
  
app/policies/user_policy.rb:19: syntax error, unexpected end-of-input, expecting keyword_end
app/controllers/users_controller.rb:17:in `secret'
Started GET "/secret" for 127.0.0.1 at 2018-08-13 13:14:07 +0300
Processing by UsersController#secret as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:16
Completed 500 Internal Server Error in 87ms (ActiveRecord: 12.6ms)


  
Pundit::InvalidConstructorError (Invalid #<UserPolicy> constructor is called):
  
app/controllers/users_controller.rb:17:in `secret'
Started GET "/" for 127.0.0.1 at 2018-08-13 13:15:24 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (22.1ms)
  Rendered flats/index.html.erb within layouts/application (38.6ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:45
Completed 200 OK in 249ms (Views: 238.9ms | ActiveRecord: 5.5ms)


Started GET "/flats/new" for 127.0.0.1 at 2018-08-13 13:15:28 +0300
Processing by FlatsController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2018-08-13 13:15:28 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (22.8ms)
  Rendered flats/index.html.erb within layouts/application (29.2ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:45
Completed 200 OK in 245ms (Views: 240.7ms | ActiveRecord: 2.8ms)


Started GET "/users" for 127.0.0.1 at 2018-08-13 13:15:29 +0300
Processing by UsersController#index as HTML
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."vendor" = $1[0m  [["vendor", true]]
  ↳ app/views/users/index.html.erb:12
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/index.html.erb:16
  Rendered users/index.html.erb within layouts/application (5.4ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:45
Completed 200 OK in 244ms (Views: 241.1ms | ActiveRecord: 1.4ms)


Started GET "/secret" for 127.0.0.1 at 2018-08-13 13:15:30 +0300
Processing by UsersController#secret as HTML
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:16
  [1m[36mFlat Load (2.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2 LIMIT $3[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"], ["LIMIT", 11]]
  ↳ app/controllers/users_controller.rb:17
Completed 500 Internal Server Error in 91ms (ActiveRecord: 10.9ms)


  
NameError (undefined method `not_allowed' for class `UsersController'):
  
activesupport (5.2.0) lib/active_support/rescuable.rb:106:in `method'
activesupport (5.2.0) lib/active_support/rescuable.rb:106:in `handler_for_rescue'
activesupport (5.2.0) lib/active_support/rescuable.rb:91:in `rescue_with_handler'
activesupport (5.2.0) lib/active_support/rescuable.rb:165:in `rescue_with_handler'
actionpack (5.2.0) lib/action_controller/metal/rescue.rb:25:in `rescue in process_action'
actionpack (5.2.0) lib/action_controller/metal/rescue.rb:21:in `process_action'
actionpack (5.2.0) lib/action_controller/metal/instrumentation.rb:34:in `block in process_action'
activesupport (5.2.0) lib/active_support/notifications.rb:168:in `block in instrument'
activesupport (5.2.0) lib/active_support/notifications/instrumenter.rb:23:in `instrument'
activesupport (5.2.0) lib/active_support/notifications.rb:168:in `instrument'
actionpack (5.2.0) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (5.2.0) lib/action_controller/metal/params_wrapper.rb:256:in `process_action'
activerecord (5.2.0) lib/active_record/railties/controller_runtime.rb:24:in `process_action'
actionpack (5.2.0) lib/abstract_controller/base.rb:134:in `process'
actionview (5.2.0) lib/action_view/rendering.rb:32:in `process'
actionpack (5.2.0) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (5.2.0) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (5.2.0) lib/action_dispatch/routing/route_set.rb:52:in `dispatch'
actionpack (5.2.0) lib/action_dispatch/routing/route_set.rb:34:in `serve'
actionpack (5.2.0) lib/action_dispatch/journey/router.rb:52:in `block in serve'
actionpack (5.2.0) lib/action_dispatch/journey/router.rb:35:in `each'
actionpack (5.2.0) lib/action_dispatch/journey/router.rb:35:in `serve'
actionpack (5.2.0) lib/action_dispatch/routing/route_set.rb:840:in `call'
warden (1.2.7) lib/warden/manager.rb:36:in `block in call'
warden (1.2.7) lib/warden/manager.rb:35:in `catch'
warden (1.2.7) lib/warden/manager.rb:35:in `call'
rack (2.0.5) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.0.5) lib/rack/etag.rb:25:in `call'
rack (2.0.5) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.5) lib/rack/head.rb:12:in `call'
actionpack (5.2.0) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.0.5) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.5) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/cookies.rb:670:in `call'
activerecord (5.2.0) lib/active_record/migration.rb:559:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
activesupport (5.2.0) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (5.2.0) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:61:in `call'
web-console (3.6.2) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.6.2) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `catch'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
request_store (1.4.1) lib/request_store/middleware.rb:19:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.0) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/secret" for 127.0.0.1 at 2018-08-13 13:16:11 +0300
Processing by UsersController#secret as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:16
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2 LIMIT $3[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"], ["LIMIT", 11]]
  ↳ app/controllers/users_controller.rb:17
Redirected to http://localhost:3000/
Completed 302 Found in 102ms (ActiveRecord: 12.0ms)


Started GET "/" for 127.0.0.1 at 2018-08-13 13:16:11 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.1ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (22.2ms)
  Rendered flats/index.html.erb within layouts/application (71.1ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:45
Completed 200 OK in 410ms (Views: 401.6ms | ActiveRecord: 5.0ms)


Started GET "/secret" for 127.0.0.1 at 2018-08-13 13:16:14 +0300
Processing by UsersController#secret as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:16
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2 LIMIT $3[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"], ["LIMIT", 11]]
  ↳ app/controllers/users_controller.rb:17
Redirected to http://localhost:3000/
Completed 302 Found in 8ms (ActiveRecord: 1.2ms)


Started GET "/" for 127.0.0.1 at 2018-08-13 13:16:14 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (19.9ms)
  Rendered flats/index.html.erb within layouts/application (26.2ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:45
Completed 200 OK in 250ms (Views: 247.0ms | ActiveRecord: 1.4ms)


Started GET "/flats/new" for 127.0.0.1 at 2018-08-13 13:16:15 +0300
Processing by FlatsController#new as HTML
  [1m[36mUser Load (2.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 15ms (ActiveRecord: 2.8ms)


Started GET "/" for 127.0.0.1 at 2018-08-13 13:16:15 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.2ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (25.0ms)
  Rendered flats/index.html.erb within layouts/application (46.9ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:45
Completed 200 OK in 298ms (Views: 289.0ms | ActiveRecord: 3.1ms)


Started GET "/secret" for 127.0.0.1 at 2018-08-13 13:16:16 +0300
Processing by UsersController#secret as HTML
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:16
  [1m[36mFlat Load (1.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2 LIMIT $3[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"], ["LIMIT", 11]]
  ↳ app/controllers/users_controller.rb:17
Redirected to http://localhost:3000/
Completed 302 Found in 23ms (ActiveRecord: 3.5ms)


Started GET "/" for 127.0.0.1 at 2018-08-13 13:16:16 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.0ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (28.0ms)
  Rendered flats/index.html.erb within layouts/application (38.4ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:45
Completed 200 OK in 275ms (Views: 270.4ms | ActiveRecord: 1.8ms)


Started GET "/users" for 127.0.0.1 at 2018-08-13 13:16:17 +0300
Processing by UsersController#index as HTML
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (4.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."vendor" = $1[0m  [["vendor", true]]
  ↳ app/views/users/index.html.erb:12
  [1m[35m (1.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/index.html.erb:16
  Rendered users/index.html.erb within layouts/application (23.3ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:45
Completed 200 OK in 324ms (Views: 312.7ms | ActiveRecord: 6.0ms)


Started GET "/secret" for 127.0.0.1 at 2018-08-13 13:16:18 +0300
Processing by UsersController#secret as HTML
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:16
  [1m[36mFlat Load (1.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2 LIMIT $3[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"], ["LIMIT", 11]]
  ↳ app/controllers/users_controller.rb:17
Redirected to http://localhost:3000/
Completed 302 Found in 21ms (ActiveRecord: 3.1ms)


Started GET "/" for 127.0.0.1 at 2018-08-13 13:16:18 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.9ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (28.7ms)
  Rendered flats/index.html.erb within layouts/application (36.1ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:45
Completed 200 OK in 241ms (Views: 236.5ms | ActiveRecord: 1.8ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2018-08-13 13:16:21 +0300
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"zC2voS5VqJFNgWd271tPcJ0cwzpyGOK+PL0S1pjHcLWAYZafe7Nbva3ByiN4LBF4+cqy31Na304cYERRiL4l4w=="}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 22ms (ActiveRecord: 1.6ms)


Started GET "/" for 127.0.0.1 at 2018-08-13 13:16:21 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (12.2ms)
  Rendered flats/index.html.erb within layouts/application (24.4ms)
Completed 200 OK in 331ms (Views: 328.3ms | ActiveRecord: 0.7ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2018-08-13 13:16:23 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.9ms)
  Rendered devise/sessions/new.html.erb within layouts/application (13.7ms)
Completed 200 OK in 271ms (Views: 269.3ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-08-13 13:16:29 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"vHtkiBx9ftWrKIsFEEIq1soEQizO9D4j7fZr2AJV/bTtvsJ692K6P8Mmc7hqABKA6+3AOCOcWVtWODerigGQug==", "user"=>{"email"=>"Tork@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (3.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "tork@gmail.com"], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = $1, "last_sign_in_at" = $2, "sign_in_count" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["current_sign_in_at", "2018-08-13 10:16:30.137666"], ["last_sign_in_at", "2018-08-11 16:33:40.341919"], ["sign_in_count", 16], ["updated_at", "2018-08-13 10:16:30.140170"], ["id", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 201ms (ActiveRecord: 5.7ms)


Started GET "/" for 127.0.0.1 at 2018-08-13 13:16:30 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (21.1ms)
  Rendered flats/index.html.erb within layouts/application (26.6ms)
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:45
Completed 200 OK in 327ms (Views: 321.1ms | ActiveRecord: 1.6ms)


Started GET "/secret" for 127.0.0.1 at 2018-08-13 13:16:32 +0300
Processing by UsersController#secret as HTML
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:16
  Rendering users/secret.html.erb within layouts/application
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"], ["vendor", true]]
  ↳ app/views/users/secret.html.erb:1
  [1m[35m (5.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"], ["vendor", false]]
  ↳ app/views/users/secret.html.erb:1
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:2
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:2
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:3
  [1m[35mCACHE  (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:9
  Rendered users/secret.html.erb within layouts/application (22.9ms)
Completed 200 OK in 261ms (Views: 242.5ms | ActiveRecord: 9.5ms)


Started GET "/flats/new" for 127.0.0.1 at 2018-08-13 13:16:34 +0300
Processing by FlatsController#new as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering flats/new.html.erb within layouts/application
  Rendered flats/_form.html.erb (7.7ms)
  Rendered flats/new.html.erb within layouts/application (10.1ms)
Completed 200 OK in 262ms (Views: 256.0ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2018-08-13 13:16:35 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.9ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:4
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (19.8ms)
  Rendered flats/index.html.erb within layouts/application (30.4ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:45
Completed 200 OK in 355ms (Views: 349.8ms | ActiveRecord: 1.6ms)


Started GET "/" for 127.0.0.1 at 2018-08-13 13:20:33 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.0ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:13
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (15.3ms)
  Rendered flats/index.html.erb within layouts/application (35.4ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:45
Completed 200 OK in 525ms (Views: 520.1ms | ActiveRecord: 2.9ms)


Started GET "/" for 127.0.0.1 at 2018-08-13 13:20:46 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.1ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:13
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (24.5ms)
  Rendered flats/index.html.erb within layouts/application (1005.9ms)
Completed 500 Internal Server Error in 1015ms (ActiveRecord: 2.4ms)


  
ActionView::Template::Error (undefined local variable or method `posts_path' for #<#<Class:0x00007f51cb263da0>:0x00007f51c9d42340>
Did you mean?  password_path):
    18: <div class="col-md-3">
    19:   <div class="search">
    20:     <h2>Screach flat</h2>
    21:     <%= form_tag(posts_path, method: :get) do %>
    22:       <%= hidden_field_tag "filter[category]", "created_at"   %>
    23:       <%= hidden_field_tag "filter[direction]", "ASC" %>
    24:       <%= label_tag "filter[keyword]" %>
  
app/views/flats/index.html.erb:21:in `_app_views_flats_index_html_erb___1382687436145196930_69994627602620'
Started GET "/" for 127.0.0.1 at 2018-08-13 13:21:06 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:13
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (34.4ms)
  Rendered flats/index.html.erb within layouts/application (73.4ms)
Completed 500 Internal Server Error in 86ms (ActiveRecord: 1.0ms)


  
ActionView::Template::Error (uninitialized constant ActionView::CompiledTemplates::Tag):
    26:       <%= label_tag "filter[author]" %>
    27:       <%= text_field_tag "filter[author]", params[:filter].present? ? params[:filter][:author] : nil, class: "form-control mr-sm-2" %>
    28:       <%= label_tag "filter[tag_ids]" %>
    29:       <%= select_tag "filter[tag_ids]", options_from_collection_for_select(Tag.all, "id", "name", params[:filter].present? ? params[:filter][:tag_ids] : nil), multiple: true, class: "form-control mr-sm-2" %>
    30:       <%= submit_tag 'Search', remote: true, class: "btn btn-success my-2 my-sm-0" %>
    31:     <% end %>
    32:   </div>
  
app/views/flats/index.html.erb:29:in `block in _app_views_flats_index_html_erb___1382687436145196930_69994634171440'
app/views/flats/index.html.erb:21:in `_app_views_flats_index_html_erb___1382687436145196930_69994634171440'
Started GET "/" for 127.0.0.1 at 2018-08-13 13:22:54 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.8ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:13
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (46.3ms)
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT "flats".* FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:29
  Rendered flats/index.html.erb within layouts/application (62.4ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:45
Completed 200 OK in 738ms (Views: 732.7ms | ActiveRecord: 2.9ms)


Started GET "/" for 127.0.0.1 at 2018-08-13 13:24:19 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.9ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:13
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (45.5ms)
  [1m[36mFlat Load (1.0ms)[0m  [1m[34mSELECT "flats".* FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:29
  Rendered flats/index.html.erb within layouts/application (69.3ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:45
Completed 200 OK in 573ms (Views: 566.0ms | ActiveRecord: 5.0ms)


Started GET "/" for 127.0.0.1 at 2018-08-13 13:24:56 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.9ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:13
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (26.3ms)
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT "flats".* FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:29
  Rendered flats/index.html.erb within layouts/application (49.8ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:45
Completed 200 OK in 570ms (Views: 561.1ms | ActiveRecord: 3.9ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2018-08-13 13:28:04 +0300
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"u+7uQlVLn0QuvHnvf/uFsBDhol/raQ6RmTX2fGJ60mSdxjGSAvsBjHYIiItjkyIKT2YCMzIMhD6mAL/+fdynwg=="}
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (1.2ms)[0m  [1m[35mBEGIN[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 28ms (ActiveRecord: 3.3ms)


Started GET "/" for 127.0.0.1 at 2018-08-13 13:28:04 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:13
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (21.1ms)
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT "flats".* FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:29
  Rendered flats/index.html.erb within layouts/application (36.5ms)
Completed 200 OK in 372ms (Views: 364.6ms | ActiveRecord: 1.6ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2018-08-13 13:28:06 +0300
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (4.7ms)
  Rendered devise/registrations/new.html.erb within layouts/application (14.8ms)
Completed 200 OK in 237ms (Views: 235.9ms | ActiveRecord: 0.0ms)


Started POST "/users" for 127.0.0.1 at 2018-08-13 13:28:53 +0300
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"2szb2NPf73vqZtjPppTkolfDGQghOtT3u54G46Jn1wBmnCujj6BmfAII19wbb8a/AGrfXEy5HV2a1YoHrlk7Jg==", "user"=>{"name"=>"Best_vendor", "email"=>"Bestvendor@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "vendor"=>"1"}, "commit"=>"Sign up"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."id" IS NOT NULL AND "users"."slug" = $1 LIMIT $2[0m  [["slug", "best_vendor"], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bestvendor@gmail.com"], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "name", "vendor", "slug") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "bestvendor@gmail.com"], ["encrypted_password", "$2a$11$BFop/aGJSRiBxbFhuDaiNeppkC51IwUFzxegk28XcqE7zs4miAlpe"], ["created_at", "2018-08-13 10:28:53.859514"], ["updated_at", "2018-08-13 10:28:53.859514"], ["name", "Best_vendor"], ["vendor", true], ["slug", "best_vendor"]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-08-13 10:28:53.865074"], ["last_sign_in_at", "2018-08-13 10:28:53.865074"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-08-13 10:28:53.865786"], ["id", 3]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (2.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 358ms (ActiveRecord: 6.7ms)


Started GET "/" for 127.0.0.1 at 2018-08-13 13:28:53 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:13
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (20.1ms)
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT "flats".* FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:29
  Rendered flats/index.html.erb within layouts/application (26.3ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:45
Completed 200 OK in 372ms (Views: 369.0ms | ActiveRecord: 1.8ms)


Started GET "/flats/new" for 127.0.0.1 at 2018-08-13 13:28:59 +0300
Processing by FlatsController#new as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering flats/new.html.erb within layouts/application
  Rendered flats/_form.html.erb (5.0ms)
  Rendered flats/new.html.erb within layouts/application (6.7ms)
Completed 200 OK in 264ms (Views: 257.9ms | ActiveRecord: 0.9ms)


Started GET "/" for 127.0.0.1 at 2018-08-13 13:31:56 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.2ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:13
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (31.9ms)
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT "flats".* FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:29
  Rendered flats/index.html.erb within layouts/application (59.9ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:45
Completed 200 OK in 2836ms (Views: 2828.4ms | ActiveRecord: 5.8ms)


Started POST "/flats" for 127.0.0.1 at 2018-08-13 13:34:14 +0300
Processing by FlatsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"GEEkdxfWNAMwAqm/VCGqBtXctmzI61IdCRAwl9T2BPJAUH1SfgTZUK2LJfCCD8jN0BaijmSX3FO6oo7NmDCj/Q==", "flat"=>{"name"=>"Hostel Gulliveer", "city"=>"Uzhhorod", "address"=>"Griboedova Street 27", "description"=>"Situated in Uzhhorod, Hostel Gulliveer features a shared lounge. Free WiFi is available.\r\nSelected rooms have a kitchen with a microwave.\r\n\r\nA continental breakfast is available daily at the hostel.\r\n\r\nMukacheve is 39 km from Hostel Gulliveer, while Michalovce is 29 km from the property. \r\n\r\nWe speak your language!\r\n\r\nHostel Gulliveer has been welcoming Booking.com guests since 6 Aug 2018.", "capacity"=>"5", "price"=>"33", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007f51c9963fa8 @tempfile=#<Tempfile:/tmp/RackMultipart20180813-4141-4l2jsa.jpg>, @original_filename="153359155 (1).jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"flat[image]\"; filename=\"153359155 (1).jpg\"\r\nContent-Type: image/jpeg\r\n">}, "commit"=>"Save"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
[paperclip] Trying to link /tmp/RackMultipart20180813-4141-4l2jsa.jpg to /tmp/5db0d39d1a197f20e1d74f47a14e9d5420180813-4141-1lhzdm3.jpg
[paperclip] Trying to link /tmp/5db0d39d1a197f20e1d74f47a14e9d5420180813-4141-1lhzdm3.jpg to /tmp/e32fa07f182a1a798043ea1d99d08fbe20180813-4141-s6im4w.jpg
Command :: file -b --mime '/tmp/e32fa07f182a1a798043ea1d99d08fbe20180813-4141-s6im4w.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/5db0d39d1a197f20e1d74f47a14e9d5420180813-4141-1lhzdm3.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/5db0d39d1a197f20e1d74f47a14e9d5420180813-4141-1lhzdm3.jpg[0]'
Command :: convert '/tmp/5db0d39d1a197f20e1d74f47a14e9d5420180813-4141-1lhzdm3.jpg[0]' -auto-orient -resize "800x800>" '/tmp/7fa629402d75316adc5856f807763dcd20180813-4141-p9gyiv'
[paperclip] Trying to link /tmp/7fa629402d75316adc5856f807763dcd20180813-4141-p9gyiv to /tmp/4732d9bdc159816d9f7d9edd5fa48fe220180813-4141-xbge94
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/5db0d39d1a197f20e1d74f47a14e9d5420180813-4141-1lhzdm3.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/5db0d39d1a197f20e1d74f47a14e9d5420180813-4141-1lhzdm3.jpg[0]'
Command :: convert '/tmp/5db0d39d1a197f20e1d74f47a14e9d5420180813-4141-1lhzdm3.jpg[0]' -auto-orient -resize "300x300>" '/tmp/7fa629402d75316adc5856f807763dcd20180813-4141-16zdojv'
[paperclip] Trying to link /tmp/7fa629402d75316adc5856f807763dcd20180813-4141-16zdojv to /tmp/cbebf19793f85f07aa90b9cfb7e278e120180813-4141-1fps6l5
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/5db0d39d1a197f20e1d74f47a14e9d5420180813-4141-1lhzdm3.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/5db0d39d1a197f20e1d74f47a14e9d5420180813-4141-1lhzdm3.jpg[0]'
Command :: convert '/tmp/5db0d39d1a197f20e1d74f47a14e9d5420180813-4141-1lhzdm3.jpg[0]' -auto-orient -resize "100x100>" '/tmp/7fa629402d75316adc5856f807763dcd20180813-4141-1v5hapg'
[paperclip] Trying to link /tmp/7fa629402d75316adc5856f807763dcd20180813-4141-1v5hapg to /tmp/8d9fcae6284986bfeb990f5c4353b8a520180813-4141-1qjydv8
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/flats_controller.rb:26
[paperclip] Trying to link /tmp/5db0d39d1a197f20e1d74f47a14e9d5420180813-4141-1lhzdm3.jpg to /tmp/e32fa07f182a1a798043ea1d99d08fbe20180813-4141-7pnile.jpg
Command :: file -b --mime '/tmp/e32fa07f182a1a798043ea1d99d08fbe20180813-4141-7pnile.jpg'
  [1m[36mFlat Create (0.9ms)[0m  [1m[32mINSERT INTO "flats" ("name", "address", "description", "capacity", "price", "created_at", "updated_at", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "user_id", "city") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13) RETURNING "id"[0m  [["name", "Hostel Gulliveer"], ["address", "Griboedova Street 27"], ["description", "Situated in Uzhhorod, Hostel Gulliveer features a shared lounge. Free WiFi is available.\r\nSelected rooms have a kitchen with a microwave.\r\n\r\nA continental breakfast is available daily at the hostel.\r\n\r\nMukacheve is 39 km from Hostel Gulliveer, while Michalovce is 29 km from the property. \r\n\r\nWe speak your language!\r\n\r\nHostel Gulliveer has been welcoming Booking.com guests since 6 Aug 2018."], ["capacity", 5], ["price", 33], ["created_at", "2018-08-13 10:34:15.088374"], ["updated_at", "2018-08-13 10:34:15.088374"], ["image_file_name", "153359155_(1).jpg"], ["image_content_type", "image/jpeg"], ["image_file_size", 88757], ["image_updated_at", "2018-08-13 10:34:14.723817"], ["user_id", 3], ["city", "Uzhhorod"]]
  ↳ app/controllers/flats_controller.rb:26
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/flats_controller.rb:26
Redirected to http://localhost:3000/flats/4
Completed 302 Found in 397ms (ActiveRecord: 3.8ms)


Started GET "/flats/4" for 127.0.0.1 at 2018-08-13 13:34:15 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (27.3ms)
  Rendered flats/show.html.erb within layouts/application (35.7ms)
Completed 200 OK in 455ms (Views: 447.3ms | ActiveRecord: 5.1ms)


Started GET "/flats/new" for 127.0.0.1 at 2018-08-13 13:34:20 +0300
Processing by FlatsController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering flats/new.html.erb within layouts/application
  Rendered flats/_form.html.erb (6.1ms)
  Rendered flats/new.html.erb within layouts/application (7.9ms)
Completed 200 OK in 255ms (Views: 250.9ms | ActiveRecord: 0.5ms)


Started POST "/flats" for 127.0.0.1 at 2018-08-13 13:37:05 +0300
Processing by FlatsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"z9GZq1CgMa7fNgyf6JxCYLasIqlCQ5kLHqSBAJKBxA6XwMCOOXLc/UK/gNA+siCrs2Y2S+4/F0WtFj9a3kdjAQ==", "flat"=>{"name"=>"Ankudinova Home", "city"=>"Uzhhorod", "address"=>"Ankudinova Street 5", "description"=>"Situated in Uzhhorod in the Transcarpathia region, Ankudinova Home has a terrace. Guests may enjoy free WiFi.\r\nThis apartment is equipped with 1 bedroom, a cable TV, a dining area, and a kitchen with an oven and a microwave.\r\n\r\nMukacheve is 36 km from the apartment, while Polyana is 49 km away. \r\n\r\nAnkudinova Home has been welcoming Booking.com guests since 31 Jan 2018.\r\n\r\nTrusted property\r\nThis property has never relocated guests.", "capacity"=>"2", "price"=>"15", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007f51c9ae5368 @tempfile=#<Tempfile:/tmp/RackMultipart20180813-4141-xh0x7z.jpg>, @original_filename="128500125 (1).jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"flat[image]\"; filename=\"128500125 (1).jpg\"\r\nContent-Type: image/jpeg\r\n">}, "commit"=>"Save"}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
[paperclip] Trying to link /tmp/RackMultipart20180813-4141-xh0x7z.jpg to /tmp/5b4d618144445fac77fa9e8e67d88f9a20180813-4141-13eq25n.jpg
[paperclip] Trying to link /tmp/5b4d618144445fac77fa9e8e67d88f9a20180813-4141-13eq25n.jpg to /tmp/b9ed3f58ca98c72589ba7ca4f07eddee20180813-4141-ow8xux.jpg
Command :: file -b --mime '/tmp/b9ed3f58ca98c72589ba7ca4f07eddee20180813-4141-ow8xux.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/5b4d618144445fac77fa9e8e67d88f9a20180813-4141-13eq25n.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/5b4d618144445fac77fa9e8e67d88f9a20180813-4141-13eq25n.jpg[0]'
Command :: convert '/tmp/5b4d618144445fac77fa9e8e67d88f9a20180813-4141-13eq25n.jpg[0]' -auto-orient -resize "800x800>" '/tmp/8bab31ddcc2243449dc43492e0d59aed20180813-4141-1phrlj'
[paperclip] Trying to link /tmp/8bab31ddcc2243449dc43492e0d59aed20180813-4141-1phrlj to /tmp/e050ae75013496f3bb362e5440f8daf520180813-4141-1l9r25k
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/5b4d618144445fac77fa9e8e67d88f9a20180813-4141-13eq25n.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/5b4d618144445fac77fa9e8e67d88f9a20180813-4141-13eq25n.jpg[0]'
Command :: convert '/tmp/5b4d618144445fac77fa9e8e67d88f9a20180813-4141-13eq25n.jpg[0]' -auto-orient -resize "300x300>" '/tmp/8bab31ddcc2243449dc43492e0d59aed20180813-4141-kxjhxa'
[paperclip] Trying to link /tmp/8bab31ddcc2243449dc43492e0d59aed20180813-4141-kxjhxa to /tmp/fb8480b83990cc6257ed9f7f5c2e1de820180813-4141-k9xfzo
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/5b4d618144445fac77fa9e8e67d88f9a20180813-4141-13eq25n.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/5b4d618144445fac77fa9e8e67d88f9a20180813-4141-13eq25n.jpg[0]'
Command :: convert '/tmp/5b4d618144445fac77fa9e8e67d88f9a20180813-4141-13eq25n.jpg[0]' -auto-orient -resize "100x100>" '/tmp/8bab31ddcc2243449dc43492e0d59aed20180813-4141-1qbwg5v'
[paperclip] Trying to link /tmp/8bab31ddcc2243449dc43492e0d59aed20180813-4141-1qbwg5v to /tmp/c1069a111efc1037778d23024aead7a520180813-4141-1f9c1ym
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/flats_controller.rb:26
[paperclip] Trying to link /tmp/5b4d618144445fac77fa9e8e67d88f9a20180813-4141-13eq25n.jpg to /tmp/b9ed3f58ca98c72589ba7ca4f07eddee20180813-4141-9vl5tw.jpg
Command :: file -b --mime '/tmp/b9ed3f58ca98c72589ba7ca4f07eddee20180813-4141-9vl5tw.jpg'
  [1m[36mFlat Create (0.3ms)[0m  [1m[32mINSERT INTO "flats" ("name", "address", "description", "capacity", "price", "created_at", "updated_at", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "user_id", "city") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13) RETURNING "id"[0m  [["name", "Ankudinova Home"], ["address", "Ankudinova Street 5"], ["description", "Situated in Uzhhorod in the Transcarpathia region, Ankudinova Home has a terrace. Guests may enjoy free WiFi.\r\nThis apartment is equipped with 1 bedroom, a cable TV, a dining area, and a kitchen with an oven and a microwave.\r\n\r\nMukacheve is 36 km from the apartment, while Polyana is 49 km away. \r\n\r\nAnkudinova Home has been welcoming Booking.com guests since 31 Jan 2018.\r\n\r\nTrusted property\r\nThis property has never relocated guests."], ["capacity", 2], ["price", 15], ["created_at", "2018-08-13 10:37:05.490533"], ["updated_at", "2018-08-13 10:37:05.490533"], ["image_file_name", "128500125_(1).jpg"], ["image_content_type", "image/jpeg"], ["image_file_size", 102057], ["image_updated_at", "2018-08-13 10:37:05.160178"], ["user_id", 3], ["city", "Uzhhorod"]]
  ↳ app/controllers/flats_controller.rb:26
  [1m[35m (2.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/flats_controller.rb:26
Redirected to http://localhost:3000/flats/5
Completed 302 Found in 360ms (ActiveRecord: 4.1ms)


Started GET "/flats/5" for 127.0.0.1 at 2018-08-13 13:37:05 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (6.0ms)
  Rendered flats/show.html.erb within layouts/application (10.9ms)
Completed 200 OK in 366ms (Views: 363.2ms | ActiveRecord: 1.1ms)


Started GET "/" for 127.0.0.1 at 2018-08-13 13:37:10 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (3.9ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:13
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (48.9ms)
  [1m[35m (1.6ms)[0m  [1m[34mSELECT COUNT(DISTINCT "flats"."id") FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:15
  [1m[36mFlat Load (2.2ms)[0m  [1m[34mSELECT "flats".* FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:29
  Rendered flats/index.html.erb within layouts/application (107.4ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:45
Completed 200 OK in 338ms (Views: 323.4ms | ActiveRecord: 10.3ms)


Started GET "/flats/new" for 127.0.0.1 at 2018-08-13 13:37:56 +0300
Processing by FlatsController#new as HTML
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering flats/new.html.erb within layouts/application
  Rendered flats/_form.html.erb (16.8ms)
  Rendered flats/new.html.erb within layouts/application (21.3ms)
Completed 200 OK in 310ms (Views: 296.4ms | ActiveRecord: 1.2ms)


Started POST "/flats" for 127.0.0.1 at 2018-08-13 13:39:12 +0300
Processing by FlatsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"DZupLRAklHu6F/PxPdBq3bvLhddB/uj8HVv3w7MHoEtVivAIefZ5KCeef77r/ggWvgGRNe2CZrKu6UmZ/8EHRA==", "flat"=>{"name"=>"New Apartment near Dastor center ", "city"=>"Uzhhorod", "address"=>"42 Zakarpats'ka Stree", "description"=>"Featuring air-conditioned accommodation with a balcony, New Apartment near Dastor center is located in Uzhhorod. Free WiFi is offered.\r\nThe apartment is equipped with a satellite flat-screen TV. The kitchen is fitted with a dishwasher and an oven, as well as kettle.\r\n\r\nMukacheve is 39 km from the apartment, while Michalovce is 29 km from the property. \r\n\r\nThis property is also rated for the best value in Uzhhorod! Guests are getting more for their money when compared to other properties in this city.\r\n\r\nNew Apartment near Dastor center has been welcoming Booking.com guests since 3 Jan 2017.", "capacity"=>"2", "price"=>"33", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007f51cacbc500 @tempfile=#<Tempfile:/tmp/RackMultipart20180813-4141-11jfhfz.jpg>, @original_filename="147214821.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"flat[image]\"; filename=\"147214821.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "commit"=>"Save"}
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
[paperclip] Trying to link /tmp/RackMultipart20180813-4141-11jfhfz.jpg to /tmp/06f39569b0c16723f9a8e89ccc37bb4c20180813-4141-n0lyvm.jpg
[paperclip] Trying to link /tmp/06f39569b0c16723f9a8e89ccc37bb4c20180813-4141-n0lyvm.jpg to /tmp/06f39569b0c16723f9a8e89ccc37bb4c20180813-4141-1xnpwef.jpg
Command :: file -b --mime '/tmp/06f39569b0c16723f9a8e89ccc37bb4c20180813-4141-1xnpwef.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/06f39569b0c16723f9a8e89ccc37bb4c20180813-4141-n0lyvm.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/06f39569b0c16723f9a8e89ccc37bb4c20180813-4141-n0lyvm.jpg[0]'
Command :: convert '/tmp/06f39569b0c16723f9a8e89ccc37bb4c20180813-4141-n0lyvm.jpg[0]' -auto-orient -resize "800x800>" '/tmp/6f37e462fece7e3d295682f60500cf4520180813-4141-1b48fsr'
[paperclip] Trying to link /tmp/6f37e462fece7e3d295682f60500cf4520180813-4141-1b48fsr to /tmp/59589572afdcf8b7fbb386579f0f05db20180813-4141-ff5exj
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/06f39569b0c16723f9a8e89ccc37bb4c20180813-4141-n0lyvm.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/06f39569b0c16723f9a8e89ccc37bb4c20180813-4141-n0lyvm.jpg[0]'
Command :: convert '/tmp/06f39569b0c16723f9a8e89ccc37bb4c20180813-4141-n0lyvm.jpg[0]' -auto-orient -resize "300x300>" '/tmp/6f37e462fece7e3d295682f60500cf4520180813-4141-x34wtl'
[paperclip] Trying to link /tmp/6f37e462fece7e3d295682f60500cf4520180813-4141-x34wtl to /tmp/c798de6d827e7626aca0be3b1316795a20180813-4141-1fjzd55
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/06f39569b0c16723f9a8e89ccc37bb4c20180813-4141-n0lyvm.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/06f39569b0c16723f9a8e89ccc37bb4c20180813-4141-n0lyvm.jpg[0]'
Command :: convert '/tmp/06f39569b0c16723f9a8e89ccc37bb4c20180813-4141-n0lyvm.jpg[0]' -auto-orient -resize "100x100>" '/tmp/6f37e462fece7e3d295682f60500cf4520180813-4141-2yzvz1'
[paperclip] Trying to link /tmp/6f37e462fece7e3d295682f60500cf4520180813-4141-2yzvz1 to /tmp/0e14ab6400cec287e77f87813e6cbfa620180813-4141-5hq6wa
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/flats_controller.rb:26
[paperclip] Trying to link /tmp/06f39569b0c16723f9a8e89ccc37bb4c20180813-4141-n0lyvm.jpg to /tmp/06f39569b0c16723f9a8e89ccc37bb4c20180813-4141-d1rwp.jpg
Command :: file -b --mime '/tmp/06f39569b0c16723f9a8e89ccc37bb4c20180813-4141-d1rwp.jpg'
  [1m[36mFlat Create (0.7ms)[0m  [1m[32mINSERT INTO "flats" ("name", "address", "description", "capacity", "price", "created_at", "updated_at", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "user_id", "city") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13) RETURNING "id"[0m  [["name", "New Apartment near Dastor center "], ["address", "42 Zakarpats'ka Stree"], ["description", "Featuring air-conditioned accommodation with a balcony, New Apartment near Dastor center is located in Uzhhorod. Free WiFi is offered.\r\nThe apartment is equipped with a satellite flat-screen TV. The kitchen is fitted with a dishwasher and an oven, as well as kettle.\r\n\r\nMukacheve is 39 km from the apartment, while Michalovce is 29 km from the property. \r\n\r\nThis property is also rated for the best value in Uzhhorod! Guests are getting more for their money when compared to other properties in this city.\r\n\r\nNew Apartment near Dastor center has been welcoming Booking.com guests since 3 Jan 2017."], ["capacity", 2], ["price", 33], ["created_at", "2018-08-13 10:39:12.532879"], ["updated_at", "2018-08-13 10:39:12.532879"], ["image_file_name", "147214821.jpg"], ["image_content_type", "image/jpeg"], ["image_file_size", 57954], ["image_updated_at", "2018-08-13 10:39:12.267092"], ["user_id", 3], ["city", "Uzhhorod"]]
  ↳ app/controllers/flats_controller.rb:26
  [1m[35m (2.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/flats_controller.rb:26
Redirected to http://localhost:3000/flats/6
Completed 302 Found in 303ms (ActiveRecord: 5.0ms)


Started GET "/flats/6" for 127.0.0.1 at 2018-08-13 13:39:12 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (3.1ms)
  Rendered flats/show.html.erb within layouts/application (14.1ms)
Completed 200 OK in 386ms (Views: 382.8ms | ActiveRecord: 1.3ms)


Started GET "/flats/new" for 127.0.0.1 at 2018-08-13 13:39:53 +0300
Processing by FlatsController#new as HTML
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering flats/new.html.erb within layouts/application
  Rendered flats/_form.html.erb (13.5ms)
  Rendered flats/new.html.erb within layouts/application (17.8ms)
Completed 200 OK in 288ms (Views: 276.4ms | ActiveRecord: 1.2ms)


Started POST "/flats" for 127.0.0.1 at 2018-08-13 13:41:16 +0300
Processing by FlatsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"h2Lf4EKdXdPL94e/Dg5Tv1puekto5L0kaswEVwZnb7Xfc4bFK0+wgFZ+C/DYIDF0X6RuqcSYM2rZfroNSqHIug==", "flat"=>{"name"=>"Petefi Flat ", "city"=>"Uzhhorod", "address"=>"Mukachivska Street", "description"=>"Located in Uzhhorod in the Transcarpathia region, Petefi Flat features a garden. Guests staying at this apartment have access to free WiFi, a fully equipped kitchen, and a terrace.\r\nThis apartment features 2 bedrooms and a bathroom equipped with a bath and a hair dryer. A TV with satellite channels is featured.\r\n\r\nGuests can also relax in the shared lounge area.\r\n\r\nMukacheve is 36 km from the apartment. \r\n\r\nThis property also has one of the best-rated locations in Uzhhorod! Guests are happier about it compared to other properties in the area.\r\n\r\nThis property is also rated for the best value in Uzhhorod! Guests are getting more for their money when compared to other properties in this city.\r\n\r\nPetefi Flat has been welcoming Booking.com guests since 17 Mar 2018.", "capacity"=>"4", "price"=>"23", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007f51ca3a3b58 @tempfile=#<Tempfile:/tmp/RackMultipart20180813-4141-12ewtkr.jpg>, @original_filename="134538011.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"flat[image]\"; filename=\"134538011.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "commit"=>"Save"}
  [1m[36mUser Load (3.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
[paperclip] Trying to link /tmp/RackMultipart20180813-4141-12ewtkr.jpg to /tmp/e10c728d55fdda4d4086fa83d9d0dbd720180813-4141-1n1lejm.jpg
[paperclip] Trying to link /tmp/e10c728d55fdda4d4086fa83d9d0dbd720180813-4141-1n1lejm.jpg to /tmp/e10c728d55fdda4d4086fa83d9d0dbd720180813-4141-1gfhwlv.jpg
Command :: file -b --mime '/tmp/e10c728d55fdda4d4086fa83d9d0dbd720180813-4141-1gfhwlv.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/e10c728d55fdda4d4086fa83d9d0dbd720180813-4141-1n1lejm.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/e10c728d55fdda4d4086fa83d9d0dbd720180813-4141-1n1lejm.jpg[0]'
Command :: convert '/tmp/e10c728d55fdda4d4086fa83d9d0dbd720180813-4141-1n1lejm.jpg[0]' -auto-orient -resize "800x800>" '/tmp/a1bc785ec1cd3c58f4373accf02c0b9720180813-4141-iskabk'
[paperclip] Trying to link /tmp/a1bc785ec1cd3c58f4373accf02c0b9720180813-4141-iskabk to /tmp/71ec7f58afbaca23e51d630d883f5f0120180813-4141-1643y18
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/e10c728d55fdda4d4086fa83d9d0dbd720180813-4141-1n1lejm.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/e10c728d55fdda4d4086fa83d9d0dbd720180813-4141-1n1lejm.jpg[0]'
Command :: convert '/tmp/e10c728d55fdda4d4086fa83d9d0dbd720180813-4141-1n1lejm.jpg[0]' -auto-orient -resize "300x300>" '/tmp/a1bc785ec1cd3c58f4373accf02c0b9720180813-4141-1uf79ts'
[paperclip] Trying to link /tmp/a1bc785ec1cd3c58f4373accf02c0b9720180813-4141-1uf79ts to /tmp/54eaf2e2dbbac53cec286121ac85cf3420180813-4141-6w6ulg
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/e10c728d55fdda4d4086fa83d9d0dbd720180813-4141-1n1lejm.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/e10c728d55fdda4d4086fa83d9d0dbd720180813-4141-1n1lejm.jpg[0]'
Command :: convert '/tmp/e10c728d55fdda4d4086fa83d9d0dbd720180813-4141-1n1lejm.jpg[0]' -auto-orient -resize "100x100>" '/tmp/a1bc785ec1cd3c58f4373accf02c0b9720180813-4141-1y9yb6o'
[paperclip] Trying to link /tmp/a1bc785ec1cd3c58f4373accf02c0b9720180813-4141-1y9yb6o to /tmp/22f41c9eaabb7aecbff635e5f6cf913220180813-4141-yb8nrh
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/flats_controller.rb:26
[paperclip] Trying to link /tmp/e10c728d55fdda4d4086fa83d9d0dbd720180813-4141-1n1lejm.jpg to /tmp/e10c728d55fdda4d4086fa83d9d0dbd720180813-4141-fjthnn.jpg
Command :: file -b --mime '/tmp/e10c728d55fdda4d4086fa83d9d0dbd720180813-4141-fjthnn.jpg'
  [1m[36mFlat Create (0.3ms)[0m  [1m[32mINSERT INTO "flats" ("name", "address", "description", "capacity", "price", "created_at", "updated_at", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "user_id", "city") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13) RETURNING "id"[0m  [["name", "Petefi Flat "], ["address", "Mukachivska Street"], ["description", "Located in Uzhhorod in the Transcarpathia region, Petefi Flat features a garden. Guests staying at this apartment have access to free WiFi, a fully equipped kitchen, and a terrace.\r\nThis apartment features 2 bedrooms and a bathroom equipped with a bath and a hair dryer. A TV with satellite channels is featured.\r\n\r\nGuests can also relax in the shared lounge area.\r\n\r\nMukacheve is 36 km from the apartment. \r\n\r\nThis property also has one of the best-rated locations in Uzhhorod! Guests are happier about it compared to other properties in the area.\r\n\r\nThis property is also rated for the best value in Uzhhorod! Guests are getting more for their money when compared to other properties in this city.\r\n\r\nPetefi Flat has been welcoming Booking.com guests since 17 Mar 2018."], ["capacity", 4], ["price", 23], ["created_at", "2018-08-13 10:41:16.483510"], ["updated_at", "2018-08-13 10:41:16.483510"], ["image_file_name", "134538011.jpg"], ["image_content_type", "image/jpeg"], ["image_file_size", 84988], ["image_updated_at", "2018-08-13 10:41:16.111993"], ["user_id", 3], ["city", "Uzhhorod"]]
  ↳ app/controllers/flats_controller.rb:26
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/flats_controller.rb:26
Redirected to http://localhost:3000/flats/7
Completed 302 Found in 401ms (ActiveRecord: 6.1ms)


Started GET "/flats/7" for 127.0.0.1 at 2018-08-13 13:41:16 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (3.3ms)
  Rendered flats/show.html.erb within layouts/application (8.3ms)
Completed 200 OK in 372ms (Views: 363.1ms | ActiveRecord: 1.5ms)


Started GET "/" for 127.0.0.1 at 2018-08-13 13:41:18 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.8ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:13
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (20.5ms)
  [1m[35m (2.1ms)[0m  [1m[34mSELECT COUNT(DISTINCT "flats"."id") FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:15
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT "flats".* FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:29
  Rendered flats/index.html.erb within layouts/application (52.9ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:45
Completed 200 OK in 283ms (Views: 272.1ms | ActiveRecord: 4.5ms)


Started GET "/" for 127.0.0.1 at 2018-08-13 13:43:18 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.0ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:13
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (67.1ms)
  [1m[35m (4.8ms)[0m  [1m[34mSELECT COUNT(DISTINCT "flats"."id") FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:15
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT "flats".* FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:29
  Rendered flats/index.html.erb within layouts/application (115.3ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:45
Completed 200 OK in 560ms (Views: 539.6ms | ActiveRecord: 9.8ms)


Started GET "/" for 127.0.0.1 at 2018-08-13 13:43:26 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:13
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (33.9ms)
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(DISTINCT "flats"."id") FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:15
  Rendered flats/index.html.erb within layouts/application (89.3ms)
Completed 500 Internal Server Error in 94ms (ActiveRecord: 2.5ms)


  
ActionView::Template::Error (undefined method `city' for #<Class:0x0000563443da1358>):
    26:       <%= label_tag "filter[vendor]", "Vendor" %>
    27:       <%= text_field_tag "filter[vendor]", params[:filter].present? ? params[:filter][:vendor] : nil, class: "form-control mr-sm-2" %>
    28:       <%= label_tag "filter[city]", "City" %>
    29:       <%= select_tag "filter[city]", options_from_collection_for_select(Flat.city.uniq, "city", "city", params[:filter].present? ? params[:filter][:city] : nil), class: "form-control mr-sm-2" %>
    30:       <%= submit_tag 'Search', class: "btn btn-success my-2 my-sm-0" %>
    31:     <% end %>
    32:   </div>
  
app/views/flats/index.html.erb:29:in `block in _app_views_flats_index_html_erb___1382687436145196930_69994635993300'
app/views/flats/index.html.erb:21:in `_app_views_flats_index_html_erb___1382687436145196930_69994635993300'
Started GET "/" for 127.0.0.1 at 2018-08-13 13:44:11 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:13
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (34.5ms)
  [1m[35m (1.7ms)[0m  [1m[34mSELECT COUNT(DISTINCT "flats"."id") FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:15
  Rendered flats/index.html.erb within layouts/application (83.0ms)
Completed 500 Internal Server Error in 93ms (ActiveRecord: 3.0ms)


  
ActionView::Template::Error (undefined method `city' for nil:NilClass):
    26:       <%= label_tag "filter[vendor]", "Vendor" %>
    27:       <%= text_field_tag "filter[vendor]", params[:filter].present? ? params[:filter][:vendor] : nil, class: "form-control mr-sm-2" %>
    28:       <%= label_tag "filter[city]", "City" %>
    29:       <%= select_tag "filter[city]", options_from_collection_for_select(@flat.city.uniq, "city", "city", params[:filter].present? ? params[:filter][:city] : nil), class: "form-control mr-sm-2" %>
    30:       <%= submit_tag 'Search', class: "btn btn-success my-2 my-sm-0" %>
    31:     <% end %>
    32:   </div>
  
app/views/flats/index.html.erb:29:in `block in _app_views_flats_index_html_erb___1382687436145196930_69994629596380'
app/views/flats/index.html.erb:21:in `_app_views_flats_index_html_erb___1382687436145196930_69994629596380'
Started GET "/" for 127.0.0.1 at 2018-08-13 13:44:21 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.8ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:13
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (46.7ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(DISTINCT "flats"."id") FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:15
  Rendered flats/index.html.erb within layouts/application (86.1ms)
Completed 500 Internal Server Error in 91ms (ActiveRecord: 1.8ms)


  
ActionView::Template::Error (undefined method `map' for nil:NilClass):
    26:       <%= label_tag "filter[vendor]", "Vendor" %>
    27:       <%= text_field_tag "filter[vendor]", params[:filter].present? ? params[:filter][:vendor] : nil, class: "form-control mr-sm-2" %>
    28:       <%= label_tag "filter[city]", "City" %>
    29:       <%= select_tag "filter[city]", options_from_collection_for_select(@flat, "city", "city", params[:filter].present? ? params[:filter][:city] : nil), class: "form-control mr-sm-2" %>
    30:       <%= submit_tag 'Search', class: "btn btn-success my-2 my-sm-0" %>
    31:     <% end %>
    32:   </div>
  
app/views/flats/index.html.erb:29:in `block in _app_views_flats_index_html_erb___1382687436145196930_69994460948740'
app/views/flats/index.html.erb:21:in `_app_views_flats_index_html_erb___1382687436145196930_69994460948740'
Started GET "/" for 127.0.0.1 at 2018-08-13 13:45:59 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.0ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:13
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (53.4ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(DISTINCT "flats"."id") FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:15
  [1m[35m (0.7ms)[0m  [1m[34mSELECT DISTINCT "flats"."city" FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:29
  Rendered flats/index.html.erb within layouts/application (104.5ms)
Completed 500 Internal Server Error in 128ms (ActiveRecord: 4.4ms)


  
ActionView::Template::Error (undefined method `city' for "Uzhhorod":String):
    26:       <%= label_tag "filter[vendor]", "Vendor" %>
    27:       <%= text_field_tag "filter[vendor]", params[:filter].present? ? params[:filter][:vendor] : nil, class: "form-control mr-sm-2" %>
    28:       <%= label_tag "filter[city]", "City" %>
    29:       <%= select_tag "filter[city]", options_from_collection_for_select(Flat.distinct.pluck(:city), "city", "city", params[:filter].present? ? params[:filter][:city] : nil), class: "form-control mr-sm-2" %>
    30:       <%= submit_tag 'Search', class: "btn btn-success my-2 my-sm-0" %>
    31:     <% end %>
    32:   </div>
  
app/views/flats/index.html.erb:29:in `block in _app_views_flats_index_html_erb___1382687436145196930_69994457541360'
app/views/flats/index.html.erb:21:in `_app_views_flats_index_html_erb___1382687436145196930_69994457541360'
Started GET "/" for 127.0.0.1 at 2018-08-13 13:46:19 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.5ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:13
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (38.4ms)
  [1m[35m (2.7ms)[0m  [1m[34mSELECT COUNT(DISTINCT "flats"."id") FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:15
  [1m[35m (0.4ms)[0m  [1m[34mSELECT DISTINCT "flats"."city" FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:29
  Rendered flats/index.html.erb within layouts/application (77.3ms)
Completed 500 Internal Server Error in 86ms (ActiveRecord: 5.4ms)


  
ActionView::Template::Error (wrong number of arguments (given 2, expected 3..4)):
    26:       <%= label_tag "filter[vendor]", "Vendor" %>
    27:       <%= text_field_tag "filter[vendor]", params[:filter].present? ? params[:filter][:vendor] : nil, class: "form-control mr-sm-2" %>
    28:       <%= label_tag "filter[city]", "City" %>
    29:       <%= select_tag "filter[city]", options_from_collection_for_select(Flat.distinct.pluck(:city), params[:filter].present? ? params[:filter][:city] : nil), class: "form-control mr-sm-2" %>
    30:       <%= submit_tag 'Search', class: "btn btn-success my-2 my-sm-0" %>
    31:     <% end %>
    32:   </div>
  
app/views/flats/index.html.erb:29:in `block in _app_views_flats_index_html_erb___1382687436145196930_69994450778820'
app/views/flats/index.html.erb:21:in `_app_views_flats_index_html_erb___1382687436145196930_69994450778820'
Started GET "/" for 127.0.0.1 at 2018-08-13 13:49:02 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:13
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (32.6ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(DISTINCT "flats"."id") FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:15
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:29
  Rendered flats/index.html.erb within layouts/application (61.1ms)
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:45
Completed 200 OK in 585ms (Views: 578.2ms | ActiveRecord: 4.7ms)


Started GET "/" for 127.0.0.1 at 2018-08-13 13:50:30 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.9ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:13
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (33.1ms)
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(DISTINCT "flats"."id") FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:15
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:29
  Rendered flats/index.html.erb within layouts/application (66.1ms)
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:45
Completed 200 OK in 617ms (Views: 610.5ms | ActiveRecord: 5.1ms)


Started GET "/" for 127.0.0.1 at 2018-08-13 13:52:27 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (34.5ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(DISTINCT "flats"."id") FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (2.4ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:27
  Rendered flats/index.html.erb within layouts/application (75.0ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:45
Completed 200 OK in 657ms (Views: 649.6ms | ActiveRecord: 4.9ms)


Started GET "/" for 127.0.0.1 at 2018-08-13 13:54:15 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (28.5ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(DISTINCT "flats"."id") FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (62.6ms)
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:45
Completed 200 OK in 685ms (Views: 679.2ms | ActiveRecord: 2.9ms)


Started GET "/" for 127.0.0.1 at 2018-08-13 13:56:24 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.9ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (51.9ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(DISTINCT "flats"."id") FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (1.1ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (103.3ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:45
Completed 200 OK in 595ms (Views: 581.8ms | ActiveRecord: 7.7ms)


Started GET "/" for 127.0.0.1 at 2018-08-13 13:56:59 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (60.7ms)
  [1m[35m (2.3ms)[0m  [1m[34mSELECT COUNT(DISTINCT "flats"."id") FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (101.7ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:45
Completed 200 OK in 667ms (Views: 658.6ms | ActiveRecord: 5.0ms)


Started GET "/" for 127.0.0.1 at 2018-08-13 13:58:31 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.1ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (38.7ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(DISTINCT "flats"."id") FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (1.6ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (92.1ms)
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:45
Completed 200 OK in 612ms (Views: 601.8ms | ActiveRecord: 6.4ms)


Started GET "/" for 127.0.0.1 at 2018-08-13 13:58:37 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (42.0ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(DISTINCT "flats"."id") FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (905.8ms)
Completed 500 Internal Server Error in 911ms (ActiveRecord: 3.3ms)


  
ActionView::Template::Error (undefined local variable or method `form' for #<#<Class:0x00007f51cb263da0>:0x00007f51b62d4470>
Did you mean?  fork):
    31:         <%= label_tag "filter[city]", "City" %>
    32:         <%= select_tag "filter[city]", options_from_collection_for_select(Flat.select('DISTINCT city'), :city, :city, params[:filter].present? ? params[:filter][:city] : nil), include_blank: true, class: "form-control mr-sm-2" %>
    33:       </div>
    34:       <%= form.label :date %>
    35:       <div class="field form-group input-daterange input-group">
    36:         <%= form.text_field :start_date, autocomplete: "off", class: "input-sm form-control" %>
    37:         <span class="input-group-addon">to</span>
  
app/views/flats/index.html.erb:34:in `block in _app_views_flats_index_html_erb___1382687436145196930_69994462750620'
app/views/flats/index.html.erb:19:in `_app_views_flats_index_html_erb___1382687436145196930_69994462750620'
Started GET "/" for 127.0.0.1 at 2018-08-13 13:59:27 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (3.0ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (58.2ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(DISTINCT "flats"."id") FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.9ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (106.2ms)
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:45
Completed 200 OK in 596ms (Views: 587.4ms | ActiveRecord: 6.6ms)


Started GET "/flats/5" for 127.0.0.1 at 2018-08-13 13:59:52 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (6.1ms)
  Rendered flats/show.html.erb within layouts/application (28.1ms)
Completed 200 OK in 361ms (Views: 355.9ms | ActiveRecord: 1.7ms)


Started GET "/" for 127.0.0.1 at 2018-08-13 14:01:14 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.1ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (50.0ms)
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(DISTINCT "flats"."id") FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (81.8ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:45
Completed 200 OK in 635ms (Views: 628.9ms | ActiveRecord: 4.6ms)


Started GET "/" for 127.0.0.1 at 2018-08-13 14:01:47 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.2ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (50.0ms)
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(DISTINCT "flats"."id") FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (94.8ms)
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:45
Completed 200 OK in 835ms (Views: 828.4ms | ActiveRecord: 4.9ms)


Started GET "/" for 127.0.0.1 at 2018-08-13 14:01:57 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (47.3ms)
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(DISTINCT "flats"."id") FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (2.7ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (76.0ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:45
Completed 200 OK in 573ms (Views: 564.8ms | ActiveRecord: 5.8ms)


Started GET "/flats/5" for 127.0.0.1 at 2018-08-13 14:04:22 +0300
  [1m[35m (2.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (88.7ms)
  Rendered flats/show.html.erb within layouts/application (1160.3ms)
Completed 200 OK in 2069ms (Views: 1987.3ms | ActiveRecord: 28.6ms)


Started GET "/" for 127.0.0.1 at 2018-08-13 14:05:41 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.1ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (2.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (29.4ms)
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(DISTINCT "flats"."id") FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (100.8ms)
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:45
Completed 200 OK in 767ms (Views: 758.0ms | ActiveRecord: 6.5ms)


Started GET "/" for 127.0.0.1 at 2018-08-13 14:05:42 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.9ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (43.7ms)
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(DISTINCT "flats"."id") FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (88.8ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:45
Completed 200 OK in 548ms (Views: 535.4ms | ActiveRecord: 6.9ms)


Started GET "/flats/5" for 127.0.0.1 at 2018-08-13 14:05:43 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mFlat Load (1.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (11.0ms)
  Rendered flats/show.html.erb within layouts/application (28.7ms)
Completed 200 OK in 367ms (Views: 356.7ms | ActiveRecord: 3.3ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2018-08-13 14:05:51 +0300
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"UUOqUwhAqPbGO1v2hI+D8PGnwnsPr243qijOPYw3JjnLYDnPTkszuNfhP1d3dp7XszhJeBrINYm5QErURyjfig=="}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 39ms (ActiveRecord: 2.4ms)


Started GET "/" for 127.0.0.1 at 2018-08-13 14:05:51 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.8ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (31.9ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(DISTINCT "flats"."id") FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (49.4ms)
Completed 200 OK in 463ms (Views: 457.6ms | ActiveRecord: 2.5ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2018-08-13 14:05:53 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (2.3ms)
  Rendered devise/sessions/new.html.erb within layouts/application (10.7ms)
Completed 200 OK in 276ms (Views: 272.2ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-08-13 14:06:00 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"ChphQQiEtrZnLsRHoWWsSg2S72PVIL+m+mZLaPh569ny1YcNLbBHLScsPFvbCFt9B5uQwgn6BkjyMYWTfPXbdQ==", "user"=>{"email"=>"Tork@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "tork@gmail.com"], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = $1, "last_sign_in_at" = $2, "sign_in_count" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["current_sign_in_at", "2018-08-13 11:06:00.667917"], ["last_sign_in_at", "2018-08-13 10:16:30.137666"], ["sign_in_count", 17], ["updated_at", "2018-08-13 11:06:00.673065"], ["id", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (2.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 193ms (ActiveRecord: 4.4ms)


Started GET "/" for 127.0.0.1 at 2018-08-13 14:06:00 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (23.6ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(DISTINCT "flats"."id") FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (35.5ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:45
Completed 200 OK in 400ms (Views: 395.9ms | ActiveRecord: 2.6ms)


Started GET "/?page=2" for 127.0.0.1 at 2018-08-13 14:06:15 +0300
Processing by FlatsController#index as HTML
  Parameters: {"page"=>"2"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.5ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 5]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [2 times] (20.3ms)
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (55.1ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:45
Completed 200 OK in 285ms (Views: 275.3ms | ActiveRecord: 5.4ms)


Started GET "/" for 127.0.0.1 at 2018-08-13 14:06:25 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.2ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (50.1ms)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(DISTINCT "flats"."id") FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (86.2ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:45
Completed 200 OK in 377ms (Views: 365.8ms | ActiveRecord: 5.4ms)


Started GET "/flats/5" for 127.0.0.1 at 2018-08-13 14:06:39 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mFlat Load (1.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (71.4ms)
  Rendered flats/show.html.erb within layouts/application (89.7ms)
Completed 200 OK in 357ms (Views: 344.0ms | ActiveRecord: 3.7ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2018-08-13 14:07:32 +0300
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"vbvrU4RGEeQIPCzNES+nIgVZQXWQBKDRpIqnpMNG2CInmHjPwk2KqhnmSGzi1roFR8bKdoVj+2+34iNNCFkhkQ=="}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Can't verify CSRF token authenticity.
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 8ms (ActiveRecord: 0.9ms)


Started GET "/" for 127.0.0.1 at 2018-08-13 14:07:32 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.8ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (22.0ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(DISTINCT "flats"."id") FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (58.9ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:45
Completed 200 OK in 376ms (Views: 371.6ms | ActiveRecord: 3.3ms)


Started GET "/" for 127.0.0.1 at 2018-08-13 14:07:37 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.8ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (61.0ms)
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(DISTINCT "flats"."id") FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (104.5ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:45
Completed 200 OK in 477ms (Views: 466.1ms | ActiveRecord: 5.5ms)


Started GET "/flats/5" for 127.0.0.1 at 2018-08-13 14:07:39 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (7.7ms)
  Rendered flats/show.html.erb within layouts/application (15.3ms)
Completed 200 OK in 270ms (Views: 262.5ms | ActiveRecord: 1.8ms)


Started GET "/" for 127.0.0.1 at 2018-08-13 14:07:41 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (7.0ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (33.8ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(DISTINCT "flats"."id") FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (79.7ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:45
Completed 200 OK in 345ms (Views: 327.7ms | ActiveRecord: 9.1ms)


Started GET "/secret" for 127.0.0.1 at 2018-08-13 14:07:42 +0300
Processing by UsersController#secret as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:16
  Rendering users/secret.html.erb within layouts/application
  [1m[35m (3.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"], ["vendor", true]]
  ↳ app/views/users/secret.html.erb:1
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"], ["vendor", false]]
  ↳ app/views/users/secret.html.erb:1
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:2
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:2
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:3
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT "flats".* FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:5
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:9
  Rendered users/secret.html.erb within layouts/application (19.7ms)
Completed 200 OK in 268ms (Views: 241.0ms | ActiveRecord: 6.6ms)


Started GET "/secret" for 127.0.0.1 at 2018-08-13 14:08:28 +0300
Processing by UsersController#secret as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:16
  Rendering users/secret.html.erb within layouts/application
  [1m[35m (2.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"], ["vendor", true]]
  ↳ app/views/users/secret.html.erb:1
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"], ["vendor", false]]
  ↳ app/views/users/secret.html.erb:1
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:2
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:2
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:3
  [1m[36mFlat Load (1.0ms)[0m  [1m[34mSELECT "flats".* FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:5
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:9
  Rendered users/secret.html.erb within layouts/application (30.7ms)
Completed 200 OK in 612ms (Views: 596.6ms | ActiveRecord: 6.2ms)


Started GET "/" for 127.0.0.1 at 2018-08-13 14:09:01 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.1ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (40.1ms)
  [1m[35m (1.7ms)[0m  [1m[34mSELECT COUNT(DISTINCT "flats"."id") FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (79.1ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:45
Completed 200 OK in 325ms (Views: 313.6ms | ActiveRecord: 5.9ms)


Started GET "/secret" for 127.0.0.1 at 2018-08-13 14:09:06 +0300
Processing by UsersController#secret as HTML
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:16
  Rendering users/secret.html.erb within layouts/application
  [1m[35m (2.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"], ["vendor", true]]
  ↳ app/views/users/secret.html.erb:1
  [1m[35m (1.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"], ["vendor", false]]
  ↳ app/views/users/secret.html.erb:1
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:2
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:2
  [1m[35mCACHE  (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:3
  [1m[36mFlat Load (2.6ms)[0m  [1m[34mSELECT "flats".* FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:5
  [1m[35mCACHE  (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:9
  Rendered users/secret.html.erb within layouts/application (36.0ms)
Completed 200 OK in 312ms (Views: 283.9ms | ActiveRecord: 10.8ms)


Started GET "/get_secret_email" for 127.0.0.1 at 2018-08-13 14:09:07 +0300
Processing by UsersController#get_secret_email as HTML
  Rendering admin_mailer/report.html.erb within layouts/mailer
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"], ["vendor", true]]
  ↳ app/views/admin_mailer/report.html.erb:1
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"], ["vendor", false]]
  ↳ app/views/admin_mailer/report.html.erb:1
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"]]
  ↳ app/views/admin_mailer/report.html.erb:2
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"]]
  ↳ app/views/admin_mailer/report.html.erb:2
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"]]
  ↳ app/views/admin_mailer/report.html.erb:3
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT "flats".* FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"]]
  ↳ app/views/admin_mailer/report.html.erb:5
  [1m[36mBooking Load (0.5ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2 LIMIT $3[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"], ["LIMIT", 11]]
  ↳ /home/york/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:8
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3 LIMIT $4[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"], ["vendor", true], ["LIMIT", 11]]
  ↳ /home/york/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:8
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3 LIMIT $4[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"], ["vendor", false], ["LIMIT", 11]]
  ↳ /home/york/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:8
  [1m[36mCACHE Booking Load (0.0ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2 LIMIT $3[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"], ["LIMIT", 11]]
  ↳ /home/york/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:8
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3 LIMIT $4[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"], ["vendor", true], ["LIMIT", 11]]
  ↳ /home/york/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:8
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3 LIMIT $4[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"], ["vendor", false], ["LIMIT", 11]]
  ↳ /home/york/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:8
  [1m[36mCACHE Booking Load (0.0ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2 LIMIT $3[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"], ["LIMIT", 11]]
  ↳ /home/york/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:8
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3 LIMIT $4[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"], ["vendor", true], ["LIMIT", 11]]
  ↳ /home/york/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:8
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3 LIMIT $4[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"], ["vendor", false], ["LIMIT", 11]]
  ↳ /home/york/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:8
  Rendered admin_mailer/report.html.erb within layouts/mailer (58.4ms)
AdminMailer#report: processed outbound mail in 66.7ms
Completed 500 Internal Server Error in 397ms (ActiveRecord: 3.3ms)


  
ActionView::Template::Error (undefined method `flat_path' for #<#<Class:0x00007f32e866e5c8>:0x00007f32e8662db8>
Did you mean?  font_path):
    3: <% if @flat.size > 0 %>
    4:   <h4>Flats</h4>
    5:   <% @flat.each do |flat| %>
    6:     <%= link_to flat.name, flat_path(flat) %>
    7:   <% end %>
    8: <% end %>
    9: <% if @booking.size > 0 %>
  
app/views/admin_mailer/report.html.erb:6:in `block in _app_views_admin_mailer_report_html_erb__3047865478860741534_69928311058660'
app/views/admin_mailer/report.html.erb:5:in `_app_views_admin_mailer_report_html_erb__3047865478860741534_69928311058660'
app/mailers/admin_mailer.rb:8:in `report'
app/controllers/users_controller.rb:25:in `get_secret_email'
Started GET "/secret" for 127.0.0.1 at 2018-08-13 14:09:46 +0300
Processing by UsersController#secret as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:16
  Rendering users/secret.html.erb within layouts/application
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"], ["vendor", true]]
  ↳ app/views/users/secret.html.erb:1
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"], ["vendor", false]]
  ↳ app/views/users/secret.html.erb:1
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:2
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:2
  [1m[35mCACHE  (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:3
  [1m[36mFlat Load (2.4ms)[0m  [1m[34mSELECT "flats".* FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:5
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:9
  Rendered users/secret.html.erb within layouts/application (70.1ms)
Completed 200 OK in 632ms (Views: 614.8ms | ActiveRecord: 6.6ms)


Started GET "/" for 127.0.0.1 at 2018-08-13 14:09:47 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (24.2ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(DISTINCT "flats"."id") FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (51.8ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:45
Completed 200 OK in 303ms (Views: 298.3ms | ActiveRecord: 2.6ms)


Started GET "/flats/5" for 127.0.0.1 at 2018-08-13 14:09:56 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mFlat Load (1.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (15.8ms)
  Rendered flats/show.html.erb within layouts/application (34.8ms)
Completed 200 OK in 326ms (Views: 315.3ms | ActiveRecord: 3.6ms)


Started GET "/flats/5" for 127.0.0.1 at 2018-08-13 14:11:35 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (9.5ms)
  Rendered flats/show.html.erb within layouts/application (27.9ms)
Completed 200 OK in 811ms (Views: 805.5ms | ActiveRecord: 2.9ms)


Started GET "/flats/5" for 127.0.0.1 at 2018-08-13 14:12:53 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mFlat Load (1.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (15.2ms)
  Rendered flats/show.html.erb within layouts/application (44.6ms)
Completed 200 OK in 946ms (Views: 928.5ms | ActiveRecord: 4.0ms)


Started GET "/flats/5" for 127.0.0.1 at 2018-08-13 14:15:19 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mFlat Load (2.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (10.1ms)
  Rendered flats/show.html.erb within layouts/application (38.0ms)
Completed 200 OK in 909ms (Views: 896.9ms | ActiveRecord: 4.3ms)


Started GET "/flats/5" for 127.0.0.1 at 2018-08-13 14:21:11 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mFlat Load (0.9ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (15.1ms)
  Rendered flats/show.html.erb within layouts/application (41.7ms)
Completed 200 OK in 410ms (Views: 396.9ms | ActiveRecord: 3.0ms)


Started GET "/flats/5" for 127.0.0.1 at 2018-08-13 14:21:23 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (7.7ms)
  Rendered flats/show.html.erb within layouts/application (15.6ms)
Completed 200 OK in 544ms (Views: 541.1ms | ActiveRecord: 0.9ms)


Started GET "/flats/5" for 127.0.0.1 at 2018-08-13 14:21:45 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (23.3ms)
  Rendered flats/show.html.erb within layouts/application (52.8ms)
Completed 200 OK in 520ms (Views: 506.9ms | ActiveRecord: 4.1ms)


Started GET "/flats/5" for 127.0.0.1 at 2018-08-13 14:22:26 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mFlat Load (0.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (9.4ms)
  Rendered flats/show.html.erb within layouts/application (60.9ms)
Completed 200 OK in 2991ms (Views: 2978.4ms | ActiveRecord: 2.2ms)


Started GET "/flats/5" for 127.0.0.1 at 2018-08-13 14:22:42 +0300
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
Completed 500 Internal Server Error in 459ms (ActiveRecord: 4.5ms)


  
NameError (undefined local variable or method `gon' for #<FlatsController:0x00007ff3c0308048>):
  
app/controllers/flats_controller.rb:11:in `show'
Started GET "/flats/5" for 127.0.0.1 at 2018-08-13 14:23:24 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (43.7ms)
  Rendered flats/show.html.erb within layouts/application (981.1ms)
Completed 200 OK in 1417ms (Views: 1308.1ms | ActiveRecord: 22.2ms)


Started GET "/flats/5" for 127.0.0.1 at 2018-08-13 14:23:59 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (17.1ms)
  Rendered flats/show.html.erb within layouts/application (32.8ms)
Completed 200 OK in 394ms (Views: 385.3ms | ActiveRecord: 3.0ms)


Started GET "/flats/5" for 127.0.0.1 at 2018-08-13 14:24:22 +0300
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mFlat Load (0.9ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (39.3ms)
  Rendered flats/show.html.erb within layouts/application (516.5ms)
Completed 200 OK in 939ms (Views: 872.6ms | ActiveRecord: 16.0ms)


Started GET "/flats/5" for 127.0.0.1 at 2018-08-13 14:25:17 +0300
  [1m[35m (4.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered flats/show.html.erb within layouts/application (313.7ms)
Completed 500 Internal Server Error in 385ms (ActiveRecord: 16.1ms)


  
ActionView::Template::Error (couldn't find file 'fullcalendar' with type 'application/javascript'
Checked in these paths: 
  /home/york/Документы/Projects/FlatBooking/app/assets/config
  /home/york/Документы/Projects/FlatBooking/app/assets/images
  /home/york/Документы/Projects/FlatBooking/app/assets/javascripts
  /home/york/Документы/Projects/FlatBooking/app/assets/stylesheets
  /home/york/Документы/Projects/FlatBooking/vendor/assets/javascripts
  /home/york/Документы/Projects/FlatBooking/vendor/assets/stylesheets
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-daterangepicker-rails-3.0.3/vendor/assets/javascripts
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-daterangepicker-rails-3.0.3/vendor/assets/stylesheets
  /home/york/.rvm/gems/ruby-2.5.1/gems/momentjs-rails-2.20.1/vendor/assets/javascripts
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-datepicker-rails-1.8.0.1/vendor/assets/javascripts
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-datepicker-rails-1.8.0.1/vendor/assets/stylesheets
  /home/york/.rvm/gems/ruby-2.5.1/gems/jquery-rails-4.3.3/vendor/assets/javascripts
  /home/york/.rvm/gems/ruby-2.5.1/gems/coffee-rails-4.2.2/lib/assets/javascripts
  /home/york/.rvm/gems/ruby-2.5.1/gems/actioncable-5.2.0/lib/assets/compiled
  /home/york/.rvm/gems/ruby-2.5.1/gems/activestorage-5.2.0/app/assets/javascripts
  /home/york/.rvm/gems/ruby-2.5.1/gems/actionview-5.2.0/lib/assets/compiled
  /home/york/.rvm/gems/ruby-2.5.1/gems/turbolinks-source-5.1.0/lib/assets/javascripts
  /home/york/Документы/Projects/FlatBooking/node_modules
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-sass-3.3.7/assets/stylesheets
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-sass-3.3.7/assets/javascripts
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-sass-3.3.7/assets/fonts
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-sass-3.3.7/assets/images):
    11:         <%= link_to "Delete", flat_path(@flat), method: :delete,
    12:         data: { confirm: 'Are you sure?' } %>
    13:     </small><br/>
    14:     <%= image_tag("address_icon", size: "12")%> <%= @flat.city ? @flat.city : '' %>, <%= @flat.address %>
    15:   </section>
    16: 
    17:   <section class="flat-content">
  
app/assets/javascripts/application.js:19
app/views/flats/show.html.erb:14:in `_app_views_flats_show_html_erb__2518549520700262330_70076218975180'
Started GET "/flats/5" for 127.0.0.1 at 2018-08-13 14:26:21 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mFlat Load (1.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (59.5ms)
  Rendered flats/show.html.erb within layouts/application (2974.9ms)
Completed 200 OK in 3602ms (Views: 3583.2ms | ActiveRecord: 8.7ms)


Started GET "/flats/5" for 127.0.0.1 at 2018-08-13 14:29:45 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:57
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (34.7ms)
  Rendered flats/show.html.erb within layouts/application (74.1ms)
Completed 500 Internal Server Error in 2063ms (ActiveRecord: 12.4ms)


  
ActionView::Template::Error (couldn't find file 'fullcalendar' with type 'application/javascript'
Checked in these paths: 
  /home/york/Документы/Projects/FlatBooking/app/assets/config
  /home/york/Документы/Projects/FlatBooking/app/assets/images
  /home/york/Документы/Projects/FlatBooking/app/assets/javascripts
  /home/york/Документы/Projects/FlatBooking/app/assets/stylesheets
  /home/york/Документы/Projects/FlatBooking/vendor/assets/javascripts
  /home/york/Документы/Projects/FlatBooking/vendor/assets/stylesheets
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-daterangepicker-rails-3.0.3/vendor/assets/javascripts
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-daterangepicker-rails-3.0.3/vendor/assets/stylesheets
  /home/york/.rvm/gems/ruby-2.5.1/gems/momentjs-rails-2.20.1/vendor/assets/javascripts
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-datepicker-rails-1.8.0.1/vendor/assets/javascripts
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-datepicker-rails-1.8.0.1/vendor/assets/stylesheets
  /home/york/.rvm/gems/ruby-2.5.1/gems/jquery-rails-4.3.3/vendor/assets/javascripts
  /home/york/.rvm/gems/ruby-2.5.1/gems/coffee-rails-4.2.2/lib/assets/javascripts
  /home/york/.rvm/gems/ruby-2.5.1/gems/actioncable-5.2.0/lib/assets/compiled
  /home/york/.rvm/gems/ruby-2.5.1/gems/activestorage-5.2.0/app/assets/javascripts
  /home/york/.rvm/gems/ruby-2.5.1/gems/actionview-5.2.0/lib/assets/compiled
  /home/york/.rvm/gems/ruby-2.5.1/gems/turbolinks-source-5.1.0/lib/assets/javascripts
  /home/york/Документы/Projects/FlatBooking/node_modules
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-sass-3.3.7/assets/stylesheets
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-sass-3.3.7/assets/javascripts
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-sass-3.3.7/assets/fonts
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-sass-3.3.7/assets/images):
     7:     <%= csrf_meta_tags %>
     8:     <%= csp_meta_tag %>
     9:     <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    10:     <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
    11: 
    12:     <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    13:     <!--  jQuery -->
  
app/assets/javascripts/application.js:19
app/views/layouts/application.html.erb:10:in `_app_views_layouts_application_html_erb__1832638823065597234_70076050516340'
Started GET "/flats/5" for 127.0.0.1 at 2018-08-13 14:30:02 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:57
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (6.5ms)
  Rendered flats/show.html.erb within layouts/application (29.0ms)
Completed 200 OK in 585ms (Views: 579.4ms | ActiveRecord: 2.3ms)


Started GET "/flats/5" for 127.0.0.1 at 2018-08-13 14:33:20 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:57
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (5.3ms)
  Rendered flats/show.html.erb within layouts/application (16.8ms)
Completed 500 Internal Server Error in 205ms (ActiveRecord: 1.6ms)


  
ActionView::Template::Error (couldn't find file 'self' with type 'application/javascript'
Checked in these paths: 
  /home/york/Документы/Projects/FlatBooking/app/assets/config
  /home/york/Документы/Projects/FlatBooking/app/assets/images
  /home/york/Документы/Projects/FlatBooking/app/assets/javascripts
  /home/york/Документы/Projects/FlatBooking/app/assets/stylesheets
  /home/york/Документы/Projects/FlatBooking/vendor/assets/javascripts
  /home/york/Документы/Projects/FlatBooking/vendor/assets/stylesheets
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-daterangepicker-rails-3.0.3/vendor/assets/javascripts
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-daterangepicker-rails-3.0.3/vendor/assets/stylesheets
  /home/york/.rvm/gems/ruby-2.5.1/gems/momentjs-rails-2.20.1/vendor/assets/javascripts
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-datepicker-rails-1.8.0.1/vendor/assets/javascripts
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-datepicker-rails-1.8.0.1/vendor/assets/stylesheets
  /home/york/.rvm/gems/ruby-2.5.1/gems/jquery-rails-4.3.3/vendor/assets/javascripts
  /home/york/.rvm/gems/ruby-2.5.1/gems/coffee-rails-4.2.2/lib/assets/javascripts
  /home/york/.rvm/gems/ruby-2.5.1/gems/actioncable-5.2.0/lib/assets/compiled
  /home/york/.rvm/gems/ruby-2.5.1/gems/activestorage-5.2.0/app/assets/javascripts
  /home/york/.rvm/gems/ruby-2.5.1/gems/actionview-5.2.0/lib/assets/compiled
  /home/york/.rvm/gems/ruby-2.5.1/gems/turbolinks-source-5.1.0/lib/assets/javascripts
  /home/york/Документы/Projects/FlatBooking/node_modules
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-sass-3.3.7/assets/stylesheets
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-sass-3.3.7/assets/javascripts
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-sass-3.3.7/assets/fonts
  /home/york/.rvm/gems/ruby-2.5.1/gems/bootstrap-sass-3.3.7/assets/images):
     7:     <%= csrf_meta_tags %>
     8:     <%= csp_meta_tag %>
     9:     <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    10:     <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
    11: 
    12:     <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    13:     <!--  jQuery -->
  
app/assets/javascripts/application.js:22
app/views/layouts/application.html.erb:10:in `_app_views_layouts_application_html_erb__1832638823065597234_70076052908020'
Started GET "/flats/5" for 127.0.0.1 at 2018-08-13 14:33:32 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:57
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (7.6ms)
  Rendered flats/show.html.erb within layouts/application (21.7ms)
Completed 200 OK in 846ms (Views: 840.8ms | ActiveRecord: 2.2ms)


Started GET "/flats/5" for 127.0.0.1 at 2018-08-13 14:33:49 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:57
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (10.7ms)
  Rendered flats/show.html.erb within layouts/application (34.4ms)
Completed 200 OK in 880ms (Views: 871.6ms | ActiveRecord: 2.9ms)


Started GET "/flats/5" for 127.0.0.1 at 2018-08-13 14:35:12 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:57
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (13.0ms)
  Rendered flats/show.html.erb within layouts/application (23.1ms)
Completed 200 OK in 1073ms (Views: 1066.7ms | ActiveRecord: 1.9ms)


Started GET "/flats/5" for 127.0.0.1 at 2018-08-13 14:35:20 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mFlat Load (4.9ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:57
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (4.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (12.5ms)
  Rendered flats/show.html.erb within layouts/application (31.0ms)
Completed 200 OK in 597ms (Views: 576.6ms | ActiveRecord: 10.6ms)


Started GET "/flats/5" for 127.0.0.1 at 2018-08-13 14:38:19 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:57
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (7.5ms)
  Rendered flats/show.html.erb within layouts/application (23.2ms)
Completed 200 OK in 660ms (Views: 655.3ms | ActiveRecord: 1.5ms)


Started GET "/flats/5" for 127.0.0.1 at 2018-08-13 14:39:03 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:57
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (14.9ms)
  Rendered flats/show.html.erb within layouts/application (36.7ms)
Completed 200 OK in 764ms (Views: 759.0ms | ActiveRecord: 1.9ms)


Started GET "/flats/5" for 127.0.0.1 at 2018-08-13 14:39:06 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:57
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (24.7ms)
  Rendered flats/show.html.erb within layouts/application (56.3ms)
Completed 200 OK in 407ms (Views: 397.0ms | ActiveRecord: 3.4ms)


Started GET "/flats/5" for 127.0.0.1 at 2018-08-13 14:40:19 +0300
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:57
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (81.6ms)
  Rendered flats/show.html.erb within layouts/application (5485.7ms)
Completed 200 OK in 6173ms (Views: 6110.3ms | ActiveRecord: 12.4ms)


Started GET "/flats/5" for 127.0.0.1 at 2018-08-13 14:44:27 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mFlat Load (1.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:57
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (2.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (23.6ms)
  Rendered flats/show.html.erb within layouts/application (52.0ms)
Completed 200 OK in 3429ms (Views: 3413.9ms | ActiveRecord: 6.2ms)


Started GET "/flats/5" for 127.0.0.1 at 2018-08-13 14:47:40 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mFlat Load (0.9ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:57
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (16.1ms)
  Rendered flats/show.html.erb within layouts/application (35.9ms)
Completed 200 OK in 635ms (Views: 627.1ms | ActiveRecord: 4.2ms)


Started GET "/flats/5" for 127.0.0.1 at 2018-08-13 14:47:46 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mFlat Load (1.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:57
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (17.4ms)
  Rendered flats/show.html.erb within layouts/application (46.6ms)
Completed 200 OK in 447ms (Views: 433.3ms | ActiveRecord: 4.8ms)


Started GET "/flats/5" for 127.0.0.1 at 2018-08-13 14:48:30 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:57
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (15.0ms)
  Rendered flats/show.html.erb within layouts/application (23.0ms)
Completed 200 OK in 738ms (Views: 732.4ms | ActiveRecord: 2.7ms)


Started GET "/flats/5" for 127.0.0.1 at 2018-08-13 14:50:11 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:57
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (8.2ms)
  Rendered flats/show.html.erb within layouts/application (22.7ms)
Completed 200 OK in 2323ms (Views: 2318.1ms | ActiveRecord: 1.9ms)


Started GET "/flats/5" for 127.0.0.1 at 2018-08-13 14:52:01 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:57
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (7.0ms)
  Rendered flats/show.html.erb within layouts/application (29.9ms)
Completed 200 OK in 576ms (Views: 569.4ms | ActiveRecord: 3.3ms)


Started GET "/flats/5" for 127.0.0.1 at 2018-08-13 14:53:44 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mFlat Load (1.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:57
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (14.4ms)
  Rendered flats/show.html.erb within layouts/application (41.1ms)
Completed 200 OK in 631ms (Views: 617.3ms | ActiveRecord: 3.1ms)


Started GET "/flats/5" for 127.0.0.1 at 2018-08-13 14:54:26 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:57
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (10.6ms)
  Rendered flats/show.html.erb within layouts/application (20.0ms)
Completed 200 OK in 565ms (Views: 560.8ms | ActiveRecord: 1.5ms)


Started GET "/flats/5" for 127.0.0.1 at 2018-08-13 14:54:48 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:57
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (18.2ms)
  Rendered flats/show.html.erb within layouts/application (29.5ms)
Completed 200 OK in 821ms (Views: 814.9ms | ActiveRecord: 2.7ms)


Started GET "/flats/5" for 127.0.0.1 at 2018-08-13 14:56:07 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:57
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (7.1ms)
  Rendered flats/show.html.erb within layouts/application (18.0ms)
Completed 200 OK in 836ms (Views: 832.2ms | ActiveRecord: 1.2ms)


Started GET "/flats/5" for 127.0.0.1 at 2018-08-13 14:57:13 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mFlat Load (1.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:57
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (20.7ms)
  Rendered flats/show.html.erb within layouts/application (30.4ms)
Completed 200 OK in 746ms (Views: 733.0ms | ActiveRecord: 4.4ms)


Started GET "/flats/5" for 127.0.0.1 at 2018-08-13 15:27:38 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mFlat Load (0.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (32.8ms)
  Rendered flats/show.html.erb within layouts/application (91.6ms)
Completed 200 OK in 815ms (Views: 761.8ms | ActiveRecord: 22.6ms)


Started GET "/reserved.json?start=2018-07-29&end=2018-09-09&_=1534163259719" for 127.0.0.1 at 2018-08-13 15:27:39 +0300
  
ActionController::RoutingError (No route matches [GET] "/reserved.json"):
  
actionpack (5.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.6.2) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.6.2) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `catch'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.0) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/flats/5" for 127.0.0.1 at 2018-08-13 15:27:44 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (20.9ms)
  Rendered flats/show.html.erb within layouts/application (34.5ms)
Completed 200 OK in 494ms (Views: 486.6ms | ActiveRecord: 2.7ms)


Started GET "/reserved.json?start=2018-07-29&end=2018-09-09&_=1534163265571" for 127.0.0.1 at 2018-08-13 15:27:45 +0300
  
ActionController::RoutingError (No route matches [GET] "/reserved.json"):
  
actionpack (5.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.6.2) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.6.2) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `catch'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.0) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/flats/5" for 127.0.0.1 at 2018-08-13 15:28:16 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (19.2ms)
  Rendered flats/show.html.erb within layouts/application (36.6ms)
Completed 200 OK in 855ms (Views: 848.2ms | ActiveRecord: 3.3ms)


Started GET "/show.json?start=2018-07-29&end=2018-09-09&_=1534163297850" for 127.0.0.1 at 2018-08-13 15:28:18 +0300
  
ActionController::RoutingError (No route matches [GET] "/show.json"):
  
actionpack (5.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.6.2) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.6.2) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `catch'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.0) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/flats/5" for 127.0.0.1 at 2018-08-13 15:28:21 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mFlat Load (3.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (13.2ms)
  Rendered flats/show.html.erb within layouts/application (47.2ms)
Completed 200 OK in 562ms (Views: 545.1ms | ActiveRecord: 5.6ms)


Started GET "/show.json?start=2018-07-29&end=2018-09-09&_=1534163302365" for 127.0.0.1 at 2018-08-13 15:28:22 +0300
  
ActionController::RoutingError (No route matches [GET] "/show.json"):
  
actionpack (5.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.6.2) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.6.2) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `catch'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.0) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2018-08-13 15:28:28 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (5.3ms)[0m  [1m[34mSELECT  DISTINCT "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (60.7ms)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(DISTINCT "flats"."id") FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (121.3ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:41
Completed 200 OK in 394ms (Views: 379.2ms | ActiveRecord: 9.3ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-08-13 15:28:30 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (4.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (4.1ms)
  Rendered flats/show.html.erb within layouts/application (15.9ms)
Completed 200 OK in 289ms (Views: 280.7ms | ActiveRecord: 5.1ms)


Started GET "/show.json?start=2018-07-29&end=2018-09-09&_=1534163302366" for 127.0.0.1 at 2018-08-13 15:28:30 +0300
  
ActionController::RoutingError (No route matches [GET] "/show.json"):
  
actionpack (5.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.6.2) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.6.2) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `catch'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.0) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/flats/3" for 127.0.0.1 at 2018-08-13 15:28:37 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (2.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (13.6ms)
  Rendered flats/show.html.erb within layouts/application (44.3ms)
Completed 200 OK in 510ms (Views: 499.7ms | ActiveRecord: 4.0ms)


Started GET "/show.json?start=2018-07-29&end=2018-09-09&_=1534163318536" for 127.0.0.1 at 2018-08-13 15:28:38 +0300
  
ActionController::RoutingError (No route matches [GET] "/show.json"):
  
actionpack (5.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.6.2) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.6.2) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `catch'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.0) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/flats/3" for 127.0.0.1 at 2018-08-13 15:28:46 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (19.4ms)
  Rendered flats/show.html.erb within layouts/application (31.4ms)
Completed 200 OK in 546ms (Views: 539.5ms | ActiveRecord: 3.1ms)


Started GET "/reserved.json?start=2018-07-29&end=2018-09-09&_=1534163327237" for 127.0.0.1 at 2018-08-13 15:28:47 +0300
  
ActionController::RoutingError (No route matches [GET] "/reserved.json"):
  
actionpack (5.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.6.2) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.6.2) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `catch'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.0) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/flats/3" for 127.0.0.1 at 2018-08-13 15:28:49 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (7.0ms)
  Rendered flats/show.html.erb within layouts/application (13.9ms)
Completed 200 OK in 523ms (Views: 517.5ms | ActiveRecord: 1.2ms)


Started GET "/reserved.json?start=2018-07-29&end=2018-09-09&_=1534163330324" for 127.0.0.1 at 2018-08-13 15:28:50 +0300
  
ActionController::RoutingError (No route matches [GET] "/reserved.json"):
  
actionpack (5.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.6.2) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.6.2) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `catch'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.0) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/reserved.json?start=2018-07-29&end=2018-09-09&_=1534163330324" for 127.0.0.1 at 2018-08-13 15:29:06 +0300
  
ActionController::RoutingError (No route matches [GET] "/reserved.json"):
  
actionpack (5.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.6.2) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.6.2) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `catch'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.0) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/flats/3" for 127.0.0.1 at 2018-08-13 15:29:50 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (17.1ms)
  Rendered flats/show.html.erb within layouts/application (29.9ms)
Completed 200 OK in 652ms (Views: 645.2ms | ActiveRecord: 3.7ms)


Started GET "/show.json?start=2018-07-29&end=2018-09-09&_=1534163391393" for 127.0.0.1 at 2018-08-13 15:29:51 +0300
  
ActionController::RoutingError (No route matches [GET] "/show.json"):
  
actionpack (5.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.6.2) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.6.2) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `catch'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.0) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/flats/3" for 127.0.0.1 at 2018-08-13 15:35:03 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:63
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (51.0ms)
  Rendered flats/show.html.erb within layouts/application (99.3ms)
Completed 200 OK in 535ms (Views: 472.6ms | ActiveRecord: 22.1ms)


Started GET "/show.json?start=2018-07-29&end=2018-09-09&_=1534163704844" for 127.0.0.1 at 2018-08-13 15:35:05 +0300
  
ActionController::RoutingError (No route matches [GET] "/show.json"):
  
actionpack (5.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.6.2) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.6.2) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `catch'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.0) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/show.json?start=2018-07-29&end=2018-09-09&_=1534163704844" for 127.0.0.1 at 2018-08-13 15:35:13 +0300
  
ActionController::RoutingError (No route matches [GET] "/show.json"):
  
actionpack (5.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.6.2) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.6.2) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `catch'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.0) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/flats/3" for 127.0.0.1 at 2018-08-13 15:36:10 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (1.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:62
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (29.8ms)
  Rendered flats/show.html.erb within layouts/application (70.1ms)
Completed 200 OK in 528ms (Views: 462.3ms | ActiveRecord: 19.0ms)


Started GET "/show.json?start=2018-07-29&end=2018-09-09&_=1534163771316" for 127.0.0.1 at 2018-08-13 15:36:11 +0300
  
ActionController::RoutingError (No route matches [GET] "/show.json"):
  
actionpack (5.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.6.2) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.6.2) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `catch'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.0) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2018-08-13 15:36:15 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (45.6ms)
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (84.8ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:41
Completed 200 OK in 309ms (Views: 298.0ms | ActiveRecord: 4.8ms)


Started GET "/?page=2" for 127.0.0.1 at 2018-08-13 15:36:23 +0300
Processing by FlatsController#index as HTML
  Parameters: {"page"=>"2"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 5]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [2 times] (35.7ms)
  [1m[36mFlat Load (1.2ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (89.9ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:41
Completed 200 OK in 334ms (Views: 325.3ms | ActiveRecord: 4.8ms)


Started GET "/" for 127.0.0.1 at 2018-08-13 15:36:30 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (42.2ms)
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (97.3ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:41
Completed 200 OK in 349ms (Views: 337.9ms | ActiveRecord: 5.9ms)


Started GET "/" for 127.0.0.1 at 2018-08-13 15:41:43 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (75.7ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (150.1ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:41
Completed 200 OK in 528ms (Views: 495.4ms | ActiveRecord: 17.5ms)


Started GET "/" for 127.0.0.1 at 2018-08-13 15:41:45 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (55.4ms)
  [1m[35m (1.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (96.6ms)
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:41
Completed 200 OK in 439ms (Views: 428.9ms | ActiveRecord: 6.6ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-08-13 15:41:52 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (2.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:62
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (52.7ms)
  Rendered flats/show.html.erb within layouts/application (63.1ms)
Completed 200 OK in 347ms (Views: 319.4ms | ActiveRecord: 14.0ms)


Started GET "/reserved.json?start=2018-07-29&end=2018-09-09&_=1534164106150" for 127.0.0.1 at 2018-08-13 15:41:53 +0300
  
ActionController::RoutingError (No route matches [GET] "/reserved.json"):
  
actionpack (5.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.6.2) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.6.2) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `catch'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.0) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/flats/3" for 127.0.0.1 at 2018-08-13 15:42:14 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:62
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (12.3ms)
  Rendered flats/show.html.erb within layouts/application (24.6ms)
Completed 200 OK in 389ms (Views: 383.6ms | ActiveRecord: 1.7ms)


Started GET "/show.json?start=2018-07-29&end=2018-09-09&_=1534164135436" for 127.0.0.1 at 2018-08-13 15:42:15 +0300
  
ActionController::RoutingError (No route matches [GET] "/show.json"):
  
actionpack (5.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.6.2) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.6.2) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `catch'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.0) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2018-08-13 15:45:58 +0300
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (3.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (546.4ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (2.9ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (607.7ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:41
Completed 200 OK in 1341ms (Views: 1266.2ms | ActiveRecord: 27.0ms)


Started GET "/" for 127.0.0.1 at 2018-08-13 15:47:15 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (58.9ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (128.5ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:41
Completed 200 OK in 768ms (Views: 742.0ms | ActiveRecord: 16.6ms)


Started GET "/" for 127.0.0.1 at 2018-08-13 15:47:57 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.9ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (47.5ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (1.2ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (91.2ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 594ms (Views: 587.3ms | ActiveRecord: 4.5ms)


Started GET "/" for 127.0.0.1 at 2018-08-13 15:48:21 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (69.9ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (1.3ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (144.2ms)
  [1m[36mUser Load (2.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 508ms (Views: 472.4ms | ActiveRecord: 25.1ms)


Started GET "/" for 127.0.0.1 at 2018-08-13 15:49:12 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (59.5ms)
  [1m[35m (1.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (156.7ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 801ms (Views: 757.4ms | ActiveRecord: 20.6ms)


Started GET "/" for 127.0.0.1 at 2018-08-13 15:49:45 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (51.4ms)
  [1m[35m (1.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (98.2ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 544ms (Views: 519.6ms | ActiveRecord: 17.6ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-08-13 15:49:54 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (3.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:59
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (51.0ms)
  Rendered flats/show.html.erb within layouts/application (71.3ms)
Completed 200 OK in 319ms (Views: 297.7ms | ActiveRecord: 11.3ms)


Started GET "/show.json?start=2018-07-29&end=2018-09-09&_=1534164586090" for 127.0.0.1 at 2018-08-13 15:49:55 +0300
  
ActionController::RoutingError (No route matches [GET] "/show.json"):
  
actionpack (5.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.6.2) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.6.2) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `catch'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
request_store (1.4.1) lib/request_store/middleware.rb:19:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.0) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/flats/3" for 127.0.0.1 at 2018-08-13 15:50:01 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (1.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:59
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (13.2ms)
  Rendered flats/show.html.erb within layouts/application (33.5ms)
Completed 200 OK in 678ms (Views: 662.9ms | ActiveRecord: 2.6ms)


Started GET "/show.json?start=2018-07-29&end=2018-09-09&_=1534164602420" for 127.0.0.1 at 2018-08-13 15:50:04 +0300
  
ActionController::RoutingError (No route matches [GET] "/show.json"):
  
actionpack (5.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.6.2) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.6.2) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `catch'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
request_store (1.4.1) lib/request_store/middleware.rb:19:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.0) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/flats/3" for 127.0.0.1 at 2018-08-13 15:50:16 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (1.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (19.7ms)
  Rendered flats/show.html.erb within layouts/application (86.7ms)
Completed 200 OK in 492ms (Views: 422.9ms | ActiveRecord: 21.2ms)


Started GET "/show.json?start=2018-07-29&end=2018-09-09&_=1534164617877" for 127.0.0.1 at 2018-08-13 15:50:22 +0300
  
ActionController::RoutingError (No route matches [GET] "/show.json"):
  
actionpack (5.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.6.2) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.6.2) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `catch'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
request_store (1.4.1) lib/request_store/middleware.rb:19:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.0) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/flats/3" for 127.0.0.1 at 2018-08-13 15:50:39 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (2.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (37.1ms)
  Rendered flats/show.html.erb within layouts/application (155.2ms)
Completed 200 OK in 624ms (Views: 513.3ms | ActiveRecord: 23.5ms)


Started GET "/show.json?start=2018-07-29&end=2018-09-09&_=1534164640268" for 127.0.0.1 at 2018-08-13 15:50:42 +0300
  
ActionController::RoutingError (No route matches [GET] "/show.json"):
  
actionpack (5.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.6.2) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.6.2) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `catch'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
request_store (1.4.1) lib/request_store/middleware.rb:19:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.0) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/flats/3" for 127.0.0.1 at 2018-08-13 15:51:14 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (1.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:57
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (27.9ms)
  Rendered flats/show.html.erb within layouts/application (72.5ms)
Completed 200 OK in 771ms (Views: 693.7ms | ActiveRecord: 16.8ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-08-13 15:53:46 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:57
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (49.7ms)
  Rendered flats/show.html.erb within layouts/application (143.4ms)
Completed 200 OK in 1078ms (Views: 1000.1ms | ActiveRecord: 27.9ms)


Started GET "/flats/[%222018-08-15%22,%222018-08-16%22,%222018-08-17%22]?start=2018-07-29&end=2018-09-09&_=1534164828565" for 127.0.0.1 at 2018-08-13 15:53:48 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534164828565", "id"=>"[\"2018-08-15\",\"2018-08-16\",\"2018-08-17\"]"}
  [1m[36mFlat Load (1.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:57
Completed 404 Not Found in 9ms (ActiveRecord: 1.2ms)


  
ActiveRecord::RecordNotFound (Couldn't find Flat with 'id'=["2018-08-15","2018-08-16","2018-08-17"]):
  
app/controllers/flats_controller.rb:57:in `set_flat'
Started GET "/flats/3" for 127.0.0.1 at 2018-08-13 15:53:55 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:57
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (6.8ms)
  Rendered flats/show.html.erb within layouts/application (20.6ms)
Completed 200 OK in 675ms (Views: 669.5ms | ActiveRecord: 2.4ms)


Started GET "/flats/[%222018-08-15%22,%222018-08-16%22,%222018-08-17%22]?start=2018-07-29&end=2018-09-09&_=1534164836013" for 127.0.0.1 at 2018-08-13 15:54:03 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534164836013", "id"=>"[\"2018-08-15\",\"2018-08-16\",\"2018-08-17\"]"}
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:57
Completed 404 Not Found in 7ms (ActiveRecord: 0.4ms)


  
ActiveRecord::RecordNotFound (Couldn't find Flat with 'id'=["2018-08-15","2018-08-16","2018-08-17"]):
  
app/controllers/flats_controller.rb:57:in `set_flat'
Started GET "/flats/3" for 127.0.0.1 at 2018-08-13 15:55:34 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:57
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (11.3ms)
  Rendered flats/show.html.erb within layouts/application (39.8ms)
Completed 200 OK in 805ms (Views: 793.7ms | ActiveRecord: 3.2ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-08-13 15:56:03 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:57
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (8.9ms)
  Rendered flats/show.html.erb within layouts/application (15.5ms)
Completed 200 OK in 883ms (Views: 879.7ms | ActiveRecord: 1.4ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-08-13 15:56:52 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:57
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (6.3ms)
  Rendered flats/show.html.erb within layouts/application (17.3ms)
Completed 200 OK in 901ms (Views: 896.5ms | ActiveRecord: 1.7ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-08-13 15:57:26 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:57
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (6.7ms)
  Rendered flats/show.html.erb within layouts/application (30.8ms)
Completed 200 OK in 847ms (Views: 841.1ms | ActiveRecord: 2.3ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-08-13 16:00:44 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (2.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:57
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (4.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (15.8ms)
  Rendered flats/show.html.erb within layouts/application (35.2ms)
Completed 200 OK in 839ms (Views: 823.7ms | ActiveRecord: 8.1ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-08-13 16:01:50 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (0.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:57
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (3.7ms)
  Rendered flats/show.html.erb within layouts/application (22.6ms)
Completed 200 OK in 801ms (Views: 796.6ms | ActiveRecord: 1.9ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-08-13 16:02:28 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:57
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (13.6ms)
  Rendered flats/show.html.erb within layouts/application (25.2ms)
Completed 200 OK in 498ms (Views: 492.6ms | ActiveRecord: 2.3ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-08-13 16:02:53 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:57
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (7.1ms)
  Rendered flats/show.html.erb within layouts/application (17.2ms)
Completed 200 OK in 855ms (Views: 847.3ms | ActiveRecord: 1.3ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-08-13 16:03:09 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:57
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (5.3ms)
  Rendered flats/show.html.erb within layouts/application (16.7ms)
Completed 200 OK in 364ms (Views: 352.9ms | ActiveRecord: 1.3ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-08-13 16:05:14 +0300
  
SyntaxError (/home/york/Документы/Projects/FlatBooking/app/controllers/flats_controller.rb:11: syntax error, unexpected ':', expecting =>
          title  : 'reserved',
                 ^
/home/york/Документы/Projects/FlatBooking/app/controllers/flats_controller.rb:11: syntax error, unexpected ',', expecting keyword_end
          title  : 'reserved',
                             ^
/home/york/Документы/Projects/FlatBooking/app/controllers/flats_controller.rb:13: syntax error, unexpected '}', expecting keyword_end
        } ]
        ^
/home/york/Документы/Projects/FlatBooking/app/controllers/flats_controller.rb:67: syntax error, unexpected end-of-input, expecting keyword_end):
  
app/controllers/flats_controller.rb:11: syntax error, unexpected ':', expecting =>
app/controllers/flats_controller.rb:11: syntax error, unexpected ',', expecting keyword_end
app/controllers/flats_controller.rb:13: syntax error, unexpected '}', expecting keyword_end
app/controllers/flats_controller.rb:67: syntax error, unexpected end-of-input, expecting keyword_end
Started GET "/flats/3" for 127.0.0.1 at 2018-08-13 16:06:51 +0300
  
SyntaxError (/home/york/Документы/Projects/FlatBooking/app/controllers/flats_controller.rb:12: syntax error, unexpected ':', expecting =>
          title  : 'reserved',
                 ^
/home/york/Документы/Projects/FlatBooking/app/controllers/flats_controller.rb:12: syntax error, unexpected ',', expecting keyword_end
          title  : 'reserved',
                             ^
/home/york/Документы/Projects/FlatBooking/app/controllers/flats_controller.rb:14: syntax error, unexpected '}', expecting keyword_end
        },
        ^
/home/york/Документы/Projects/FlatBooking/app/controllers/flats_controller.rb:16: syntax error, unexpected ',', expecting keyword_end
          title  : 'reserved',
                             ^
/home/york/Документы/Projects/FlatBooking/app/controllers/flats_controller.rb:17: syntax error, unexpected ',', expecting keyword_end
...         start  : '2018-08-05',
...                              ^
/home/york/Документы/Projects/FlatBooking/app/controllers/flats_controller.rb:19: syntax error, unexpected '}', expecting keyword_end
        },
        ^
/home/york/Документы/Projects/FlatBooking/app/controllers/flats_controller.rb:21: syntax error, unexpected ',', expecting keyword_end
          title  : 'reserved',
                             ^
/home/york/Документы/Projects/FlatBooking/app/controllers/flats_controller.rb:22: syntax error, unexpected ',', expecting keyword_end
...         start  : '2018-08-09',
...                              ^
/home/york/Документы/Projects/FlatBooking/app/controllers/flats_controller.rb:78: syntax error, unexpected end-of-input, expecting keyword_end):
  
app/controllers/flats_controller.rb:12: syntax error, unexpected ':', expecting =>
app/controllers/flats_controller.rb:12: syntax error, unexpected ',', expecting keyword_end
app/controllers/flats_controller.rb:14: syntax error, unexpected '}', expecting keyword_end
app/controllers/flats_controller.rb:16: syntax error, unexpected ',', expecting keyword_end
app/controllers/flats_controller.rb:17: syntax error, unexpected ',', expecting keyword_end
app/controllers/flats_controller.rb:19: syntax error, unexpected '}', expecting keyword_end
app/controllers/flats_controller.rb:21: syntax error, unexpected ',', expecting keyword_end
app/controllers/flats_controller.rb:22: syntax error, unexpected ',', expecting keyword_end
app/controllers/flats_controller.rb:78: syntax error, unexpected end-of-input, expecting keyword_end
Started GET "/flats/3" for 127.0.0.1 at 2018-08-13 16:07:26 +0300
  
SyntaxError (/home/york/Документы/Projects/FlatBooking/app/controllers/flats_controller.rb:12: syntax error, unexpected ':', expecting =>
          title  : 'reserved', start  : '2018-0...
                 ^
/home/york/Документы/Projects/FlatBooking/app/controllers/flats_controller.rb:12: syntax error, unexpected ',', expecting keyword_end
          title  : 'reserved', start  : '2018-08-01'
                             ^
/home/york/Документы/Projects/FlatBooking/app/controllers/flats_controller.rb:13: syntax error, unexpected '}', expecting keyword_end
        },
        ^
/home/york/Документы/Projects/FlatBooking/app/controllers/flats_controller.rb:15: syntax error, unexpected ',', expecting keyword_end
          title  : 'reserved',
                             ^
/home/york/Документы/Projects/FlatBooking/app/controllers/flats_controller.rb:16: syntax error, unexpected ',', expecting keyword_end
...         start  : '2018-08-05',
...                              ^
/home/york/Документы/Projects/FlatBooking/app/controllers/flats_controller.rb:18: syntax error, unexpected '}', expecting keyword_end
        },
        ^
/home/york/Документы/Projects/FlatBooking/app/controllers/flats_controller.rb:20: syntax error, unexpected ',', expecting keyword_end
          title  : 'reserved',
                             ^
/home/york/Документы/Projects/FlatBooking/app/controllers/flats_controller.rb:21: syntax error, unexpected ',', expecting keyword_end
...         start  : '2018-08-09',
...                              ^
/home/york/Документы/Projects/FlatBooking/app/controllers/flats_controller.rb:77: syntax error, unexpected end-of-input, expecting keyword_end):
  
app/controllers/flats_controller.rb:12: syntax error, unexpected ':', expecting =>
app/controllers/flats_controller.rb:12: syntax error, unexpected ',', expecting keyword_end
app/controllers/flats_controller.rb:13: syntax error, unexpected '}', expecting keyword_end
app/controllers/flats_controller.rb:15: syntax error, unexpected ',', expecting keyword_end
app/controllers/flats_controller.rb:16: syntax error, unexpected ',', expecting keyword_end
app/controllers/flats_controller.rb:18: syntax error, unexpected '}', expecting keyword_end
app/controllers/flats_controller.rb:20: syntax error, unexpected ',', expecting keyword_end
app/controllers/flats_controller.rb:21: syntax error, unexpected ',', expecting keyword_end
app/controllers/flats_controller.rb:77: syntax error, unexpected end-of-input, expecting keyword_end
Started GET "/flats/3" for 127.0.0.1 at 2018-08-13 16:07:46 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:57
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (27.9ms)
  Rendered flats/show.html.erb within layouts/application (84.3ms)
Completed 200 OK in 913ms (Views: 839.6ms | ActiveRecord: 20.7ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-08-13 16:10:55 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (0.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:57
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (4.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (17.6ms)
  Rendered flats/show.html.erb within layouts/application (30.3ms)
Completed 200 OK in 815ms (Views: 789.0ms | ActiveRecord: 5.1ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-08-13 16:56:19 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:62
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (30.2ms)
  Rendered flats/show.html.erb within layouts/application (68.5ms)
Completed 200 OK in 785ms (Views: 705.2ms | ActiveRecord: 32.3ms)


Started GET "/show.json?start=2018-07-29&end=2018-09-09&_=1534168580848" for 127.0.0.1 at 2018-08-13 16:56:23 +0300
  
ActionController::RoutingError (No route matches [GET] "/show.json"):
  
actionpack (5.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.6.2) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.6.2) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `catch'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
request_store (1.4.1) lib/request_store/middleware.rb:19:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.0) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/flats/3" for 127.0.0.1 at 2018-08-13 16:56:30 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (1.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:62
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (12.2ms)
  Rendered flats/show.html.erb within layouts/application (20.7ms)
Completed 200 OK in 991ms (Views: 977.2ms | ActiveRecord: 2.3ms)


Started GET "/show.json?start=2018-07-29&end=2018-09-09&_=1534168591763" for 127.0.0.1 at 2018-08-13 16:56:32 +0300
  
ActionController::RoutingError (No route matches [GET] "/show.json"):
  
actionpack (5.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.6.2) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.6.2) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `catch'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
request_store (1.4.1) lib/request_store/middleware.rb:19:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.0) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/flats/3.json" for 127.0.0.1 at 2018-08-13 17:04:54 +0300
Processing by FlatsController#show as JSON
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:62
Completed 200 OK in 35ms (Views: 0.1ms | ActiveRecord: 4.5ms)


Started GET "/flats/3.json" for 127.0.0.1 at 2018-08-13 17:05:14 +0300
Processing by FlatsController#show as JSON
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:62
  Rendering flats/show.json.jbuilder
  Rendered flats/show.json.jbuilder (1.0ms)
Completed 200 OK in 118ms (Views: 19.6ms | ActiveRecord: 4.3ms)


Started GET "/show.json?start=2018-07-29&end=2018-09-09&_=1534169133265" for 127.0.0.1 at 2018-08-13 17:05:33 +0300
  
ActionController::RoutingError (No route matches [GET] "/show.json"):
  
actionpack (5.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.6.2) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.6.2) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `catch'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
request_store (1.4.1) lib/request_store/middleware.rb:19:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.0) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/flats/3" for 127.0.0.1 at 2018-08-13 17:05:36 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (1.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:62
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (3.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (146.9ms)
  Rendered flats/show.html.erb within layouts/application (312.5ms)
Completed 200 OK in 757ms (Views: 717.0ms | ActiveRecord: 24.6ms)


Started GET "/show.json?start=2018-07-29&end=2018-09-09&_=1534169137204" for 127.0.0.1 at 2018-08-13 17:05:37 +0300
  
ActionController::RoutingError (No route matches [GET] "/show.json"):
  
actionpack (5.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.6.2) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.6.2) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `catch'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
request_store (1.4.1) lib/request_store/middleware.rb:19:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.0) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/show.json?start=2018-07-29&end=2018-09-09&_=1534169137204" for 127.0.0.1 at 2018-08-13 17:05:46 +0300
  
ActionController::RoutingError (No route matches [GET] "/show.json"):
  
actionpack (5.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.6.2) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.6.2) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `catch'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
request_store (1.4.1) lib/request_store/middleware.rb:19:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.0) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/flats/3" for 127.0.0.1 at 2018-08-13 17:08:40 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:57
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (29.6ms)
  Rendered flats/show.html.erb within layouts/application (96.0ms)
Completed 200 OK in 1043ms (Views: 976.8ms | ActiveRecord: 20.7ms)


Started GET "/flat.json?start=2018-07-29&end=2018-09-09&_=1534169322499" for 127.0.0.1 at 2018-08-13 17:08:42 +0300
  
ActionController::RoutingError (No route matches [GET] "/flat.json"):
  
actionpack (5.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.6.2) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.6.2) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `catch'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
request_store (1.4.1) lib/request_store/middleware.rb:19:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.0) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/flats/3" for 127.0.0.1 at 2018-08-13 17:09:29 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:57
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (7.9ms)
  Rendered flats/show.html.erb within layouts/application (31.6ms)
Completed 200 OK in 852ms (Views: 845.5ms | ActiveRecord: 2.7ms)


Started GET "/flats.json?start=2018-07-29&end=2018-09-09&_=1534169370322" for 127.0.0.1 at 2018-08-13 17:09:30 +0300
Processing by FlatsController#index as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534169370322"}
  Rendering flats/index.json.jbuilder
  Rendered flats/index.json.jbuilder (0.5ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.0ms)


Started GET "/flats/3.json" for 127.0.0.1 at 2018-08-13 17:10:09 +0300
Processing by FlatsController#show as JSON
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:57
Completed 406 Not Acceptable in 28ms (ActiveRecord: 0.3ms)


  
ActionController::UnknownFormat (FlatsController#show is missing a template for this request format and variant.

request.formats: ["application/json"]
request.variant: []):
  
actionpack (5.2.0) lib/action_controller/metal/implicit_render.rb:42:in `default_render'
actionpack (5.2.0) lib/action_controller/metal/basic_implicit_render.rb:6:in `block in send_action'
actionpack (5.2.0) lib/action_controller/metal/basic_implicit_render.rb:6:in `tap'
actionpack (5.2.0) lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
actionpack (5.2.0) lib/abstract_controller/base.rb:194:in `process_action'
actionpack (5.2.0) lib/action_controller/metal/rendering.rb:30:in `process_action'
actionpack (5.2.0) lib/abstract_controller/callbacks.rb:42:in `block in process_action'
activesupport (5.2.0) lib/active_support/callbacks.rb:132:in `run_callbacks'
actionpack (5.2.0) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (5.2.0) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (5.2.0) lib/action_controller/metal/instrumentation.rb:34:in `block in process_action'
activesupport (5.2.0) lib/active_support/notifications.rb:168:in `block in instrument'
activesupport (5.2.0) lib/active_support/notifications/instrumenter.rb:23:in `instrument'
activesupport (5.2.0) lib/active_support/notifications.rb:168:in `instrument'
actionpack (5.2.0) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (5.2.0) lib/action_controller/metal/params_wrapper.rb:256:in `process_action'
activerecord (5.2.0) lib/active_record/railties/controller_runtime.rb:24:in `process_action'
actionpack (5.2.0) lib/abstract_controller/base.rb:134:in `process'
actionview (5.2.0) lib/action_view/rendering.rb:32:in `process'
actionpack (5.2.0) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (5.2.0) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (5.2.0) lib/action_dispatch/routing/route_set.rb:52:in `dispatch'
actionpack (5.2.0) lib/action_dispatch/routing/route_set.rb:34:in `serve'
actionpack (5.2.0) lib/action_dispatch/journey/router.rb:52:in `block in serve'
actionpack (5.2.0) lib/action_dispatch/journey/router.rb:35:in `each'
actionpack (5.2.0) lib/action_dispatch/journey/router.rb:35:in `serve'
actionpack (5.2.0) lib/action_dispatch/routing/route_set.rb:840:in `call'
warden (1.2.7) lib/warden/manager.rb:36:in `block in call'
warden (1.2.7) lib/warden/manager.rb:35:in `catch'
warden (1.2.7) lib/warden/manager.rb:35:in `call'
rack (2.0.5) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.0.5) lib/rack/etag.rb:25:in `call'
rack (2.0.5) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.5) lib/rack/head.rb:12:in `call'
actionpack (5.2.0) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.0.5) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.5) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/cookies.rb:670:in `call'
activerecord (5.2.0) lib/active_record/migration.rb:559:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
activesupport (5.2.0) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (5.2.0) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:61:in `call'
web-console (3.6.2) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.6.2) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `catch'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
request_store (1.4.1) lib/request_store/middleware.rb:19:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.0) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/flats/3.json" for 127.0.0.1 at 2018-08-13 17:10:29 +0300
Processing by FlatsController#show as JSON
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:57
  Rendering flats/show.json.jbuilder
  Rendered flats/show.json.jbuilder (2.5ms)
Completed 200 OK in 29ms (Views: 22.0ms | ActiveRecord: 0.5ms)


Started GET "/flats/3.json" for 127.0.0.1 at 2018-08-13 17:11:12 +0300
Processing by FlatsController#show as JSON
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (2.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:57
Completed 406 Not Acceptable in 56ms (ActiveRecord: 2.7ms)


  
ActionController::UnknownFormat (FlatsController#show is missing a template for this request format and variant.

request.formats: ["application/json"]
request.variant: []):
  
actionpack (5.2.0) lib/action_controller/metal/implicit_render.rb:42:in `default_render'
actionpack (5.2.0) lib/action_controller/metal/basic_implicit_render.rb:6:in `block in send_action'
actionpack (5.2.0) lib/action_controller/metal/basic_implicit_render.rb:6:in `tap'
actionpack (5.2.0) lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
actionpack (5.2.0) lib/abstract_controller/base.rb:194:in `process_action'
actionpack (5.2.0) lib/action_controller/metal/rendering.rb:30:in `process_action'
actionpack (5.2.0) lib/abstract_controller/callbacks.rb:42:in `block in process_action'
activesupport (5.2.0) lib/active_support/callbacks.rb:132:in `run_callbacks'
actionpack (5.2.0) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (5.2.0) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (5.2.0) lib/action_controller/metal/instrumentation.rb:34:in `block in process_action'
activesupport (5.2.0) lib/active_support/notifications.rb:168:in `block in instrument'
activesupport (5.2.0) lib/active_support/notifications/instrumenter.rb:23:in `instrument'
activesupport (5.2.0) lib/active_support/notifications.rb:168:in `instrument'
actionpack (5.2.0) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (5.2.0) lib/action_controller/metal/params_wrapper.rb:256:in `process_action'
activerecord (5.2.0) lib/active_record/railties/controller_runtime.rb:24:in `process_action'
actionpack (5.2.0) lib/abstract_controller/base.rb:134:in `process'
actionview (5.2.0) lib/action_view/rendering.rb:32:in `process'
actionpack (5.2.0) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (5.2.0) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (5.2.0) lib/action_dispatch/routing/route_set.rb:52:in `dispatch'
actionpack (5.2.0) lib/action_dispatch/routing/route_set.rb:34:in `serve'
actionpack (5.2.0) lib/action_dispatch/journey/router.rb:52:in `block in serve'
actionpack (5.2.0) lib/action_dispatch/journey/router.rb:35:in `each'
actionpack (5.2.0) lib/action_dispatch/journey/router.rb:35:in `serve'
actionpack (5.2.0) lib/action_dispatch/routing/route_set.rb:840:in `call'
warden (1.2.7) lib/warden/manager.rb:36:in `block in call'
warden (1.2.7) lib/warden/manager.rb:35:in `catch'
warden (1.2.7) lib/warden/manager.rb:35:in `call'
rack (2.0.5) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.0.5) lib/rack/etag.rb:25:in `call'
rack (2.0.5) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.5) lib/rack/head.rb:12:in `call'
actionpack (5.2.0) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.0.5) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.5) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/cookies.rb:670:in `call'
activerecord (5.2.0) lib/active_record/migration.rb:559:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
activesupport (5.2.0) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (5.2.0) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:61:in `call'
web-console (3.6.2) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.6.2) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `catch'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
request_store (1.4.1) lib/request_store/middleware.rb:19:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.0) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/flats/3.json" for 127.0.0.1 at 2018-08-13 17:11:19 +0300
Processing by FlatsController#show as JSON
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:57
Completed 406 Not Acceptable in 41ms (ActiveRecord: 0.6ms)


  
ActionController::UnknownFormat (FlatsController#show is missing a template for this request format and variant.

request.formats: ["application/json"]
request.variant: []):
  
actionpack (5.2.0) lib/action_controller/metal/implicit_render.rb:42:in `default_render'
actionpack (5.2.0) lib/action_controller/metal/basic_implicit_render.rb:6:in `block in send_action'
actionpack (5.2.0) lib/action_controller/metal/basic_implicit_render.rb:6:in `tap'
actionpack (5.2.0) lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
actionpack (5.2.0) lib/abstract_controller/base.rb:194:in `process_action'
actionpack (5.2.0) lib/action_controller/metal/rendering.rb:30:in `process_action'
actionpack (5.2.0) lib/abstract_controller/callbacks.rb:42:in `block in process_action'
activesupport (5.2.0) lib/active_support/callbacks.rb:132:in `run_callbacks'
actionpack (5.2.0) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (5.2.0) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (5.2.0) lib/action_controller/metal/instrumentation.rb:34:in `block in process_action'
activesupport (5.2.0) lib/active_support/notifications.rb:168:in `block in instrument'
activesupport (5.2.0) lib/active_support/notifications/instrumenter.rb:23:in `instrument'
activesupport (5.2.0) lib/active_support/notifications.rb:168:in `instrument'
actionpack (5.2.0) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (5.2.0) lib/action_controller/metal/params_wrapper.rb:256:in `process_action'
activerecord (5.2.0) lib/active_record/railties/controller_runtime.rb:24:in `process_action'
actionpack (5.2.0) lib/abstract_controller/base.rb:134:in `process'
actionview (5.2.0) lib/action_view/rendering.rb:32:in `process'
actionpack (5.2.0) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (5.2.0) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (5.2.0) lib/action_dispatch/routing/route_set.rb:52:in `dispatch'
actionpack (5.2.0) lib/action_dispatch/routing/route_set.rb:34:in `serve'
actionpack (5.2.0) lib/action_dispatch/journey/router.rb:52:in `block in serve'
actionpack (5.2.0) lib/action_dispatch/journey/router.rb:35:in `each'
actionpack (5.2.0) lib/action_dispatch/journey/router.rb:35:in `serve'
actionpack (5.2.0) lib/action_dispatch/routing/route_set.rb:840:in `call'
warden (1.2.7) lib/warden/manager.rb:36:in `block in call'
warden (1.2.7) lib/warden/manager.rb:35:in `catch'
warden (1.2.7) lib/warden/manager.rb:35:in `call'
rack (2.0.5) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.0.5) lib/rack/etag.rb:25:in `call'
rack (2.0.5) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.5) lib/rack/head.rb:12:in `call'
actionpack (5.2.0) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.0.5) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.5) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/cookies.rb:670:in `call'
activerecord (5.2.0) lib/active_record/migration.rb:559:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
activesupport (5.2.0) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (5.2.0) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:61:in `call'
web-console (3.6.2) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.6.2) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `catch'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
request_store (1.4.1) lib/request_store/middleware.rb:19:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.0) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/flats/3" for 127.0.0.1 at 2018-08-13 17:11:26 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (1.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:57
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (14.8ms)
  Rendered flats/show.html.erb within layouts/application (33.5ms)
Completed 200 OK in 591ms (Views: 580.0ms | ActiveRecord: 3.8ms)


Started GET "/flat.json?start=2018-07-29&end=2018-09-09&_=1534169487854" for 127.0.0.1 at 2018-08-13 17:11:28 +0300
  
ActionController::RoutingError (No route matches [GET] "/flat.json"):
  
actionpack (5.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.6.2) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.6.2) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `catch'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
request_store (1.4.1) lib/request_store/middleware.rb:19:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.0) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/flats/3" for 127.0.0.1 at 2018-08-13 17:17:01 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (0.9ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:57
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (3.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (3.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (13.1ms)
  Rendered flats/show.html.erb within layouts/application (31.5ms)
Completed 200 OK in 723ms (Views: 711.3ms | ActiveRecord: 8.1ms)


Started GET "/flat.json?start=2018-07-29&end=2018-09-09&_=1534169822562" for 127.0.0.1 at 2018-08-13 17:17:03 +0300
  
ActionController::RoutingError (No route matches [GET] "/flat.json"):
  
actionpack (5.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.6.2) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.6.2) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `catch'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
request_store (1.4.1) lib/request_store/middleware.rb:19:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.0) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/flats/3" for 127.0.0.1 at 2018-08-13 17:17:14 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:57
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (10.8ms)
  Rendered flats/show.html.erb within layouts/application (50.3ms)
Completed 200 OK in 626ms (Views: 618.3ms | ActiveRecord: 2.6ms)


Started GET "/show.json?start=2018-07-29&end=2018-09-09&_=1534169835766" for 127.0.0.1 at 2018-08-13 17:17:16 +0300
  
ActionController::RoutingError (No route matches [GET] "/show.json"):
  
actionpack (5.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.6.2) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.6.2) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `catch'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
request_store (1.4.1) lib/request_store/middleware.rb:19:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.0) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/flats/3.json" for 127.0.0.1 at 2018-08-13 17:17:26 +0300
Processing by FlatsController#show as JSON
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:57
  Rendering flats/show.json.jbuilder
  Rendered flats/show.json.jbuilder (1.0ms)
Completed 200 OK in 14ms (Views: 9.0ms | ActiveRecord: 0.7ms)


Started GET "/show.json?start=2018-07-29&end=2018-09-09&_=1534170004448" for 127.0.0.1 at 2018-08-13 17:20:04 +0300
  
ActionController::RoutingError (No route matches [GET] "/show.json"):
  
actionpack (5.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.6.2) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.6.2) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `catch'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
request_store (1.4.1) lib/request_store/middleware.rb:19:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.0) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/show.json?start=2018-07-29&end=2018-09-09&_=1534170019558" for 127.0.0.1 at 2018-08-13 17:20:19 +0300
  
ActionController::RoutingError (No route matches [GET] "/show.json"):
  
actionpack (5.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.6.2) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.6.2) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `catch'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
request_store (1.4.1) lib/request_store/middleware.rb:19:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.0) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/flats/3.json" for 127.0.0.1 at 2018-08-13 17:20:25 +0300
Processing by FlatsController#show as JSON
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (1.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:57
  Rendering flats/show.json.jbuilder
  Rendered flats/show.json.jbuilder (3.0ms)
Completed 200 OK in 26ms (Views: 17.1ms | ActiveRecord: 1.2ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-08-13 17:20:32 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (1.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:57
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (12.2ms)
  Rendered flats/show.html.erb within layouts/application (32.3ms)
Completed 200 OK in 581ms (Views: 569.7ms | ActiveRecord: 3.2ms)


Started GET "/show.json?start=2018-07-29&end=2018-09-09&_=1534170032948" for 127.0.0.1 at 2018-08-13 17:20:33 +0300
  
ActionController::RoutingError (No route matches [GET] "/show.json"):
  
actionpack (5.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.6.2) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.6.2) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `catch'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
request_store (1.4.1) lib/request_store/middleware.rb:19:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.0) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/flats/3" for 127.0.0.1 at 2018-08-13 17:31:21 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (1.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:57
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (5.6ms)
  Rendered flats/show.html.erb within layouts/application (29.8ms)
Completed 200 OK in 905ms (Views: 896.3ms | ActiveRecord: 4.5ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-08-13 17:31:51 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:57
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (9.0ms)
  Rendered flats/show.html.erb within layouts/application (28.5ms)
Completed 200 OK in 827ms (Views: 817.3ms | ActiveRecord: 2.5ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-08-13 17:32:53 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (33.1ms)
  Rendered flats/show.html.erb within layouts/application (78.2ms)
Completed 200 OK in 905ms (Views: 845.8ms | ActiveRecord: 28.6ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-08-13 17:33:32 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (1.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (16.6ms)
  Rendered flats/show.html.erb within layouts/application (27.6ms)
Completed 200 OK in 1035ms (Views: 1024.3ms | ActiveRecord: 3.4ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-08-13 17:34:02 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (11.2ms)
  Rendered flats/show.html.erb within layouts/application (21.6ms)
Completed 200 OK in 921ms (Views: 916.2ms | ActiveRecord: 2.1ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-08-13 17:34:31 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (17.0ms)
  Rendered flats/show.html.erb within layouts/application (38.1ms)
Completed 200 OK in 961ms (Views: 953.0ms | ActiveRecord: 4.0ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-08-13 17:36:02 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (7.1ms)
  Rendered flats/show.html.erb within layouts/application (30.0ms)
Completed 200 OK in 805ms (Views: 799.2ms | ActiveRecord: 2.6ms)


Started GET "/flats/3.json?start=2018-07-29&end=2018-09-09&_=1534170963417" for 127.0.0.1 at 2018-08-13 17:36:10 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534170963417", "id"=>"3"}
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.json.jbuilder
  Rendered flats/show.json.jbuilder (3.3ms)
Completed 200 OK in 18ms (Views: 13.4ms | ActiveRecord: 0.5ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-08-13 17:36:56 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (5.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (2.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (15.0ms)
  Rendered flats/show.html.erb within layouts/application (32.5ms)
Completed 200 OK in 794ms (Views: 782.9ms | ActiveRecord: 9.0ms)


Started GET "/flats/3.json?start=2018-07-29&end=2018-09-09&_=1534171017920" for 127.0.0.1 at 2018-08-13 17:36:58 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534171017920", "id"=>"3"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.json.jbuilder
  Rendered flats/show.json.jbuilder (0.8ms)
Completed 200 OK in 11ms (Views: 7.0ms | ActiveRecord: 0.3ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-08-13 17:39:06 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (6.9ms)
  Rendered flats/show.html.erb within layouts/application (18.1ms)
Completed 200 OK in 722ms (Views: 710.6ms | ActiveRecord: 1.2ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-08-13 17:39:22 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (4.8ms)
  Rendered flats/show.html.erb within layouts/application (31.8ms)
Completed 200 OK in 842ms (Views: 835.5ms | ActiveRecord: 1.8ms)


Started GET "/flats/3.json?start=2018-07-29&end=2018-09-09&_=1534171163318" for 127.0.0.1 at 2018-08-13 17:39:23 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534171163318", "id"=>"3"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.json.jbuilder
  Rendered flats/show.json.jbuilder (0.9ms)
Completed 200 OK in 13ms (Views: 9.7ms | ActiveRecord: 0.3ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-08-13 17:39:38 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (8.7ms)
  Rendered flats/show.html.erb within layouts/application (30.9ms)
Completed 200 OK in 825ms (Views: 819.3ms | ActiveRecord: 2.5ms)


Started GET "/flats/3.json?start=2018-07-29&end=2018-09-09&_=1534171179216" for 127.0.0.1 at 2018-08-13 17:39:39 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534171179216", "id"=>"3"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.json.jbuilder
  Rendered flats/show.json.jbuilder (1.2ms)
Completed 200 OK in 18ms (Views: 14.6ms | ActiveRecord: 0.3ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-08-13 17:41:13 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (6.8ms)
  Rendered flats/show.html.erb within layouts/application (23.9ms)
Completed 200 OK in 896ms (Views: 891.8ms | ActiveRecord: 1.3ms)


Started GET "/flats/3.json?start=2018-07-29&end=2018-09-09&_=1534171275100" for 127.0.0.1 at 2018-08-13 17:41:15 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534171275100", "id"=>"3"}
  [1m[36mFlat Load (1.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.json.jbuilder
  Rendered flats/show.json.jbuilder (0.9ms)
Completed 200 OK in 24ms (Views: 12.5ms | ActiveRecord: 1.5ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-08-13 17:42:37 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (3.4ms)
  Rendered flats/show.html.erb within layouts/application (12.1ms)
Completed 200 OK in 748ms (Views: 743.2ms | ActiveRecord: 1.3ms)


Started GET "/flats/3.json?start=2018-07-29&end=2018-09-09&_=1534171358546" for 127.0.0.1 at 2018-08-13 17:42:38 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534171358546", "id"=>"3"}
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.json.jbuilder
  Rendered flats/show.json.jbuilder (0.9ms)
Completed 200 OK in 23ms (Views: 10.1ms | ActiveRecord: 0.4ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-08-13 17:42:50 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (12.3ms)
  Rendered flats/show.html.erb within layouts/application (24.6ms)
Completed 200 OK in 768ms (Views: 758.3ms | ActiveRecord: 2.5ms)


Started GET "/flats/3.json?start=2018-07-29&end=2018-09-09&_=1534171371780" for 127.0.0.1 at 2018-08-13 17:42:52 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534171371780", "id"=>"3"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.json.jbuilder
  Rendered flats/show.json.jbuilder (1.0ms)
Completed 200 OK in 10ms (Views: 6.6ms | ActiveRecord: 0.3ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-08-13 17:43:11 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (1.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (4.4ms)
  Rendered flats/show.html.erb within layouts/application (16.1ms)
Completed 200 OK in 494ms (Views: 486.4ms | ActiveRecord: 3.1ms)


Started GET "/flats/3.json?start=2018-07-29&end=2018-09-09&_=1534171392634" for 127.0.0.1 at 2018-08-13 17:43:13 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534171392634", "id"=>"3"}
  [1m[36mFlat Load (2.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.json.jbuilder
  Rendered flats/show.json.jbuilder (1.1ms)
Completed 200 OK in 14ms (Views: 7.7ms | ActiveRecord: 2.5ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-08-13 17:43:36 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (2.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (17.2ms)
  Rendered flats/show.html.erb within layouts/application (29.0ms)
Completed 200 OK in 471ms (Views: 451.1ms | ActiveRecord: 5.6ms)


Started GET "/flats/3.json?start=2018-07-29&end=2018-09-09&_=1534171416964" for 127.0.0.1 at 2018-08-13 17:43:37 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534171416964", "id"=>"3"}
  [1m[36mFlat Load (2.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.json.jbuilder
  Rendered flats/show.json.jbuilder (0.6ms)
Completed 200 OK in 19ms (Views: 5.9ms | ActiveRecord: 2.1ms)


Started GET "/secret" for 127.0.0.1 at 2018-08-13 17:43:43 +0300
Processing by UsersController#secret as HTML
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:16
  Rendering users/secret.html.erb within layouts/application
  [1m[35m (3.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"], ["vendor", true]]
  ↳ app/views/users/secret.html.erb:1
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"], ["vendor", false]]
  ↳ app/views/users/secret.html.erb:1
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:2
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:2
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:3
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT "flats".* FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:5
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:9
  Rendered users/secret.html.erb within layouts/application (16.9ms)
Completed 200 OK in 236ms (Views: 216.7ms | ActiveRecord: 6.6ms)


Started GET "/users" for 127.0.0.1 at 2018-08-13 17:43:44 +0300
Processing by UsersController#index as HTML
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."vendor" = $1[0m  [["vendor", true]]
  ↳ app/views/users/index.html.erb:12
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."user_id" = $1[0m  [["user_id", 3]]
  ↳ app/views/users/index.html.erb:16
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/index.html.erb:16
  Rendered users/index.html.erb within layouts/application (47.5ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 309ms (Views: 295.1ms | ActiveRecord: 4.3ms)


Started GET "/secret" for 127.0.0.1 at 2018-08-13 17:43:48 +0300
Processing by UsersController#secret as HTML
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:16
  Rendering users/secret.html.erb within layouts/application
  [1m[35m (1.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"], ["vendor", true]]
  ↳ app/views/users/secret.html.erb:1
  [1m[35m (1.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"], ["vendor", false]]
  ↳ app/views/users/secret.html.erb:1
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:2
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:2
  [1m[35mCACHE  (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:3
  [1m[36mFlat Load (1.6ms)[0m  [1m[34mSELECT "flats".* FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:5
  [1m[35mCACHE  (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-12 21:00:00"], ["created_at", "2018-08-13 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:9
  Rendered users/secret.html.erb within layouts/application (35.5ms)
Completed 200 OK in 316ms (Views: 289.4ms | ActiveRecord: 8.9ms)


Started GET "/flats/new" for 127.0.0.1 at 2018-08-13 17:43:52 +0300
Processing by FlatsController#new as HTML
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering flats/new.html.erb within layouts/application
  Rendered flats/_form.html.erb (31.1ms)
  Rendered flats/new.html.erb within layouts/application (36.1ms)
Completed 200 OK in 315ms (Views: 303.4ms | ActiveRecord: 1.2ms)


Started GET "/" for 127.0.0.1 at 2018-08-13 17:43:54 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (23.1ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (59.8ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 280ms (Views: 272.3ms | ActiveRecord: 3.0ms)


Started GET "/" for 127.0.0.1 at 2018-08-13 17:55:29 +0300
Processing by FlatsController#index as HTML
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms)


  
SyntaxError (/home/york/Документы/Projects/FlatBooking/app/models/flat.rb:18: syntax error, unexpected '}', expecting keyword_end
/home/york/Документы/Projects/FlatBooking/app/models/flat.rb:37: syntax error, unexpected keyword_end, expecting '}'):
  
app/models/flat.rb:18: syntax error, unexpected '}', expecting keyword_end
app/models/flat.rb:37: syntax error, unexpected keyword_end, expecting '}'
app/controllers/flats_controller.rb:6:in `index'
Started GET "/" for 127.0.0.1 at 2018-08-13 17:55:42 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (4.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (83.8ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (2.2ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (186.1ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 625ms (Views: 589.4ms | ActiveRecord: 28.3ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=&filter%5Bend_date%5D=&commit=Search" for 127.0.0.1 at 2018-08-13 17:55:52 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"", "end_date"=>""}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (40.7ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (62.0ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 413ms (Views: 407.1ms | ActiveRecord: 4.1ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=&filter%5Bend_date%5D=&commit=Search" for 127.0.0.1 at 2018-08-13 17:55:57 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"", "end_date"=>""}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (66.4ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (115.9ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 477ms (Views: 462.1ms | ActiveRecord: 8.1ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=&filter%5Bend_date%5D=&commit=Search" for 127.0.0.1 at 2018-08-13 17:56:54 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"", "end_date"=>""}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (46.7ms)
  [1m[35m (1.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (1.0ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (100.5ms)
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 809ms (Views: 794.5ms | ActiveRecord: 8.1ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=price&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=&filter%5Bend_date%5D=" for 127.0.0.1 at 2018-08-13 17:56:57 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"price", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"", "end_date"=>""}}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.price ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (52.0ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (76.8ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 371ms (Views: 364.1ms | ActiveRecord: 4.8ms)


Started GET "/?filter%5Bcategory%5D=price&filter%5Bcity%5D=&filter%5Bdirection%5D=ASC&filter%5Bend_date%5D=&filter%5Bname%5D=&filter%5Bstart_date%5D=&filter%5Bvendor%5D=&page=2" for 127.0.0.1 at 2018-08-13 17:57:03 +0300
Processing by FlatsController#index as HTML
  Parameters: {"filter"=>{"category"=>"price", "city"=>"", "direction"=>"ASC", "end_date"=>"", "name"=>"", "start_date"=>"", "vendor"=>""}, "page"=>"2"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.price ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 5]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [2 times] (26.0ms)
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (79.7ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 339ms (Views: 331.8ms | ActiveRecord: 3.6ms)


Started GET "/?filter%5Bcategory%5D=price&filter%5Bcity%5D=&filter%5Bdirection%5D=ASC&filter%5Bend_date%5D=&filter%5Bname%5D=&filter%5Bstart_date%5D=&filter%5Bvendor%5D=" for 127.0.0.1 at 2018-08-13 17:57:05 +0300
Processing by FlatsController#index as HTML
  Parameters: {"filter"=>{"category"=>"price", "city"=>"", "direction"=>"ASC", "end_date"=>"", "name"=>"", "start_date"=>"", "vendor"=>""}}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.price ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (29.1ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (54.0ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 303ms (Views: 298.6ms | ActiveRecord: 2.4ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=&filter%5Bend_date%5D=" for 127.0.0.1 at 2018-08-13 17:57:07 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"", "end_date"=>""}}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (57.0ms)
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (94.4ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 410ms (Views: 398.9ms | ActiveRecord: 6.5ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=DESC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=&filter%5Bend_date%5D=" for 127.0.0.1 at 2018-08-13 17:57:10 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"DESC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"", "end_date"=>""}}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (37.7ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (1.3ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (68.1ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 360ms (Views: 354.0ms | ActiveRecord: 3.9ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=&filter%5Bend_date%5D=" for 127.0.0.1 at 2018-08-13 17:57:12 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"", "end_date"=>""}}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (2.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (49.6ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (84.4ms)
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 500ms (Views: 489.7ms | ActiveRecord: 8.2ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=Tork&filter%5Bcity%5D=&filter%5Bstart_date%5D=&filter%5Bend_date%5D=&commit=Search" for 127.0.0.1 at 2018-08-13 17:57:21 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"Tork", "city"=>"", "start_date"=>"", "end_date"=>""}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" INNER JOIN "users" ON "users"."id" = "flats"."user_id" WHERE "users"."name" = $1 ORDER BY flats.created_at ASC LIMIT $2 OFFSET $3[0m  [["name", "Tork"], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (33.6ms)
  [1m[36mFlat Load (1.9ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (48.1ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 396ms (Views: 388.4ms | ActiveRecord: 4.3ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=Mukacheve&filter%5Bstart_date%5D=&filter%5Bend_date%5D=&commit=Search" for 127.0.0.1 at 2018-08-13 17:57:29 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"Mukacheve", "start_date"=>"", "end_date"=>""}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.9ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."city" = $1 ORDER BY flats.created_at ASC LIMIT $2 OFFSET $3[0m  [["city", "Mukacheve"], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (2.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [1 times] (23.9ms)
  [1m[36mFlat Load (1.6ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (46.4ms)
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 429ms (Views: 412.4ms | ActiveRecord: 6.6ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=&filter%5Bend_date%5D=&commit=Search" for 127.0.0.1 at 2018-08-13 17:57:42 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"", "end_date"=>""}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (2.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (62.2ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (103.2ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 426ms (Views: 418.1ms | ActiveRecord: 5.4ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-17&commit=Search" for 127.0.0.1 at 2018-08-13 18:04:22 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-17"}, "commit"=>"Search"}
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" LIMIT $1[0m  [["LIMIT", 11]]
  ↳ /home/york/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:8
Completed 500 Internal Server Error in 47ms (ActiveRecord: 0.0ms)


  
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" LIMIT $1[0m  [["LIMIT", 11]]
  ↳ /home/york/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:8
NoMethodError (undefined method `order_by' for #<ActiveRecord::QueryMethods::WhereChain:0x00007f682d5a5ec8>):
  
app/models/flat.rb:28:in `filter'
app/controllers/flats_controller.rb:6:in `index'
Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-17&commit=Search" for 127.0.0.1 at 2018-08-13 18:04:58 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-17"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (5.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."reserved_date" = $1 ORDER BY flats.created_at ASC LIMIT $2 OFFSET $3[0m  [["reserved_date", "[2018-08-15,2018-08-17]"], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  Rendered flats/index.html.erb within layouts/application (13.3ms)
Completed 500 Internal Server Error in 57ms (ActiveRecord: 11.4ms)


  
ActionView::Template::Error (PG::InvalidTextRepresentation: ОШИБКА:  ошибочный литерал массива: "[2018-08-15,2018-08-17]"
DETAIL:  После размерностей массива отсутствует "]".
: SELECT  "flats".* FROM "flats" WHERE "flats"."reserved_date" = $1 ORDER BY flats.created_at ASC LIMIT $2 OFFSET $3):
     8:     onchange: "submitOnChange()", class: 'submit-on-change'  %>
     9:   <h1>Flats</h1>
    10: 
    11:   <%= render @flats %>
    12: 
    13:   <%= paginate @flats %>
    14: </div>
  
app/views/flats/index.html.erb:11:in `_app_views_flats_index_html_erb___908289770473437423_70042742926040'
Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-17&commit=Search" for 127.0.0.1 at 2018-08-13 18:05:33 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-17"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."reserved_date" = $1 ORDER BY flats.created_at ASC LIMIT $2 OFFSET $3[0m  [["reserved_date", "[2018-08-15,2018-08-17]"], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  Rendered flats/index.html.erb within layouts/application (5.8ms)
Completed 500 Internal Server Error in 16ms (ActiveRecord: 1.0ms)


  
ActionView::Template::Error (PG::InvalidTextRepresentation: ОШИБКА:  ошибочный литерал массива: "[2018-08-15,2018-08-17]"
DETAIL:  После размерностей массива отсутствует "]".
: SELECT  "flats".* FROM "flats" WHERE "flats"."reserved_date" = $1 ORDER BY flats.created_at ASC LIMIT $2 OFFSET $3):
     8:     onchange: "submitOnChange()", class: 'submit-on-change'  %>
     9:   <h1>Flats</h1>
    10: 
    11:   <%= render @flats %>
    12: 
    13:   <%= paginate @flats %>
    14: </div>
  
app/views/flats/index.html.erb:11:in `_app_views_flats_index_html_erb___908289770473437423_70042700759920'
Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-17&commit=Search" for 127.0.0.1 at 2018-08-13 18:06:10 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-17"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.9ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."reserved_date" = $1 ORDER BY flats.created_at ASC LIMIT $2 OFFSET $3[0m  [["reserved_date", "[2018-08-15,2018-08-17]"], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  Rendered flats/index.html.erb within layouts/application (13.5ms)
Completed 500 Internal Server Error in 26ms (ActiveRecord: 2.9ms)


  
ActionView::Template::Error (PG::InvalidTextRepresentation: ОШИБКА:  ошибочный литерал массива: "[2018-08-15,2018-08-17]"
DETAIL:  После размерностей массива отсутствует "]".
: SELECT  "flats".* FROM "flats" WHERE "flats"."reserved_date" = $1 ORDER BY flats.created_at ASC LIMIT $2 OFFSET $3):
     8:     onchange: "submitOnChange()", class: 'submit-on-change'  %>
     9:   <h1>Flats</h1>
    10: 
    11:   <%= render @flats %>
    12: 
    13:   <%= paginate @flats %>
    14: </div>
  
app/views/flats/index.html.erb:11:in `_app_views_flats_index_html_erb___908289770473437423_70042708252720'
Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-17&commit=Search" for 127.0.0.1 at 2018-08-13 18:11:09 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-17"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."reserved_date" = $1 ORDER BY flats.created_at ASC LIMIT $2 OFFSET $3[0m  [["reserved_date", "{2018-08-15,2018-08-16,2018-08-17}"], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (2.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [1 times] (63.5ms)
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (163.0ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 566ms (Views: 532.4ms | ActiveRecord: 20.4ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-08-13 18:11:14 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (1.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (2.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (70.5ms)
  Rendered flats/show.html.erb within layouts/application (87.2ms)
Completed 200 OK in 365ms (Views: 344.9ms | ActiveRecord: 12.0ms)


Started GET "/flats/3.json?start=2018-07-29&end=2018-09-09&_=1534173070997" for 127.0.0.1 at 2018-08-13 18:11:15 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534173070997", "id"=>"3"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.json.jbuilder
  Rendered flats/show.json.jbuilder (0.5ms)
Completed 200 OK in 6ms (Views: 3.4ms | ActiveRecord: 0.3ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-17&commit=Search" for 127.0.0.1 at 2018-08-13 18:17:43 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-17"}, "commit"=>"Search"}
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms)


  
SyntaxError (/home/york/Документы/Projects/FlatBooking/app/models/flat.rb:27: syntax error, unexpected tLABEL
...= @flats.where( (reserved_date: & (params_filter[:start_date...
...                 ^~~~~~~~~~~~~~):
  
app/models/flat.rb:27: syntax error, unexpected tLABEL
app/controllers/flats_controller.rb:6:in `index'
Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-17&commit=Search" for 127.0.0.1 at 2018-08-13 18:17:59 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-17"}, "commit"=>"Search"}
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms)


  
SyntaxError (/home/york/Документы/Projects/FlatBooking/app/models/flat.rb:27: syntax error, unexpected &
... @flats.where( reserved_date: & (params_filter[:start_date]....
...                              ^
/home/york/Документы/Projects/FlatBooking/app/models/flat.rb:27: syntax error, unexpected ')', expecting keyword_end
...arams_filter[:end_date]).to_a ) if params_filter[:start_date...
...                              ^):
  
app/models/flat.rb:27: syntax error, unexpected &
app/models/flat.rb:27: syntax error, unexpected ')', expecting keyword_end
app/controllers/flats_controller.rb:6:in `index'
Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-17&commit=Search" for 127.0.0.1 at 2018-08-13 18:18:07 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-17"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (5.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."reserved_date" = $1 ORDER BY flats.created_at ASC LIMIT $2 OFFSET $3[0m  [["reserved_date", "{2018-08-15,2018-08-16,2018-08-17}"], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [1 times] (81.5ms)
  [1m[36mFlat Load (0.8ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (207.1ms)
  [1m[36mUser Load (3.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 839ms (Views: 770.6ms | ActiveRecord: 38.2ms)


Started GET "/" for 127.0.0.1 at 2018-08-13 18:18:13 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (68.9ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (1.3ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (114.7ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 430ms (Views: 417.9ms | ActiveRecord: 5.9ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-13 18:18:15 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (1.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (73.2ms)
  Rendered flats/show.html.erb within layouts/application (91.4ms)
Completed 200 OK in 343ms (Views: 325.8ms | ActiveRecord: 9.6ms)


Started GET "/flats/1.json?start=2018-07-29&end=2018-09-09&_=1534173489314" for 127.0.0.1 at 2018-08-13 18:18:15 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534173489314", "id"=>"1"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.json.jbuilder
  Rendered flats/show.json.jbuilder (0.5ms)
Completed 200 OK in 5ms (Views: 3.3ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2018-08-13 18:18:22 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (3.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (47.0ms)
  [1m[35m (5.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (1.2ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (86.9ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 423ms (Views: 405.4ms | ActiveRecord: 13.2ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-21&commit=Search" for 127.0.0.1 at 2018-08-13 18:18:30 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-21"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."reserved_date" = $1 ORDER BY flats.created_at ASC LIMIT $2 OFFSET $3[0m  [["reserved_date", "{2018-08-15,2018-08-16,2018-08-17,2018-08-18,2018-08-19,2018-08-20,2018-08-21}"], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mFlat Load (1.0ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (18.4ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 475ms (Views: 469.5ms | ActiveRecord: 2.1ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-21&commit=Search" for 127.0.0.1 at 2018-08-13 18:24:40 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-21"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (5.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."reserved_date" = $1 ORDER BY flats.created_at ASC LIMIT $2 OFFSET $3[0m  [["reserved_date", "{2018-08-15,2018-08-16,2018-08-17,2018-08-18,2018-08-19,2018-08-20,2018-08-21}"], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  Rendered collection of templates [0 times] (0.1ms)
  [1m[36mFlat Load (1.1ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (30.2ms)
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 517ms (Views: 506.7ms | ActiveRecord: 7.9ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=&filter%5Bend_date%5D=&commit=Search" for 127.0.0.1 at 2018-08-13 18:24:46 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"", "end_date"=>""}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (3.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (69.4ms)
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (122.6ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 595ms (Views: 577.7ms | ActiveRecord: 8.5ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-17&commit=Search" for 127.0.0.1 at 2018-08-13 18:24:53 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-17"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."reserved_date" = $1 ORDER BY flats.created_at ASC LIMIT $2 OFFSET $3[0m  [["reserved_date", "{2018-08-15,2018-08-16,2018-08-17}"], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [1 times] (28.8ms)
  [1m[36mFlat Load (1.1ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (63.4ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 483ms (Views: 471.5ms | ActiveRecord: 5.0ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-18&commit=Search" for 127.0.0.1 at 2018-08-13 18:25:01 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-18"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."reserved_date" = $1 ORDER BY flats.created_at ASC LIMIT $2 OFFSET $3[0m  [["reserved_date", "{2018-08-15,2018-08-16,2018-08-17,2018-08-18}"], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  Rendered collection of templates [0 times] (0.1ms)
  [1m[36mFlat Load (1.4ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (28.5ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 510ms (Views: 496.3ms | ActiveRecord: 3.1ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-18&commit=Search" for 127.0.0.1 at 2018-08-13 18:25:19 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-18"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (4.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE (reserved_date NOT IN ('2018-08-15','2018-08-16','2018-08-17','2018-08-18')) ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  Rendered flats/index.html.erb within layouts/application (12.3ms)
Completed 500 Internal Server Error in 21ms (ActiveRecord: 4.2ms)


  
ActionView::Template::Error (PG::InvalidTextRepresentation: ОШИБКА:  ошибочный литерал массива: "2018-08-15"
LINE 1: ...lats".* FROM "flats" WHERE (reserved_date NOT IN ('2018-08-1...
                                                             ^
DETAIL:  Значение массива должно начинаться с "{" или указания размерности.
: SELECT  "flats".* FROM "flats" WHERE (reserved_date NOT IN ('2018-08-15','2018-08-16','2018-08-17','2018-08-18')) ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2):
     8:     onchange: "submitOnChange()", class: 'submit-on-change'  %>
     9:   <h1>Flats</h1>
    10: 
    11:   <%= render @flats %>
    12: 
    13:   <%= paginate @flats %>
    14: </div>
  
app/views/flats/index.html.erb:11:in `_app_views_flats_index_html_erb___908289770473437423_70042707406760'
Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-18&commit=Search" for 127.0.0.1 at 2018-08-13 18:26:34 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-18"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE (reserved_date NOT IN ('2018-08-15','2018-08-16','2018-08-17','2018-08-18')) ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  Rendered flats/index.html.erb within layouts/application (13.3ms)
Completed 500 Internal Server Error in 20ms (ActiveRecord: 1.6ms)


  
ActionView::Template::Error (PG::InvalidTextRepresentation: ОШИБКА:  ошибочный литерал массива: "2018-08-15"
LINE 1: ...lats".* FROM "flats" WHERE (reserved_date NOT IN ('2018-08-1...
                                                             ^
DETAIL:  Значение массива должно начинаться с "{" или указания размерности.
: SELECT  "flats".* FROM "flats" WHERE (reserved_date NOT IN ('2018-08-15','2018-08-16','2018-08-17','2018-08-18')) ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2):
     8:     onchange: "submitOnChange()", class: 'submit-on-change'  %>
     9:   <h1>Flats</h1>
    10: 
    11:   <%= render @flats %>
    12: 
    13:   <%= paginate @flats %>
    14: </div>
  
app/views/flats/index.html.erb:11:in `_app_views_flats_index_html_erb___908289770473437423_70042737753900'
Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-18&commit=Search" for 127.0.0.1 at 2018-08-13 18:27:03 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-18"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE (reserved_date IN ('2018-08-15','2018-08-16','2018-08-17','2018-08-18')) ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  Rendered flats/index.html.erb within layouts/application (4.6ms)
Completed 500 Internal Server Error in 35ms (ActiveRecord: 1.1ms)


  
ActionView::Template::Error (PG::InvalidTextRepresentation: ОШИБКА:  ошибочный литерал массива: "2018-08-15"
LINE 1: ...  "flats".* FROM "flats" WHERE (reserved_date IN ('2018-08-1...
                                                             ^
DETAIL:  Значение массива должно начинаться с "{" или указания размерности.
: SELECT  "flats".* FROM "flats" WHERE (reserved_date IN ('2018-08-15','2018-08-16','2018-08-17','2018-08-18')) ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2):
     8:     onchange: "submitOnChange()", class: 'submit-on-change'  %>
     9:   <h1>Flats</h1>
    10: 
    11:   <%= render @flats %>
    12: 
    13:   <%= paginate @flats %>
    14: </div>
  
app/views/flats/index.html.erb:11:in `_app_views_flats_index_html_erb___908289770473437423_70042752306680'
Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-18&commit=Search" for 127.0.0.1 at 2018-08-13 18:27:13 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-18"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (5.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE (reserved_date IN ('2018-08-15','2018-08-16','2018-08-17','2018-08-18')) ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  Rendered flats/index.html.erb within layouts/application (13.0ms)
Completed 500 Internal Server Error in 37ms (ActiveRecord: 5.7ms)


  
ActionView::Template::Error (PG::InvalidTextRepresentation: ОШИБКА:  ошибочный литерал массива: "2018-08-15"
LINE 1: ...  "flats".* FROM "flats" WHERE (reserved_date IN ('2018-08-1...
                                                             ^
DETAIL:  Значение массива должно начинаться с "{" или указания размерности.
: SELECT  "flats".* FROM "flats" WHERE (reserved_date IN ('2018-08-15','2018-08-16','2018-08-17','2018-08-18')) ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2):
     8:     onchange: "submitOnChange()", class: 'submit-on-change'  %>
     9:   <h1>Flats</h1>
    10: 
    11:   <%= render @flats %>
    12: 
    13:   <%= paginate @flats %>
    14: </div>
  
app/views/flats/index.html.erb:11:in `_app_views_flats_index_html_erb___908289770473437423_70042707765720'
Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-18&commit=Search" for 127.0.0.1 at 2018-08-13 18:28:51 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-18"}, "commit"=>"Search"}
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.0ms)


  
SyntaxError (/home/york/Документы/Projects/FlatBooking/app/models/flat.rb:41: syntax error, unexpected end-of-input, expecting keyword_end):
  
app/models/flat.rb:41: syntax error, unexpected end-of-input, expecting keyword_end
app/controllers/flats_controller.rb:6:in `index'
Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-18&commit=Search" for 127.0.0.1 at 2018-08-13 18:29:01 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-18"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (3.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE (reserved_date IN ('2018-08-15','2018-08-16','2018-08-17','2018-08-18')) ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  Rendered flats/index.html.erb within layouts/application (15.2ms)
Completed 500 Internal Server Error in 38ms (ActiveRecord: 3.4ms)


  
ActionView::Template::Error (PG::InvalidTextRepresentation: ОШИБКА:  ошибочный литерал массива: "2018-08-15"
LINE 1: ...  "flats".* FROM "flats" WHERE (reserved_date IN ('2018-08-1...
                                                             ^
DETAIL:  Значение массива должно начинаться с "{" или указания размерности.
: SELECT  "flats".* FROM "flats" WHERE (reserved_date IN ('2018-08-15','2018-08-16','2018-08-17','2018-08-18')) ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2):
     8:     onchange: "submitOnChange()", class: 'submit-on-change'  %>
     9:   <h1>Flats</h1>
    10: 
    11:   <%= render @flats %>
    12: 
    13:   <%= paginate @flats %>
    14: </div>
  
app/views/flats/index.html.erb:11:in `_app_views_flats_index_html_erb___908289770473437423_70042697152980'
Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-18&commit=Search" for 127.0.0.1 at 2018-08-13 18:29:52 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-18"}, "commit"=>"Search"}
Completed 500 Internal Server Error in 42410ms (ActiveRecord: 0.0ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-18&commit=Search" for 127.0.0.1 at 2018-08-13 18:30:35 +0300
  
SystemExit (exit):
  
(byebug):1:in `exit'
(byebug):1:in `filter'
app/models/flat.rb:30:in `filter'
app/controllers/flats_controller.rb:6:in `index'
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-18"}, "commit"=>"Search"}
Completed 500 Internal Server Error in 16000ms (ActiveRecord: 0.0ms)


  
SystemExit (exit):
  
(byebug):1:in `exit'
(byebug):1:in `filter'
app/models/flat.rb:30:in `filter'
app/controllers/flats_controller.rb:6:in `index'
Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-18&commit=Search" for 127.0.0.1 at 2018-08-13 18:31:00 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-18"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (9.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE (reserved_date IN ('2018-08-15','2018-08-16','2018-08-17','2018-08-18')) ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  Rendered flats/index.html.erb within layouts/application (75.4ms)
Completed 500 Internal Server Error in 354ms (ActiveRecord: 9.2ms)


  
ActionView::Template::Error (PG::InvalidTextRepresentation: ОШИБКА:  ошибочный литерал массива: "2018-08-15"
LINE 1: ...  "flats".* FROM "flats" WHERE (reserved_date IN ('2018-08-1...
                                                             ^
DETAIL:  Значение массива должно начинаться с "{" или указания размерности.
: SELECT  "flats".* FROM "flats" WHERE (reserved_date IN ('2018-08-15','2018-08-16','2018-08-17','2018-08-18')) ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2):
     8:     onchange: "submitOnChange()", class: 'submit-on-change'  %>
     9:   <h1>Flats</h1>
    10: 
    11:   <%= render @flats %>
    12: 
    13:   <%= paginate @flats %>
    14: </div>
  
app/views/flats/index.html.erb:11:in `_app_views_flats_index_html_erb___908289770473437423_70042751992520'
Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-18&commit=Search" for 127.0.0.1 at 2018-08-13 18:32:49 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-18"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (6.9ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE (reserved_date IN ('2018-08-15','2018-08-16','2018-08-17','2018-08-18')) ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  Rendered flats/index.html.erb within layouts/application (115.3ms)
Completed 500 Internal Server Error in 249ms (ActiveRecord: 6.9ms)


  
ActionView::Template::Error (PG::InvalidTextRepresentation: ОШИБКА:  ошибочный литерал массива: "2018-08-15"
LINE 1: ...  "flats".* FROM "flats" WHERE (reserved_date IN ('2018-08-1...
                                                             ^
DETAIL:  Значение массива должно начинаться с "{" или указания размерности.
: SELECT  "flats".* FROM "flats" WHERE (reserved_date IN ('2018-08-15','2018-08-16','2018-08-17','2018-08-18')) ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2):
     8:     onchange: "submitOnChange()", class: 'submit-on-change'  %>
     9:   <h1>Flats</h1>
    10: 
    11:   <%= render @flats %>
    12: 
    13:   <%= paginate @flats %>
    14: </div>
  
app/views/flats/index.html.erb:11:in `_app_views_flats_index_html_erb___908289770473437423_70042709673800'
Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-18&commit=Search" for 127.0.0.1 at 2018-08-13 18:34:03 +0300
  [1m[35m (2.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-18"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE (reserved_date IN ('2018-08-15','2018-08-16')) ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  Rendered flats/index.html.erb within layouts/application (7.5ms)
Completed 500 Internal Server Error in 110ms (ActiveRecord: 1.6ms)


  
ActionView::Template::Error (PG::InvalidTextRepresentation: ОШИБКА:  ошибочный литерал массива: "2018-08-15"
LINE 1: ...  "flats".* FROM "flats" WHERE (reserved_date IN ('2018-08-1...
                                                             ^
DETAIL:  Значение массива должно начинаться с "{" или указания размерности.
: SELECT  "flats".* FROM "flats" WHERE (reserved_date IN ('2018-08-15','2018-08-16')) ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2):
     8:     onchange: "submitOnChange()", class: 'submit-on-change'  %>
     9:   <h1>Flats</h1>
    10: 
    11:   <%= render @flats %>
    12: 
    13:   <%= paginate @flats %>
    14: </div>
  
app/views/flats/index.html.erb:11:in `_app_views_flats_index_html_erb__3389767249640870029_47163562870640'
Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-18&commit=Search" for 127.0.0.1 at 2018-08-13 18:36:02 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-18"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE (reserved_date IN ('2018-08-15','2018-08-16','2018-08-17','2018-08-18')) ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  Rendered flats/index.html.erb within layouts/application (11.0ms)
Completed 500 Internal Server Error in 41ms (ActiveRecord: 2.6ms)


  
ActionView::Template::Error (PG::InvalidTextRepresentation: ОШИБКА:  ошибочный литерал массива: "2018-08-15"
LINE 1: ...  "flats".* FROM "flats" WHERE (reserved_date IN ('2018-08-1...
                                                             ^
DETAIL:  Значение массива должно начинаться с "{" или указания размерности.
: SELECT  "flats".* FROM "flats" WHERE (reserved_date IN ('2018-08-15','2018-08-16','2018-08-17','2018-08-18')) ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2):
     8:     onchange: "submitOnChange()", class: 'submit-on-change'  %>
     9:   <h1>Flats</h1>
    10: 
    11:   <%= render @flats %>
    12: 
    13:   <%= paginate @flats %>
    14: </div>
  
app/views/flats/index.html.erb:11:in `_app_views_flats_index_html_erb__3389767249640870029_47163550968740'
Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-18&commit=Search" for 127.0.0.1 at 2018-08-13 18:37:12 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-18"}, "commit"=>"Search"}
Completed 500 Internal Server Error in 16ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `&' for "reserved_date":String):
  
app/models/flat.rb:30:in `filter'
app/controllers/flats_controller.rb:6:in `index'
Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-18&commit=Search" for 127.0.0.1 at 2018-08-13 18:37:38 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-18"}, "commit"=>"Search"}
Completed 500 Internal Server Error in 31ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `&' for :reserved_date:Symbol):
  
app/models/flat.rb:30:in `filter'
app/controllers/flats_controller.rb:6:in `index'
Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-18&commit=Search" for 127.0.0.1 at 2018-08-13 18:37:54 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-18"}, "commit"=>"Search"}
Completed 500 Internal Server Error in 49ms (ActiveRecord: 0.0ms)


  
NameError (undefined local variable or method `flat' for #<Class:0x00007fe580764a18>
Did you mean?  @flats
               Float):
  
app/models/flat.rb:30:in `filter'
app/controllers/flats_controller.rb:6:in `index'
Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-18&commit=Search" for 127.0.0.1 at 2018-08-13 18:38:10 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-18"}, "commit"=>"Search"}
  [1m[36mFlat Load (1.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" LIMIT $1[0m  [["LIMIT", 11]]
  ↳ /home/york/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:8
Completed 500 Internal Server Error in 144ms (ActiveRecord: 0.0ms)


  
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" LIMIT $1[0m  [["LIMIT", 11]]
  ↳ /home/york/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:8
NoMethodError (undefined method `reserved_date' for #<Flat::ActiveRecord_Relation:0x00007fe5803a7718>
Did you mean?  reverse_each):
  
app/models/flat.rb:30:in `filter'
app/controllers/flats_controller.rb:6:in `index'
Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-18&commit=Search" for 127.0.0.1 at 2018-08-13 18:41:55 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-18"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (4.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE (reserved_date IN ('2018-08-15','2018-08-16','2018-08-17','2018-08-18')) ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  Rendered flats/index.html.erb within layouts/application (13.9ms)
Completed 500 Internal Server Error in 33ms (ActiveRecord: 4.6ms)


  
ActionView::Template::Error (PG::InvalidTextRepresentation: ОШИБКА:  ошибочный литерал массива: "2018-08-15"
LINE 1: ...  "flats".* FROM "flats" WHERE (reserved_date IN ('2018-08-1...
                                                             ^
DETAIL:  Значение массива должно начинаться с "{" или указания размерности.
: SELECT  "flats".* FROM "flats" WHERE (reserved_date IN ('2018-08-15','2018-08-16','2018-08-17','2018-08-18')) ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2):
     8:     onchange: "submitOnChange()", class: 'submit-on-change'  %>
     9:   <h1>Flats</h1>
    10: 
    11:   <%= render @flats %>
    12: 
    13:   <%= paginate @flats %>
    14: </div>
  
app/views/flats/index.html.erb:11:in `_app_views_flats_index_html_erb__3389767249640870029_70311803617100'
Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-18&commit=Search" for 127.0.0.1 at 2018-08-13 18:42:46 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-18"}, "commit"=>"Search"}
Completed 500 Internal Server Error in 15ms (ActiveRecord: 0.0ms)


  
SyntaxError (/home/york/Документы/Projects/FlatBooking/app/models/flat.rb:28: syntax error, unexpected ')', expecting '='
...ate], params_filter[:end_date])
...                              ^
/home/york/Документы/Projects/FlatBooking/app/models/flat.rb:31: syntax error, unexpected keyword_end, expecting ')'
    end
    ^~~
/home/york/Документы/Projects/FlatBooking/app/models/flat.rb:34: syntax error, unexpected keyword_end, expecting ')'
  end
  ^~~
/home/york/Документы/Projects/FlatBooking/app/models/flat.rb:43: syntax error, unexpected keyword_end, expecting ')'):
  
app/models/flat.rb:28: syntax error, unexpected ')', expecting '='
app/models/flat.rb:31: syntax error, unexpected keyword_end, expecting ')'
app/models/flat.rb:34: syntax error, unexpected keyword_end, expecting ')'
app/models/flat.rb:43: syntax error, unexpected keyword_end, expecting ')'
app/controllers/flats_controller.rb:6:in `index'
Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-18&commit=Search" for 127.0.0.1 at 2018-08-13 18:43:11 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-18"}, "commit"=>"Search"}
Completed 500 Internal Server Error in 13ms (ActiveRecord: 0.0ms)


  
SyntaxError (/home/york/Документы/Projects/FlatBooking/app/models/flat.rb:30: syntax error, unexpected ')', expecting '='
...ate], params_filter[:end_date]) )
...                              ^
/home/york/Документы/Projects/FlatBooking/app/models/flat.rb:34: syntax error, unexpected keyword_end, expecting ')'
  end
  ^~~
/home/york/Документы/Projects/FlatBooking/app/models/flat.rb:43: syntax error, unexpected keyword_end, expecting ')'):
  
app/models/flat.rb:30: syntax error, unexpected ')', expecting '='
app/models/flat.rb:34: syntax error, unexpected keyword_end, expecting ')'
app/models/flat.rb:43: syntax error, unexpected keyword_end, expecting ')'
app/controllers/flats_controller.rb:6:in `index'
Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-18&commit=Search" for 127.0.0.1 at 2018-08-13 18:43:38 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-18"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (4.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE (reserved_date IN ('2018-08-15','2018-08-16','2018-08-17','2018-08-18')) ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  Rendered flats/index.html.erb within layouts/application (15.8ms)
Completed 500 Internal Server Error in 45ms (ActiveRecord: 4.8ms)


  
ActionView::Template::Error (PG::InvalidTextRepresentation: ОШИБКА:  ошибочный литерал массива: "2018-08-15"
LINE 1: ...  "flats".* FROM "flats" WHERE (reserved_date IN ('2018-08-1...
                                                             ^
DETAIL:  Значение массива должно начинаться с "{" или указания размерности.
: SELECT  "flats".* FROM "flats" WHERE (reserved_date IN ('2018-08-15','2018-08-16','2018-08-17','2018-08-18')) ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2):
     8:     onchange: "submitOnChange()", class: 'submit-on-change'  %>
     9:   <h1>Flats</h1>
    10: 
    11:   <%= render @flats %>
    12: 
    13:   <%= paginate @flats %>
    14: </div>
  
app/views/flats/index.html.erb:11:in `_app_views_flats_index_html_erb__3389767249640870029_70311837756360'
Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-18&commit=Search" for 127.0.0.1 at 2018-08-13 18:50:05 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-18"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (4.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."reserved_date" = $1 ORDER BY flats.created_at ASC LIMIT $2 OFFSET $3[0m  [["reserved_date", "[2018-08-15,2018-08-18]"], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  Rendered flats/index.html.erb within layouts/application (13.4ms)
Completed 500 Internal Server Error in 51ms (ActiveRecord: 17.5ms)


  
ActionView::Template::Error (PG::InvalidTextRepresentation: ОШИБКА:  ошибочный литерал массива: "[2018-08-15,2018-08-18]"
DETAIL:  После размерностей массива отсутствует "]".
: SELECT  "flats".* FROM "flats" WHERE "flats"."reserved_date" = $1 ORDER BY flats.created_at ASC LIMIT $2 OFFSET $3):
     8:     onchange: "submitOnChange()", class: 'submit-on-change'  %>
     9:   <h1>Flats</h1>
    10: 
    11:   <%= render @flats %>
    12: 
    13:   <%= paginate @flats %>
    14: </div>
  
app/views/flats/index.html.erb:11:in `_app_views_flats_index_html_erb__3389767249640870029_70311805081440'
Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-18&commit=Search" for 127.0.0.1 at 2018-08-13 18:50:38 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-18"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (5.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."reserved_date" = $1 ORDER BY flats.created_at ASC LIMIT $2 OFFSET $3[0m  [["reserved_date", "{2018-08-15,2018-08-16,2018-08-17,2018-08-18}"], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mFlat Load (0.9ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (81.4ms)
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 1211ms (Views: 1160.7ms | ActiveRecord: 26.9ms)


Started GET "/" for 127.0.0.1 at 2018-08-13 18:50:45 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (49.1ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (80.8ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 319ms (Views: 313.8ms | ActiveRecord: 3.8ms)


Started GET "/" for 127.0.0.1 at 2018-08-13 18:51:45 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (107.8ms)
  [1m[35m (2.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (200.4ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 631ms (Views: 580.8ms | ActiveRecord: 29.9ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-17&commit=Search" for 127.0.0.1 at 2018-08-13 18:51:52 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-17"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."reserved_date" != $1 ORDER BY flats.created_at ASC LIMIT $2 OFFSET $3[0m  [["reserved_date", "{2018-08-15,2018-08-16,2018-08-17}"], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (71.6ms)
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."reserved_date" != $1[0m  [["reserved_date", "{2018-08-15,2018-08-16,2018-08-17}"]]
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (120.6ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 545ms (Views: 535.1ms | ActiveRecord: 5.0ms)


Started GET "/?filter%5Bcategory%5D=created_at&filter%5Bcity%5D=&filter%5Bdirection%5D=ASC&filter%5Bend_date%5D=2018-08-17&filter%5Bname%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bvendor%5D=&page=2" for 127.0.0.1 at 2018-08-13 18:51:56 +0300
Processing by FlatsController#index as HTML
  Parameters: {"filter"=>{"category"=>"created_at", "city"=>"", "direction"=>"ASC", "end_date"=>"2018-08-17", "name"=>"", "start_date"=>"2018-08-15", "vendor"=>""}, "page"=>"2"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.9ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."reserved_date" != $1 ORDER BY flats.created_at ASC LIMIT $2 OFFSET $3[0m  [["reserved_date", "{2018-08-15,2018-08-16,2018-08-17}"], ["LIMIT", 5], ["OFFSET", 5]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [1 times] (13.1ms)
  [1m[36mFlat Load (1.4ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (57.9ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 349ms (Views: 336.1ms | ActiveRecord: 4.5ms)


Started GET "/?filter%5Bcategory%5D=created_at&filter%5Bcity%5D=&filter%5Bdirection%5D=ASC&filter%5Bend_date%5D=2018-08-17&filter%5Bname%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bvendor%5D=" for 127.0.0.1 at 2018-08-13 18:51:57 +0300
Processing by FlatsController#index as HTML
  Parameters: {"filter"=>{"category"=>"created_at", "city"=>"", "direction"=>"ASC", "end_date"=>"2018-08-17", "name"=>"", "start_date"=>"2018-08-15", "vendor"=>""}}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (4.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."reserved_date" != $1 ORDER BY flats.created_at ASC LIMIT $2 OFFSET $3[0m  [["reserved_date", "{2018-08-15,2018-08-16,2018-08-17}"], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (31.0ms)
  [1m[35m (2.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."reserved_date" != $1[0m  [["reserved_date", "{2018-08-15,2018-08-16,2018-08-17}"]]
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (70.6ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 315ms (Views: 305.7ms | ActiveRecord: 8.1ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-18&commit=Search" for 127.0.0.1 at 2018-08-13 18:52:52 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-18"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."reserved_date" != $1 ORDER BY flats.created_at ASC LIMIT $2 OFFSET $3[0m  [["reserved_date", "{2018-08-15,2018-08-16,2018-08-17,2018-08-18}"], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (44.6ms)
  [1m[35m (1.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."reserved_date" != $1[0m  [["reserved_date", "{2018-08-15,2018-08-16,2018-08-17,2018-08-18}"]]
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (89.2ms)
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 549ms (Views: 529.3ms | ActiveRecord: 7.2ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-08-13 18:53:05 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (82.2ms)
  Rendered flats/show.html.erb within layouts/application (94.0ms)
Completed 200 OK in 342ms (Views: 332.4ms | ActiveRecord: 5.7ms)


Started GET "/flats/3.json?start=2018-07-29&end=2018-09-09&_=1534175572877" for 127.0.0.1 at 2018-08-13 18:53:06 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534175572877", "id"=>"3"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.json.jbuilder
  Rendered flats/show.json.jbuilder (0.7ms)
Completed 200 OK in 7ms (Views: 4.7ms | ActiveRecord: 0.3ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-13 18:53:11 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (1.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (28.0ms)
  Rendered flats/show.html.erb within layouts/application (53.3ms)
Completed 200 OK in 363ms (Views: 347.2ms | ActiveRecord: 4.3ms)


Started GET "/flats/1.json?start=2018-07-29&end=2018-09-09&_=1534175572878" for 127.0.0.1 at 2018-08-13 18:53:11 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534175572878", "id"=>"1"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.json.jbuilder
  Rendered flats/show.json.jbuilder (0.5ms)
Completed 200 OK in 5ms (Views: 3.4ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2018-08-13 19:42:07 +0300
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (2.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (328.8ms)
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (366.5ms)
Completed 200 OK in 794ms (Views: 759.0ms | ActiveRecord: 13.7ms)


Started GET "/" for 127.0.0.1 at 2018-08-13 20:03:47 +0300
Processing by FlatsController#index as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)


  
SyntaxError (/home/york/Документы/Projects/FlatBooking/app/models/flat.rb:31: syntax error, unexpected keyword_and, expecting '}'
...bookings: {start_date: date and end_date: date })
...                            ^~~
/home/york/Документы/Projects/FlatBooking/app/models/flat.rb:44: syntax error, unexpected end-of-input, expecting keyword_end):
  
app/models/flat.rb:31: syntax error, unexpected keyword_and, expecting '}'
app/models/flat.rb:44: syntax error, unexpected end-of-input, expecting keyword_end
app/controllers/flats_controller.rb:6:in `index'
Started GET "/" for 127.0.0.1 at 2018-08-13 20:06:02 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (40.5ms)
  [1m[35m (1.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (85.6ms)
Completed 200 OK in 286ms (Views: 266.5ms | ActiveRecord: 12.1ms)


Started GET "/?page=2" for 127.0.0.1 at 2018-08-13 20:06:08 +0300
Processing by FlatsController#index as HTML
  Parameters: {"page"=>"2"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 5]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [2 times] (21.9ms)
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (63.1ms)
Completed 200 OK in 271ms (Views: 263.3ms | ActiveRecord: 3.1ms)


Started GET "/" for 127.0.0.1 at 2018-08-13 20:06:10 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (22.5ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (38.9ms)
Completed 200 OK in 237ms (Views: 230.8ms | ActiveRecord: 3.3ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-17&commit=Search" for 127.0.0.1 at 2018-08-13 20:06:18 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-17"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (3.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" LEFT OUTER JOIN "bookings" ON "bookings"."flat_id" = "flats"."id" WHERE NOT (bookings.start_date IN '2018-08-15','2018-08-16','2018-08-17' AND bookings.end_date IN '2018-08-15','2018-08-16','2018-08-17') ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  Rendered flats/index.html.erb within layouts/application (26.6ms)
Completed 500 Internal Server Error in 44ms (ActiveRecord: 3.8ms)


  
ActionView::Template::Error (PG::SyntaxError: ОШИБКА:  ошибка синтаксиса (примерное положение: "'2018-08-15'")
LINE 1: ... = "flats"."id" WHERE NOT (bookings.start_date IN '2018-08-1...
                                                             ^
: SELECT  "flats".* FROM "flats" LEFT OUTER JOIN "bookings" ON "bookings"."flat_id" = "flats"."id" WHERE NOT (bookings.start_date IN '2018-08-15','2018-08-16','2018-08-17' AND bookings.end_date IN '2018-08-15','2018-08-16','2018-08-17') ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2):
     8:     onchange: "submitOnChange()", class: 'submit-on-change'  %>
     9:   <h1>Flats</h1>
    10: 
    11:   <%= render @flats %>
    12: 
    13:   <%= paginate @flats %>
    14: </div>
  
app/views/flats/index.html.erb:11:in `_app_views_flats_index_html_erb__4581177832820105789_69975673840440'
Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-17&commit=Search" for 127.0.0.1 at 2018-08-13 20:08:00 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-17"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" LEFT OUTER JOIN "bookings" ON "bookings"."flat_id" = "flats"."id" WHERE NOT (bookings.start_date IN '2018-08-15','2018-08-16','2018-08-17' AND bookings.end_date IN '2018-08-15','2018-08-16','2018-08-17') ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  Rendered flats/index.html.erb within layouts/application (10.9ms)
Completed 500 Internal Server Error in 20ms (ActiveRecord: 4.7ms)


  
ActionView::Template::Error (PG::SyntaxError: ОШИБКА:  ошибка синтаксиса (примерное положение: "'2018-08-15'")
LINE 1: ... = "flats"."id" WHERE NOT (bookings.start_date IN '2018-08-1...
                                                             ^
: SELECT  "flats".* FROM "flats" LEFT OUTER JOIN "bookings" ON "bookings"."flat_id" = "flats"."id" WHERE NOT (bookings.start_date IN '2018-08-15','2018-08-16','2018-08-17' AND bookings.end_date IN '2018-08-15','2018-08-16','2018-08-17') ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2):
     8:     onchange: "submitOnChange()", class: 'submit-on-change'  %>
     9:   <h1>Flats</h1>
    10: 
    11:   <%= render @flats %>
    12: 
    13:   <%= paginate @flats %>
    14: </div>
  
app/views/flats/index.html.erb:11:in `_app_views_flats_index_html_erb__4581177832820105789_69975673014660'
Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-17&commit=Search" for 127.0.0.1 at 2018-08-13 20:08:04 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-17"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.9ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" LEFT OUTER JOIN "bookings" ON "bookings"."flat_id" = "flats"."id" WHERE NOT (bookings.start_date IN '2018-08-15','2018-08-16','2018-08-17' AND bookings.end_date IN '2018-08-15','2018-08-16','2018-08-17') ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  Rendered flats/index.html.erb within layouts/application (14.1ms)
Completed 500 Internal Server Error in 25ms (ActiveRecord: 2.9ms)


  
ActionView::Template::Error (PG::SyntaxError: ОШИБКА:  ошибка синтаксиса (примерное положение: "'2018-08-15'")
LINE 1: ... = "flats"."id" WHERE NOT (bookings.start_date IN '2018-08-1...
                                                             ^
: SELECT  "flats".* FROM "flats" LEFT OUTER JOIN "bookings" ON "bookings"."flat_id" = "flats"."id" WHERE NOT (bookings.start_date IN '2018-08-15','2018-08-16','2018-08-17' AND bookings.end_date IN '2018-08-15','2018-08-16','2018-08-17') ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2):
     8:     onchange: "submitOnChange()", class: 'submit-on-change'  %>
     9:   <h1>Flats</h1>
    10: 
    11:   <%= render @flats %>
    12: 
    13:   <%= paginate @flats %>
    14: </div>
  
app/views/flats/index.html.erb:11:in `_app_views_flats_index_html_erb__4581177832820105789_69975673453040'
Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-17&commit=Search" for 127.0.0.1 at 2018-08-13 20:08:05 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-17"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" LEFT OUTER JOIN "bookings" ON "bookings"."flat_id" = "flats"."id" WHERE NOT (bookings.start_date IN '2018-08-15','2018-08-16','2018-08-17' AND bookings.end_date IN '2018-08-15','2018-08-16','2018-08-17') ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  Rendered flats/index.html.erb within layouts/application (12.7ms)
Completed 500 Internal Server Error in 22ms (ActiveRecord: 2.2ms)


  
ActionView::Template::Error (PG::SyntaxError: ОШИБКА:  ошибка синтаксиса (примерное положение: "'2018-08-15'")
LINE 1: ... = "flats"."id" WHERE NOT (bookings.start_date IN '2018-08-1...
                                                             ^
: SELECT  "flats".* FROM "flats" LEFT OUTER JOIN "bookings" ON "bookings"."flat_id" = "flats"."id" WHERE NOT (bookings.start_date IN '2018-08-15','2018-08-16','2018-08-17' AND bookings.end_date IN '2018-08-15','2018-08-16','2018-08-17') ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2):
     8:     onchange: "submitOnChange()", class: 'submit-on-change'  %>
     9:   <h1>Flats</h1>
    10: 
    11:   <%= render @flats %>
    12: 
    13:   <%= paginate @flats %>
    14: </div>
  
app/views/flats/index.html.erb:11:in `_app_views_flats_index_html_erb__4581177832820105789_69975675220900'
Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=Mukacheve&filter%5Bstart_date%5D=&filter%5Bend_date%5D=&commit=Search" for 127.0.0.1 at 2018-08-13 21:19:06 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"Mukacheve", "start_date"=>"", "end_date"=>""}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (3.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."city" = $1 ORDER BY flats.created_at ASC LIMIT $2 OFFSET $3[0m  [["city", "Mukacheve"], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [1 times] (29.1ms)
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (82.6ms)
Completed 200 OK in 310ms (Views: 276.0ms | ActiveRecord: 22.6ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=&filter%5Bend_date%5D=&commit=Search" for 127.0.0.1 at 2018-08-13 21:19:08 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"", "end_date"=>""}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (41.0ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (65.2ms)
Completed 200 OK in 284ms (Views: 269.7ms | ActiveRecord: 4.5ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=Tork&filter%5Bcity%5D=&filter%5Bstart_date%5D=&filter%5Bend_date%5D=&commit=Search" for 127.0.0.1 at 2018-08-13 21:19:12 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"Tork", "city"=>"", "start_date"=>"", "end_date"=>""}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" INNER JOIN "users" ON "users"."id" = "flats"."user_id" WHERE "users"."name" = $1 ORDER BY flats.created_at ASC LIMIT $2 OFFSET $3[0m  [["name", "Tork"], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [3 times] (23.4ms)
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (43.5ms)
Completed 200 OK in 258ms (Views: 249.3ms | ActiveRecord: 4.3ms)


Started GET "/" for 127.0.0.1 at 2018-08-14 20:27:32 +0300
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (3.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (296.0ms)
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (331.3ms)
Completed 200 OK in 729ms (Views: 691.9ms | ActiveRecord: 14.1ms)


Started GET "/" for 127.0.0.1 at 2018-08-15 12:23:14 +0300
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (2.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (315.4ms)
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (356.1ms)
Completed 200 OK in 783ms (Views: 744.8ms | ActiveRecord: 13.6ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-17&commit=Search" for 127.0.0.1 at 2018-08-15 12:42:17 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-17"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" LEFT OUTER JOIN "bookings" ON "bookings"."flat_id" = "flats"."id" GROUP BY flats.id HAVING (COUNT((bookings.end_date >= '2018-08-15' AND bookings.end_date <= '2018-08-17') OR
      (bookings.start_date >= '2018-08-15' AND bookings.start_date <= '2018-08-17') OR
      (bookings.start_date <= '2018-08-15' AND bookings.end_date >= '2018-08-17')) = 0) ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (44.0ms)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) AS count_all, flats.id AS flats_id FROM "flats" LEFT OUTER JOIN "bookings" ON "bookings"."flat_id" = "flats"."id" GROUP BY flats.id HAVING (COUNT((bookings.end_date >= '2018-08-15' AND bookings.end_date <= '2018-08-17') OR
      (bookings.start_date >= '2018-08-15' AND bookings.start_date <= '2018-08-17') OR
      (bookings.start_date <= '2018-08-15' AND bookings.end_date >= '2018-08-17')) = 0)[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (96.0ms)
Completed 200 OK in 349ms (Views: 330.5ms | ActiveRecord: 12.4ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=&filter%5Bend_date%5D=&commit=Search" for 127.0.0.1 at 2018-08-15 12:43:39 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"", "end_date"=>""}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (2.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (61.5ms)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (93.6ms)
Completed 200 OK in 369ms (Views: 355.7ms | ActiveRecord: 6.0ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-15 12:43:41 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered bookings/_form.html.erb (55.0ms)
  Rendered flats/show.html.erb within layouts/application (64.1ms)
Completed 200 OK in 268ms (Views: 256.5ms | ActiveRecord: 7.5ms)


Started GET "/flats/1.json?start=2018-07-29&end=2018-09-09&_=1534326219933" for 127.0.0.1 at 2018-08-15 12:43:42 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534326219933", "id"=>"1"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.json.jbuilder
  Rendered flats/show.json.jbuilder (0.6ms)
Completed 200 OK in 7ms (Views: 4.6ms | ActiveRecord: 0.3ms)


Started GET "/flats/2" for 127.0.0.1 at 2018-08-15 12:43:53 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mFlat Load (1.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered bookings/_form.html.erb (10.4ms)
  Rendered flats/show.html.erb within layouts/application (38.4ms)
Completed 200 OK in 285ms (Views: 272.4ms | ActiveRecord: 3.5ms)


Started GET "/flats/2.json?start=2018-07-29&end=2018-09-09&_=1534326219934" for 127.0.0.1 at 2018-08-15 12:43:53 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534326219934", "id"=>"2"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.json.jbuilder
  Rendered flats/show.json.jbuilder (0.5ms)
Completed 200 OK in 7ms (Views: 4.5ms | ActiveRecord: 0.3ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-15 12:43:59 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (1.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered bookings/_form.html.erb (12.4ms)
  Rendered flats/show.html.erb within layouts/application (39.0ms)
Completed 200 OK in 302ms (Views: 291.3ms | ActiveRecord: 2.6ms)


Started GET "/flats/2.json?start=2018-07-29&end=2018-09-09&_=1534326219935" for 127.0.0.1 at 2018-08-15 12:43:59 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534326219935", "id"=>"2"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.json.jbuilder
  Rendered flats/show.json.jbuilder (0.3ms)
Completed 200 OK in 5ms (Views: 3.1ms | ActiveRecord: 0.3ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-15 12:44:07 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (2.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered bookings/_form.html.erb (9.5ms)
  Rendered flats/show.html.erb within layouts/application (30.3ms)
Completed 200 OK in 417ms (Views: 403.8ms | ActiveRecord: 3.9ms)


Started GET "/flats/1.json?start=2018-07-29&end=2018-09-09&_=1534326247672" for 127.0.0.1 at 2018-08-15 12:44:07 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534326247672", "id"=>"1"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.json.jbuilder
  Rendered flats/show.json.jbuilder (0.6ms)
Completed 200 OK in 8ms (Views: 4.8ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2018-08-15 12:44:22 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (23.8ms)
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (49.0ms)
Completed 200 OK in 246ms (Views: 240.5ms | ActiveRecord: 3.2ms)


Started GET "/flats/2" for 127.0.0.1 at 2018-08-15 12:44:24 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mFlat Load (0.9ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered bookings/_form.html.erb (3.2ms)
  Rendered flats/show.html.erb within layouts/application (11.7ms)
Completed 200 OK in 224ms (Views: 219.8ms | ActiveRecord: 1.5ms)


Started GET "/flats/2.json?start=2018-07-29&end=2018-09-09&_=1534326247673" for 127.0.0.1 at 2018-08-15 12:44:24 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534326247673", "id"=>"2"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.json.jbuilder
  Rendered flats/show.json.jbuilder (0.3ms)
Completed 200 OK in 5ms (Views: 3.1ms | ActiveRecord: 0.3ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-08-15 12:44:29 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (1.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (6.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered bookings/_form.html.erb (11.4ms)
  Rendered flats/show.html.erb within layouts/application (48.2ms)
Completed 200 OK in 294ms (Views: 276.8ms | ActiveRecord: 8.4ms)


Started GET "/flats/3.json?start=2018-07-29&end=2018-09-09&_=1534326247674" for 127.0.0.1 at 2018-08-15 12:44:29 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534326247674", "id"=>"3"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.json.jbuilder
  Rendered flats/show.json.jbuilder (0.6ms)
Completed 200 OK in 6ms (Views: 3.8ms | ActiveRecord: 0.3ms)


Started GET "/flats/4" for 127.0.0.1 at 2018-08-15 12:44:43 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mFlat Load (1.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered bookings/_form.html.erb (8.0ms)
  Rendered flats/show.html.erb within layouts/application (33.0ms)
Completed 200 OK in 272ms (Views: 261.2ms | ActiveRecord: 3.0ms)


Started GET "/flats/4.json?start=2018-07-29&end=2018-09-09&_=1534326247675" for 127.0.0.1 at 2018-08-15 12:44:43 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534326247675", "id"=>"4"}
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.json.jbuilder
  Rendered flats/show.json.jbuilder (0.4ms)
Completed 200 OK in 6ms (Views: 3.2ms | ActiveRecord: 0.4ms)


Started GET "/flats/5" for 127.0.0.1 at 2018-08-15 12:44:48 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mFlat Load (1.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered bookings/_form.html.erb (11.0ms)
  Rendered flats/show.html.erb within layouts/application (32.7ms)
Completed 200 OK in 254ms (Views: 244.9ms | ActiveRecord: 2.5ms)


Started GET "/flats/5.json?start=2018-07-29&end=2018-09-09&_=1534326247676" for 127.0.0.1 at 2018-08-15 12:44:48 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534326247676", "id"=>"5"}
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.json.jbuilder
  Rendered flats/show.json.jbuilder (0.4ms)
Completed 200 OK in 5ms (Views: 3.2ms | ActiveRecord: 0.4ms)


Started GET "/?page=2" for 127.0.0.1 at 2018-08-15 12:44:52 +0300
Processing by FlatsController#index as HTML
  Parameters: {"page"=>"2"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 5]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [2 times] (28.4ms)
  [1m[36mFlat Load (0.9ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (81.5ms)
Completed 200 OK in 362ms (Views: 354.0ms | ActiveRecord: 3.4ms)


Started GET "/flats/7" for 127.0.0.1 at 2018-08-15 12:44:55 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mFlat Load (2.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered bookings/_form.html.erb (5.4ms)
  Rendered flats/show.html.erb within layouts/application (27.0ms)
Completed 200 OK in 289ms (Views: 276.7ms | ActiveRecord: 4.4ms)


Started GET "/flats/7.json?start=2018-07-29&end=2018-09-09&_=1534326247677" for 127.0.0.1 at 2018-08-15 12:44:55 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534326247677", "id"=>"7"}
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.json.jbuilder
  Rendered flats/show.json.jbuilder (0.4ms)
Completed 200 OK in 5ms (Views: 3.1ms | ActiveRecord: 0.4ms)


Started GET "/flats/6" for 127.0.0.1 at 2018-08-15 12:45:01 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[36mFlat Load (1.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered bookings/_form.html.erb (13.2ms)
  Rendered flats/show.html.erb within layouts/application (34.1ms)
Completed 200 OK in 304ms (Views: 295.2ms | ActiveRecord: 2.4ms)


Started GET "/flats/6.json?start=2018-07-29&end=2018-09-09&_=1534326247678" for 127.0.0.1 at 2018-08-15 12:45:02 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534326247678", "id"=>"6"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.json.jbuilder
  Rendered flats/show.json.jbuilder (0.3ms)
Completed 200 OK in 5ms (Views: 3.1ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2018-08-15 12:45:06 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (65.2ms)
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.8ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (105.7ms)
Completed 200 OK in 356ms (Views: 342.8ms | ActiveRecord: 7.8ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-16&commit=Search" for 127.0.0.1 at 2018-08-15 12:46:35 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-16"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" LEFT OUTER JOIN "bookings" ON "bookings"."flat_id" = "flats"."id" GROUP BY flats.id HAVING (COUNT((bookings.end_date >= '2018-08-15' AND bookings.end_date <= '2018-08-16') OR
      (bookings.start_date >= '2018-08-15' AND bookings.start_date <= '2018-08-16') OR
      (bookings.start_date <= '2018-08-15' AND bookings.end_date >= '2018-08-16')) = 0) ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (38.8ms)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) AS count_all, flats.id AS flats_id FROM "flats" LEFT OUTER JOIN "bookings" ON "bookings"."flat_id" = "flats"."id" GROUP BY flats.id HAVING (COUNT((bookings.end_date >= '2018-08-15' AND bookings.end_date <= '2018-08-16') OR
      (bookings.start_date >= '2018-08-15' AND bookings.start_date <= '2018-08-16') OR
      (bookings.start_date <= '2018-08-15' AND bookings.end_date >= '2018-08-16')) = 0)[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (74.1ms)
Completed 200 OK in 451ms (Views: 435.1ms | ActiveRecord: 7.7ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=2018-08-29&filter%5Bend_date%5D=2018-08-31&commit=Search" for 127.0.0.1 at 2018-08-15 12:46:54 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"2018-08-29", "end_date"=>"2018-08-31"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (3.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" LEFT OUTER JOIN "bookings" ON "bookings"."flat_id" = "flats"."id" GROUP BY flats.id HAVING (COUNT((bookings.end_date >= '2018-08-29' AND bookings.end_date <= '2018-08-31') OR
      (bookings.start_date >= '2018-08-29' AND bookings.start_date <= '2018-08-31') OR
      (bookings.start_date <= '2018-08-29' AND bookings.end_date >= '2018-08-31')) = 0) ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (61.7ms)
  [1m[35m (1.8ms)[0m  [1m[34mSELECT COUNT(*) AS count_all, flats.id AS flats_id FROM "flats" LEFT OUTER JOIN "bookings" ON "bookings"."flat_id" = "flats"."id" GROUP BY flats.id HAVING (COUNT((bookings.end_date >= '2018-08-29' AND bookings.end_date <= '2018-08-31') OR
      (bookings.start_date >= '2018-08-29' AND bookings.start_date <= '2018-08-31') OR
      (bookings.start_date <= '2018-08-29' AND bookings.end_date >= '2018-08-31')) = 0)[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (94.3ms)
Completed 200 OK in 366ms (Views: 349.0ms | ActiveRecord: 10.3ms)


  [1m[36mBooking Load (1.2ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" LIMIT $1[0m  [["LIMIT", 11]]
Started GET "/users/sign_in" for 127.0.0.1 at 2018-08-15 12:55:23 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (6.0ms)
  Rendered devise/sessions/new.html.erb within layouts/application (15.5ms)
Completed 200 OK in 249ms (Views: 246.6ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-08-15 12:55:30 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"KAHrw+s6zpsMRnBEf3VebCFG5S/JnLl752OB5T4pB41E2ymKMEMEXjIF0I8kQVcXBgci5Pf62Yl76+ofPro75g==", "user"=>{"email"=>"Pork@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "pork@gmail.com"], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = $1, "last_sign_in_at" = $2, "sign_in_count" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["current_sign_in_at", "2018-08-15 09:55:30.803399"], ["last_sign_in_at", "2018-08-13 10:08:29.724739"], ["sign_in_count", 8], ["updated_at", "2018-08-15 09:55:30.804507"], ["id", 2]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 191ms (ActiveRecord: 5.2ms)


Started GET "/" for 127.0.0.1 at 2018-08-15 12:55:30 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (22.3ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (48.5ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 374ms (Views: 369.2ms | ActiveRecord: 3.2ms)


Started GET "/flats/4" for 127.0.0.1 at 2018-08-15 12:55:34 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mFlat Load (0.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (32.2ms)
  Rendered flats/show.html.erb within layouts/application (44.0ms)
Completed 200 OK in 291ms (Views: 270.8ms | ActiveRecord: 13.1ms)


Started GET "/flats/4.json?start=2018-07-29&end=2018-09-09&_=1534326931341" for 127.0.0.1 at 2018-08-15 12:55:35 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534326931341", "id"=>"4"}
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.json.jbuilder
  Rendered flats/show.json.jbuilder (0.4ms)
Completed 200 OK in 5ms (Views: 3.1ms | ActiveRecord: 0.4ms)


Started POST "/flats/4/bookings" for 127.0.0.1 at 2018-08-15 12:56:10 +0300
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"w/1/QvHPxB5gjtht9tD47O7GMSmdgxvpsm7j4Yh1Sg/IY1NJ4j0oA3H9fVI+Rg8Gcsrave1WgrW0tV7H83WW4A==", "booking"=>{"notice"=>"credit card", "start_date"=>"2018-08-29", "end_date"=>"2018-08-31"}, "commit"=>"Book this flat", "flat_id"=>"4"}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/bookings_controller.rb:25
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:25
  [1m[36mBooking Create (3.7ms)[0m  [1m[32mINSERT INTO "bookings" ("user_id", "flat_id", "created_at", "updated_at", "notice", "start_date", "end_date") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 2], ["flat_id", 4], ["created_at", "2018-08-15 09:56:10.486790"], ["updated_at", "2018-08-15 09:56:10.486790"], ["notice", "credit card"], ["start_date", "2018-08-29"], ["end_date", "2018-08-31"]]
  ↳ app/controllers/bookings_controller.rb:25
  [1m[35m (2.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/bookings_controller.rb:25
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:26
  Rendering create_booking_mailer/new_booking.html.erb within layouts/mailer
  Rendered create_booking_mailer/new_booking.html.erb within layouts/mailer (0.6ms)
  Rendering create_booking_mailer/new_booking.text.erb within layouts/mailer
  Rendered create_booking_mailer/new_booking.text.erb within layouts/mailer (1.4ms)
CreateBookingMailer#new_booking: processed outbound mail in 1028.2ms
Sent mail to bestvendor@gmail.com (39.6ms)
Date: Wed, 15 Aug 2018 12:56:11 +0300
From: yorkqw@gmail.com
To: bestvendor@gmail.com
Message-ID: <5b73f8bbd3542_7dc2af6ed4ab44c6391d@york-HP-250-G5-Notebook-PC.mail>
Subject: Your flat booked
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5b73f8bbd09d7_7dc2af6ed4ab44c63891";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5b73f8bbd09d7_7dc2af6ed4ab44c63891
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hello Best_vendor

Pork booked your flat Hostel Gulliveer from 2018-08-29 to 2018-08-31 and say:
credit card


----==_mimepart_5b73f8bbd09d7_7dc2af6ed4ab44c63891
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <h1> Hello Best_vendor</h1>

Pork booked your flat Hostel Gulliveer from 2018-08-29 to 2018-08-31 and say:
credit card


  </body>
</html>

----==_mimepart_5b73f8bbd09d7_7dc2af6ed4ab44c63891--

  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/booking_service.rb:11
  [1m[36mFlat Update (0.3ms)[0m  [1m[33mUPDATE "flats" SET "reserved_date" = $1, "updated_at" = $2 WHERE "flats"."id" = $3[0m  [["reserved_date", "{2018-08-29}"], ["updated_at", "2018-08-15 09:56:11.903270"], ["id", 4]]
  ↳ app/services/booking_service.rb:11
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/booking_service.rb:11
  [1m[35m (1.0ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/booking_service.rb:11
  [1m[36mFlat Update (0.5ms)[0m  [1m[33mUPDATE "flats" SET "reserved_date" = $1, "updated_at" = $2 WHERE "flats"."id" = $3[0m  [["reserved_date", "{2018-08-29,2018-08-30}"], ["updated_at", "2018-08-15 09:56:11.914160"], ["id", 4]]
  ↳ app/services/booking_service.rb:11
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/booking_service.rb:11
  [1m[35m (1.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/booking_service.rb:11
  [1m[36mFlat Update (0.5ms)[0m  [1m[33mUPDATE "flats" SET "reserved_date" = $1, "updated_at" = $2 WHERE "flats"."id" = $3[0m  [["reserved_date", "{2018-08-29,2018-08-30,2018-08-31}"], ["updated_at", "2018-08-15 09:56:11.927510"], ["id", 4]]
  ↳ app/services/booking_service.rb:11
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/booking_service.rb:11
Redirected to http://localhost:3000/
Completed 302 Found in 1485ms (ActiveRecord: 19.2ms)


Started GET "/" for 127.0.0.1 at 2018-08-15 12:56:11 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (49.0ms)
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (1.4ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (87.9ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 600ms (Views: 591.7ms | ActiveRecord: 5.9ms)


Started GET "/flats/4" for 127.0.0.1 at 2018-08-15 12:56:27 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mFlat Load (1.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (5.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (23.0ms)
  Rendered flats/show.html.erb within layouts/application (46.6ms)
Completed 200 OK in 330ms (Views: 313.5ms | ActiveRecord: 8.3ms)


Started GET "/flats/4.json?start=2018-07-29&end=2018-09-09&_=1534326972668" for 127.0.0.1 at 2018-08-15 12:56:27 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534326972668", "id"=>"4"}
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.json.jbuilder
  Rendered flats/show.json.jbuilder (0.5ms)
Completed 200 OK in 5ms (Views: 3.1ms | ActiveRecord: 0.4ms)


Started GET "/flats/4" for 127.0.0.1 at 2018-08-15 12:57:17 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (18.5ms)
  Rendered flats/show.html.erb within layouts/application (35.2ms)
Completed 200 OK in 550ms (Views: 539.9ms | ActiveRecord: 4.8ms)


Started GET "/flats/4.json?start=2018-07-29&end=2018-09-09&_=1534327038573" for 127.0.0.1 at 2018-08-15 12:57:18 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534327038573", "id"=>"4"}
  [1m[36mFlat Load (0.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:58
  Rendering flats/show.json.jbuilder
  Rendered flats/show.json.jbuilder (0.5ms)
Completed 200 OK in 5ms (Views: 3.2ms | ActiveRecord: 0.2ms)


Started GET "/" for 127.0.0.1 at 2018-08-15 12:57:30 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (46.7ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (71.8ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 332ms (Views: 323.8ms | ActiveRecord: 4.6ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=2018-08-26&filter%5Bend_date%5D=2018-08-27&commit=Search" for 127.0.0.1 at 2018-08-15 12:57:36 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"2018-08-26", "end_date"=>"2018-08-27"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (5.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" LEFT OUTER JOIN "bookings" ON "bookings"."flat_id" = "flats"."id" GROUP BY flats.id HAVING (COUNT((bookings.end_date >= '2018-08-26' AND bookings.end_date <= '2018-08-27') OR
      (bookings.start_date >= '2018-08-26' AND bookings.start_date <= '2018-08-27') OR
      (bookings.start_date <= '2018-08-26' AND bookings.end_date >= '2018-08-27')) = 0) ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (3.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [4 times] (55.7ms)
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (86.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 377ms (Views: 359.7ms | ActiveRecord: 10.4ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=2018-08-26&filter%5Bend_date%5D=2018-08-27&commit=Search" for 127.0.0.1 at 2018-08-15 12:59:03 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"2018-08-26", "end_date"=>"2018-08-27"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.9ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" LEFT OUTER JOIN "bookings" ON "bookings"."flat_id" = "flats"."id" GROUP BY flats.id HAVING (COUNT((bookings.end_date >= '2018-08-26' AND bookings.end_date <= '2018-08-27') OR
      (bookings.start_date >= '2018-08-26' AND bookings.start_date <= '2018-08-27') OR
      (bookings.start_date <= '2018-08-26' AND bookings.end_date >= '2018-08-27')) = 0) ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [4 times] (39.8ms)
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (65.7ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 435ms (Views: 424.0ms | ActiveRecord: 4.2ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=&filter%5Bend_date%5D=&commit=Search" for 127.0.0.1 at 2018-08-15 12:59:28 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"", "end_date"=>""}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (60.5ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (94.8ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 434ms (Views: 421.6ms | ActiveRecord: 5.2ms)


Started GET "/secret" for 127.0.0.1 at 2018-08-15 12:59:36 +0300
Processing by UsersController#secret as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:16
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2 LIMIT $3[0m  [["created_at", "2018-08-14 21:00:00"], ["created_at", "2018-08-15 20:59:59.999999"], ["LIMIT", 11]]
  ↳ app/controllers/users_controller.rb:17
Redirected to http://localhost:3000/
Completed 302 Found in 13ms (ActiveRecord: 1.2ms)


Started GET "/" for 127.0.0.1 at 2018-08-15 12:59:37 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (15.3ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (28.1ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 268ms (Views: 263.6ms | ActiveRecord: 2.5ms)


Started GET "/messages" for 127.0.0.1 at 2018-08-15 12:59:47 +0300
Processing by MessagesController#index as HTML
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:3
  Rendering messages/index.html.erb within layouts/application
  [1m[36mMessage Load (3.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient" = $1[0m  [["recipient", 2]]
  ↳ app/views/messages/index.html.erb:2
  Rendered messages/index.html.erb within layouts/application (8.5ms)
Completed 200 OK in 309ms (Views: 272.1ms | ActiveRecord: 11.9ms)


Started GET "/" for 127.0.0.1 at 2018-08-15 12:59:50 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (34.7ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (49.2ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 270ms (Views: 263.4ms | ActiveRecord: 5.1ms)


Started GET "/" for 127.0.0.1 at 2018-08-15 13:21:02 +0300
  [1m[35m (2.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" LIMIT $1[0m  [["LIMIT", 11]]
  ↳ app/views/flats/index.html.erb:11
  Rendered flats/index.html.erb within layouts/application (45.3ms)
Completed 500 Internal Server Error in 104ms (ActiveRecord: 4.3ms)


  
ActionView::Template::Error ('#<FlatsQuery:0x000055ef1e72dfe0 @relation=#<ActiveRecord::Relation [#<Flat id: 5, name: "Ankudinova Home", address: "Ankudinova Street 5", description: "Situated in Uzhhorod in the Transcarpathia region,...", capacity: 2, price: 15, created_at: "2018-08-13 10:37:05", updated_at: "2018-08-13 10:37:05", image_file_name: "128500125_(1).jpg", image_content_type: "image/jpeg", image_file_size: 102057, image_updated_at: "2018-08-13 10:37:05", user_id: 3, city: "Uzhhorod", reserved_date: []>, #<Flat id: 6, name: "New Apartment near Dastor center ", address: "42 Zakarpats'ka Stree", description: "Featuring air-conditioned accommodation with a bal...", capacity: 2, price: 33, created_at: "2018-08-13 10:39:12", updated_at: "2018-08-13 10:39:12", image_file_name: "147214821.jpg", image_content_type: "image/jpeg", image_file_size: 57954, image_updated_at: "2018-08-13 10:39:12", user_id: 3, city: "Uzhhorod", reserved_date: []>, #<Flat id: 3, name: "Boutique Hotel Villa P", address: "Kapitulna Street 22", description: "Located in a historical villa, this property is se...", capacity: 2, price: 55, created_at: "2018-08-03 14:28:26", updated_at: "2018-08-10 13:15:03", image_file_name: "106311545.jpg", image_content_type: "image/jpeg", image_file_size: 77742, image_updated_at: "2018-08-03 14:28:25", user_id: 1, city: "Uzhhorod", reserved_date: [Wed, 15 Aug 2018, Thu, 16 Aug 2018, Fri, 17 Aug 2018]>, #<Flat id: 1, name: "Letuchiy Gollandets", address: "Peremohy(Kapushanska) Street 19", description: "This hotel is set in the historic centre of Uzhgor...", capacity: 2, price: 59, created_at: "2018-08-01 11:22:25", updated_at: "2018-08-08 12:00:59", image_file_name: "15184101.jpg", image_content_type: "image/jpeg", image_file_size: 112890, image_updated_at: "2018-08-01 11:22:24", user_id: 1, city: "Uzhhorod", reserved_date: [Sat, 18 Aug 2018, Sun, 19 Aug 2018, Mon, 20 Aug 2018, Tue, 21 Aug 2018]>, #<Flat id: 2, name: "Modern Apartments ", address: "Sil'vaya Street 9", description: "Modern Apartments is located in Mukacheve. Guests ...", capacity: 2, price: 24, created_at: "2018-08-01 11:26:50", updated_at: "2018-08-03 14:22:36", image_file_name: "131703794.jpg", image_content_type: "image/jpeg", image_file_size: 42004, image_updated_at: "2018-08-01 11:26:50", user_id: 1, city: "Mukacheve", reserved_date: []>, #<Flat id: 7, name: "Petefi Flat ", address: "Mukachivska Street", description: "Located in Uzhhorod in the Transcarpathia region, ...", capacity: 4, price: 23, created_at: "2018-08-13 10:41:16", updated_at: "2018-08-13 10:41:16", image_file_name: "134538011.jpg", image_content_type: "image/jpeg", image_file_size: 84988, image_updated_at: "2018-08-13 10:41:16", user_id: 3, city: "Uzhhorod", reserved_date: []>, #<Flat id: 4, name: "Hostel Gulliveer", address: "Griboedova Street 27", description: "Situated in Uzhhorod, Hostel Gulliveer features a ...", capacity: 5, price: 33, created_at: "2018-08-13 10:34:15", updated_at: "2018-08-15 09:56:11", image_file_name: "153359155_(1).jpg", image_content_type: "image/jpeg", image_file_size: 88757, image_updated_at: "2018-08-13 10:34:14", user_id: 3, city: "Uzhhorod", reserved_date: [Wed, 29 Aug 2018, Thu, 30 Aug 2018, Fri, 31 Aug 2018]>]>>' is not an ActiveModel-compatible object. It must implement :to_partial_path.):
     8:     onchange: "submitOnChange()", class: 'submit-on-change'  %>
     9:   <h1>Flats</h1>
    10: 
    11:   <%= render @flats %>
    12: 
    13:   <%= paginate @flats %>
    14: </div>
  
app/views/flats/index.html.erb:11:in `_app_views_flats_index_html_erb___2834599128626081076_47242748006020'
Started GET "/" for 127.0.0.1 at 2018-08-15 13:23:37 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (3.1ms)[0m  [1m[34mSELECT "flats".* FROM "flats" WHERE "flats"."capacity" = $1[0m  [["capacity", 2]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (553.7ms)
  Rendered flats/index.html.erb within layouts/application (661.7ms)
Completed 500 Internal Server Error in 710ms (ActiveRecord: 24.2ms)


  
ActionView::Template::Error (undefined method `total_pages' for #<Flat::ActiveRecord_Relation:0x00007ff880278a00>):
    10: 
    11:   <%= render @flats %>
    12: 
    13:   <%= paginate @flats %>
    14: </div>
    15: 
    16: <div class="col-md-3">
  
app/views/flats/index.html.erb:13:in `_app_views_flats_index_html_erb___2834599128626081076_70352639401940'
Started GET "/" for 127.0.0.1 at 2018-08-15 13:23:54 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.9ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."capacity" = $1 LIMIT $2 OFFSET $3[0m  [["capacity", 2], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (100.6ms)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."capacity" = $1[0m  [["capacity", 2]]
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (202.5ms)
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 686ms (Views: 630.4ms | ActiveRecord: 28.0ms)


Started GET "/" for 127.0.0.1 at 2018-08-15 13:27:03 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (3.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (109.1ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (2.5ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (238.9ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 662ms (Views: 606.4ms | ActiveRecord: 28.0ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=Mukacheve&filter%5Bstart_date%5D=&filter%5Bend_date%5D=&commit=Search" for 127.0.0.1 at 2018-08-15 13:27:14 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"Mukacheve", "start_date"=>"", "end_date"=>""}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."city" = $1 ORDER BY flats.created_at ASC LIMIT $2 OFFSET $3[0m  [["city", "Mukacheve"], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [1 times] (19.5ms)
  [1m[36mFlat Load (1.9ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (45.6ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 537ms (Views: 520.6ms | ActiveRecord: 5.6ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=Uzhhorod&filter%5Bstart_date%5D=&filter%5Bend_date%5D=&commit=Search" for 127.0.0.1 at 2018-08-15 13:27:17 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"Uzhhorod", "start_date"=>"", "end_date"=>""}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."city" = $1 ORDER BY flats.created_at ASC LIMIT $2 OFFSET $3[0m  [["city", "Uzhhorod"], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (51.7ms)
  [1m[35m (2.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."city" = $1[0m  [["city", "Uzhhorod"]]
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (2.3ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (103.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 489ms (Views: 475.4ms | ActiveRecord: 10.4ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=Tork&filter%5Bcity%5D=Uzhhorod&filter%5Bstart_date%5D=&filter%5Bend_date%5D=&commit=Search" for 127.0.0.1 at 2018-08-15 13:27:22 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"Tork", "city"=>"Uzhhorod", "start_date"=>"", "end_date"=>""}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" INNER JOIN "users" ON "users"."id" = "flats"."user_id" WHERE "users"."name" = $1 AND "flats"."city" = $2 ORDER BY flats.created_at ASC LIMIT $3 OFFSET $4[0m  [["name", "Tork"], ["city", "Uzhhorod"], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [2 times] (21.9ms)
  [1m[36mFlat Load (2.7ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (54.2ms)
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 501ms (Views: 492.7ms | ActiveRecord: 5.9ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=Tork&filter%5Bcity%5D=Mukacheve&filter%5Bstart_date%5D=&filter%5Bend_date%5D=&commit=Search" for 127.0.0.1 at 2018-08-15 13:27:28 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"Tork", "city"=>"Mukacheve", "start_date"=>"", "end_date"=>""}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (3.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" INNER JOIN "users" ON "users"."id" = "flats"."user_id" WHERE "users"."name" = $1 AND "flats"."city" = $2 ORDER BY flats.created_at ASC LIMIT $3 OFFSET $4[0m  [["name", "Tork"], ["city", "Mukacheve"], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (3.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [1 times] (27.1ms)
  [1m[36mFlat Load (5.8ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (74.7ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 529ms (Views: 511.5ms | ActiveRecord: 12.4ms)


Started GET "/" for 127.0.0.1 at 2018-08-15 13:27:32 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (4.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (50.2ms)
  [1m[35m (3.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (92.7ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 385ms (Views: 370.9ms | ActiveRecord: 11.2ms)


Started GET "/" for 127.0.0.1 at 2018-08-15 13:28:39 +0300
Processing by FlatsController#index as HTML
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms)


  
SyntaxError (/home/york/Документы/Projects/FlatBooking/app/models/flat.rb:23: syntax error, unexpected end-of-input, expecting keyword_end):
  
app/models/flat.rb:23: syntax error, unexpected end-of-input, expecting keyword_end
app/queries/flats_query.rb:4:in `initialize'
app/controllers/flats_controller.rb:6:in `new'
app/controllers/flats_controller.rb:6:in `index'
Started GET "/" for 127.0.0.1 at 2018-08-15 13:28:50 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (94.3ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (164.8ms)
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 589ms (Views: 555.7ms | ActiveRecord: 21.0ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=Tork&filter%5Bcity%5D=Uzhhorod&filter%5Bstart_date%5D=&filter%5Bend_date%5D=&commit=Search" for 127.0.0.1 at 2018-08-15 13:28:56 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"Tork", "city"=>"Uzhhorod", "start_date"=>"", "end_date"=>""}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (4.9ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" INNER JOIN "users" ON "users"."id" = "flats"."user_id" WHERE "users"."name" = $1 AND "flats"."city" = $2 ORDER BY flats.created_at ASC LIMIT $3 OFFSET $4[0m  [["name", "Tork"], ["city", "Uzhhorod"], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [2 times] (23.9ms)
  [1m[36mFlat Load (1.6ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (60.5ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 518ms (Views: 507.3ms | ActiveRecord: 8.4ms)


Started GET "/" for 127.0.0.1 at 2018-08-15 13:29:02 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (5.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (50.7ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (94.8ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 360ms (Views: 347.1ms | ActiveRecord: 9.9ms)


Started GET "/" for 127.0.0.1 at 2018-08-15 13:35:25 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (3.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (80.5ms)
  [1m[35m (1.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (2.3ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (210.5ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 588ms (Views: 558.0ms | ActiveRecord: 22.3ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2018-08-15 13:35:30 +0300
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"3ZkKZU9Ny07kTvHphJPnVD7clr+Tt45Qp/Tjsi6DyBzUUEIqnO1k7uFjQKub5+YnJL4jN46CeXDGesQetMyV6w=="}
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (3.1ms)[0m  [1m[35mBEGIN[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 25ms (ActiveRecord: 5.3ms)


Started GET "/" for 127.0.0.1 at 2018-08-15 13:35:30 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.9ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (42.4ms)
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (84.0ms)
Completed 200 OK in 524ms (Views: 517.7ms | ActiveRecord: 4.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2018-08-15 13:35:31 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (5.3ms)
  Rendered devise/sessions/new.html.erb within layouts/application (29.6ms)
Completed 200 OK in 325ms (Views: 321.8ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-08-15 13:35:39 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"8O5xIm/Cof+yPmKX1RRY9KEeKqfCLH37OdBs9bOBZ4EvxeUtU9x6IHGkMQ2cxNeW3os/6vtHRiTZXco5tq/C0g==", "user"=>{"email"=>"Tork@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "tork@gmail.com"], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = $1, "last_sign_in_at" = $2, "sign_in_count" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["current_sign_in_at", "2018-08-15 10:35:39.675837"], ["last_sign_in_at", "2018-08-13 11:06:00.667917"], ["sign_in_count", 18], ["updated_at", "2018-08-15 10:35:39.677542"], ["id", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 204ms (ActiveRecord: 5.1ms)


Started GET "/" for 127.0.0.1 at 2018-08-15 13:35:39 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (36.7ms)
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (66.3ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 463ms (Views: 458.4ms | ActiveRecord: 3.3ms)


Started GET "/secret" for 127.0.0.1 at 2018-08-15 13:35:41 +0300
Processing by UsersController#secret as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:13
  Rendering users/secret.html.erb within layouts/application
  [1m[35m (2.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3[0m  [["created_at", "2018-08-14 21:00:00"], ["created_at", "2018-08-15 20:59:59.999999"], ["vendor", true]]
  ↳ app/views/users/secret.html.erb:1
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3[0m  [["created_at", "2018-08-14 21:00:00"], ["created_at", "2018-08-15 20:59:59.999999"], ["vendor", false]]
  ↳ app/views/users/secret.html.erb:1
  [1m[35m (2.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-14 21:00:00"], ["created_at", "2018-08-15 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:2
  [1m[35m (1.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-14 21:00:00"], ["created_at", "2018-08-15 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:2
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-14 21:00:00"], ["created_at", "2018-08-15 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:3
  [1m[35mCACHE  (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-14 21:00:00"], ["created_at", "2018-08-15 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:9
  [1m[36mBooking Load (0.7ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-14 21:00:00"], ["created_at", "2018-08-15 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:11
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/users/secret.html.erb:12
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/secret.html.erb:12
  Rendered users/secret.html.erb within layouts/application (88.9ms)
Completed 200 OK in 355ms (Views: 311.7ms | ActiveRecord: 27.7ms)


Started GET "/get_secret_email" for 127.0.0.1 at 2018-08-15 13:37:47 +0300
Processing by UsersController#get_secret_email as HTML
  Rendering admin_mailer/report.html.erb within layouts/mailer
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3[0m  [["created_at", "2018-08-14 21:00:00"], ["created_at", "2018-08-15 20:59:59.999999"], ["vendor", true]]
  ↳ app/views/admin_mailer/report.html.erb:1
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3[0m  [["created_at", "2018-08-14 21:00:00"], ["created_at", "2018-08-15 20:59:59.999999"], ["vendor", false]]
  ↳ app/views/admin_mailer/report.html.erb:1
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-14 21:00:00"], ["created_at", "2018-08-15 20:59:59.999999"]]
  ↳ app/views/admin_mailer/report.html.erb:2
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-14 21:00:00"], ["created_at", "2018-08-15 20:59:59.999999"]]
  ↳ app/views/admin_mailer/report.html.erb:2
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-14 21:00:00"], ["created_at", "2018-08-15 20:59:59.999999"]]
  ↳ app/views/admin_mailer/report.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-14 21:00:00"], ["created_at", "2018-08-15 20:59:59.999999"]]
  ↳ app/views/admin_mailer/report.html.erb:9
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-14 21:00:00"], ["created_at", "2018-08-15 20:59:59.999999"]]
  ↳ app/views/admin_mailer/report.html.erb:11
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/admin_mailer/report.html.erb:12
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/admin_mailer/report.html.erb:12
  Rendered admin_mailer/report.html.erb within layouts/mailer (8.6ms)
  Rendering admin_mailer/report.text.erb within layouts/mailer
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3[0m  [["created_at", "2018-08-14 21:00:00"], ["created_at", "2018-08-15 20:59:59.999999"], ["vendor", true]]
  ↳ app/views/admin_mailer/report.text.erb:1
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3[0m  [["created_at", "2018-08-14 21:00:00"], ["created_at", "2018-08-15 20:59:59.999999"], ["vendor", false]]
  ↳ app/views/admin_mailer/report.text.erb:1
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-14 21:00:00"], ["created_at", "2018-08-15 20:59:59.999999"]]
  ↳ app/views/admin_mailer/report.text.erb:2
  [1m[35mCACHE  (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-14 21:00:00"], ["created_at", "2018-08-15 20:59:59.999999"]]
  ↳ app/views/admin_mailer/report.text.erb:3
  Rendered admin_mailer/report.text.erb within layouts/mailer (7.9ms)
AdminMailer#report: processed outbound mail in 46.3ms
Sent mail to admin@gmail.com (60.7ms)
Date: Wed, 15 Aug 2018 13:37:47 +0300
From: yorkqw@gmail.com
To: admin@gmail.com
Message-ID: <5b74027b84bf0_15812af78ef7dea0980b@york-HP-250-G5-Notebook-PC.mail>
Subject: Report from FlatBooking 2018-08-15
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5b74027b81571_15812af78ef7dea097931";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5b74027b81571_15812af78ef7dea097931
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Today on site registrated 0 vendors, 0 visitors
and vendors create 0 flats and visitors booked flats 1 times.
  Bookings
    Hostel Gulliveer booked from 2018-08-29 to 2018-08-31 by Pork


----==_mimepart_5b74027b81571_15812af78ef7dea097931
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Today on site registrated 0 vendors, 0 visitors
and vendors create 0 flats and visitors booked flats 1 times.<br/>
  <h4>Bookings</h4>
    Hostel Gulliveer booked from 2018-08-29 to 2018-08-31 by Pork</br/>

  </body>
</html>

----==_mimepart_5b74027b81571_15812af78ef7dea097931--

Redirected to http://localhost:3000/secret
Completed 302 Found in 293ms (ActiveRecord: 2.2ms)


Started GET "/secret" for 127.0.0.1 at 2018-08-15 13:37:47 +0300
Processing by UsersController#secret as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:13
  Rendering users/secret.html.erb within layouts/application
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3[0m  [["created_at", "2018-08-14 21:00:00"], ["created_at", "2018-08-15 20:59:59.999999"], ["vendor", true]]
  ↳ app/views/users/secret.html.erb:1
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3[0m  [["created_at", "2018-08-14 21:00:00"], ["created_at", "2018-08-15 20:59:59.999999"], ["vendor", false]]
  ↳ app/views/users/secret.html.erb:1
  [1m[35m (3.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-14 21:00:00"], ["created_at", "2018-08-15 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:2
  [1m[35m (1.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-14 21:00:00"], ["created_at", "2018-08-15 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:2
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-14 21:00:00"], ["created_at", "2018-08-15 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:3
  [1m[35mCACHE  (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-14 21:00:00"], ["created_at", "2018-08-15 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:9
  [1m[36mBooking Load (0.4ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-14 21:00:00"], ["created_at", "2018-08-15 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:11
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/users/secret.html.erb:12
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/secret.html.erb:12
  Rendered users/secret.html.erb within layouts/application (31.4ms)
Completed 200 OK in 484ms (Views: 471.3ms | ActiveRecord: 8.1ms)


Started GET "/get_secret_email" for 127.0.0.1 at 2018-08-15 13:38:35 +0300
Processing by UsersController#get_secret_email as HTML
  Rendering admin_mailer/report.html.erb within layouts/mailer
  [1m[35m (4.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3[0m  [["created_at", "2018-08-14 21:00:00"], ["created_at", "2018-08-15 20:59:59.999999"], ["vendor", true]]
  ↳ app/views/admin_mailer/report.html.erb:1
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3[0m  [["created_at", "2018-08-14 21:00:00"], ["created_at", "2018-08-15 20:59:59.999999"], ["vendor", false]]
  ↳ app/views/admin_mailer/report.html.erb:1
  [1m[35m (2.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-14 21:00:00"], ["created_at", "2018-08-15 20:59:59.999999"]]
  ↳ app/views/admin_mailer/report.html.erb:2
  [1m[35m (4.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-14 21:00:00"], ["created_at", "2018-08-15 20:59:59.999999"]]
  ↳ app/views/admin_mailer/report.html.erb:2
  [1m[35mCACHE  (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-14 21:00:00"], ["created_at", "2018-08-15 20:59:59.999999"]]
  ↳ app/views/admin_mailer/report.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-14 21:00:00"], ["created_at", "2018-08-15 20:59:59.999999"]]
  ↳ app/views/admin_mailer/report.html.erb:9
  [1m[36mBooking Load (1.1ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-14 21:00:00"], ["created_at", "2018-08-15 20:59:59.999999"]]
  ↳ app/views/admin_mailer/report.html.erb:11
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/admin_mailer/report.html.erb:12
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/admin_mailer/report.html.erb:12
  Rendered admin_mailer/report.html.erb within layouts/mailer (75.7ms)
  Rendering admin_mailer/report.text.erb within layouts/mailer
  [1m[35mCACHE  (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3[0m  [["created_at", "2018-08-14 21:00:00"], ["created_at", "2018-08-15 20:59:59.999999"], ["vendor", true]]
  ↳ app/views/admin_mailer/report.text.erb:1
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3[0m  [["created_at", "2018-08-14 21:00:00"], ["created_at", "2018-08-15 20:59:59.999999"], ["vendor", false]]
  ↳ app/views/admin_mailer/report.text.erb:1
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-14 21:00:00"], ["created_at", "2018-08-15 20:59:59.999999"]]
  ↳ app/views/admin_mailer/report.text.erb:2
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-14 21:00:00"], ["created_at", "2018-08-15 20:59:59.999999"]]
  ↳ app/views/admin_mailer/report.text.erb:3
  Rendered admin_mailer/report.text.erb within layouts/mailer (16.6ms)
AdminMailer#report: processed outbound mail in 132.4ms
Sent mail to admin@gmail.com (57.6ms)
Date: Wed, 15 Aug 2018 13:38:35 +0300
From: yorkqw@gmail.com
To: admin@gmail.com
Message-ID: <5b7402abc91fb_15812af78ef7dd889823@york-HP-250-G5-Notebook-PC.mail>
Subject: Report from FlatBooking 2018-08-15
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5b7402abc6d38_15812af78ef7dd889819a";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5b7402abc6d38_15812af78ef7dd889819a
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Today on site registrated 0 vendors, 0 visitors,
vendors create 0 flats and visitors booked flats 1 times.
  Bookings
    Hostel Gulliveer booked from 2018-08-29 to 2018-08-31 by Pork


----==_mimepart_5b7402abc6d38_15812af78ef7dd889819a
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Today on site registrated 0 vendors, 0 visitors,
vendors create 0 flats and visitors booked flats 1 times.<br/>
  <h4>Bookings</h4>
    Hostel Gulliveer booked from 2018-08-29 to 2018-08-31 by Pork</br/>

  </body>
</html>

----==_mimepart_5b7402abc6d38_15812af78ef7dd889819a--

Redirected to http://localhost:3000/secret
Completed 302 Found in 207ms (ActiveRecord: 14.0ms)


Started GET "/secret" for 127.0.0.1 at 2018-08-15 13:38:35 +0300
Processing by UsersController#secret as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:13
  Rendering users/secret.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3[0m  [["created_at", "2018-08-14 21:00:00"], ["created_at", "2018-08-15 20:59:59.999999"], ["vendor", true]]
  ↳ app/views/users/secret.html.erb:1
  [1m[35m (2.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3[0m  [["created_at", "2018-08-14 21:00:00"], ["created_at", "2018-08-15 20:59:59.999999"], ["vendor", false]]
  ↳ app/views/users/secret.html.erb:1
  [1m[35m (1.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-14 21:00:00"], ["created_at", "2018-08-15 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:2
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-14 21:00:00"], ["created_at", "2018-08-15 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:2
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-14 21:00:00"], ["created_at", "2018-08-15 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-14 21:00:00"], ["created_at", "2018-08-15 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:9
  [1m[36mBooking Load (0.5ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-14 21:00:00"], ["created_at", "2018-08-15 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:11
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/users/secret.html.erb:12
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/secret.html.erb:12
  Rendered users/secret.html.erb within layouts/application (30.7ms)
Completed 200 OK in 431ms (Views: 413.1ms | ActiveRecord: 8.1ms)


Started GET "/secret" for 127.0.0.1 at 2018-08-15 13:45:09 +0300
Processing by UsersController#secret as HTML
  [1m[36mUser Load (5.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:13
  Rendering users/secret.html.erb within layouts/application
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3[0m  [["created_at", "2018-08-14 21:00:00"], ["created_at", "2018-08-15 20:59:59.999999"], ["vendor", true]]
  ↳ app/views/users/secret.html.erb:1
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3[0m  [["created_at", "2018-08-14 21:00:00"], ["created_at", "2018-08-15 20:59:59.999999"], ["vendor", false]]
  ↳ app/views/users/secret.html.erb:1
  [1m[35m (3.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-14 21:00:00"], ["created_at", "2018-08-15 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:2
  [1m[35m (1.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-14 21:00:00"], ["created_at", "2018-08-15 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:2
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-14 21:00:00"], ["created_at", "2018-08-15 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-14 21:00:00"], ["created_at", "2018-08-15 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:9
  [1m[36mBooking Load (0.5ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-14 21:00:00"], ["created_at", "2018-08-15 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:11
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/users/secret.html.erb:12
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/secret.html.erb:12
  Rendered users/secret.html.erb within layouts/application (138.8ms)
Completed 200 OK in 627ms (Views: 510.5ms | ActiveRecord: 43.5ms)


Started GET "/" for 127.0.0.1 at 2018-08-15 13:45:10 +0300
Processing by FlatsController#index as HTML
  [1m[36mFlat Load (1.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" LIMIT $1[0m  [["LIMIT", 11]]
  ↳ /home/york/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:8
Completed 500 Internal Server Error in 21ms (ActiveRecord: 0.0ms)


  
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" LIMIT $1[0m  [["LIMIT", 11]]
  ↳ /home/york/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:8
NoMethodError (undefined method `order' for #<FlatsQuery:0x00007ff8818f1b60>):
  
app/queries/flats_query.rb:27:in `order_scope'
app/models/flat.rb:12:in `block in <class:Flat>'
app/queries/flats_query.rb:9:in `filter'
app/controllers/flats_controller.rb:6:in `index'
Started GET "/" for 127.0.0.1 at 2018-08-15 13:46:02 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (3.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (94.8ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (2.9ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (210.1ms)
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 635ms (Views: 577.7ms | ActiveRecord: 26.8ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=price&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=&filter%5Bend_date%5D=" for 127.0.0.1 at 2018-08-15 13:46:06 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"price", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"", "end_date"=>""}}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.price ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (30.1ms)
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (76.4ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 507ms (Views: 501.6ms | ActiveRecord: 3.9ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=price&filter%5Bdirection%5D=DESC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=&filter%5Bend_date%5D=" for 127.0.0.1 at 2018-08-15 13:46:10 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"price", "direction"=>"DESC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"", "end_date"=>""}}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.price DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (69.0ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (121.0ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 577ms (Views: 566.4ms | ActiveRecord: 5.1ms)


  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY "flats"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2018-08-15 13:54:19 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (44.2ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (24.1ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (115.3ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 397ms (Views: 354.7ms | ActiveRecord: 35.9ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-16&commit=Search" for 127.0.0.1 at 2018-08-15 13:54:33 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-16"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (6.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" INNER JOIN "bookings" ON "bookings"."flat_id" = "flats"."id" GROUP BY flats.id HAVING (COUNT((bookings.end_date >= '2018-08-15' AND bookings.end_date <= '2018-08-16') OR
      (bookings.start_date >= '2018-08-15' AND bookings.start_date <= '2018-08-16') OR
      (bookings.start_date <= '2018-08-15' AND bookings.end_date >= '2018-08-16')) = 0) ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  Rendered collection of templates [0 times] (0.2ms)
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (55.5ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 622ms (Views: 605.2ms | ActiveRecord: 7.3ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=2018-08-19&filter%5Bend_date%5D=2018-08-20&commit=Search" for 127.0.0.1 at 2018-08-15 13:55:11 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"2018-08-19", "end_date"=>"2018-08-20"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" INNER JOIN "bookings" ON "bookings"."flat_id" = "flats"."id" GROUP BY flats.id HAVING (COUNT((bookings.end_date >= '2018-08-19' AND bookings.end_date <= '2018-08-20') OR
      (bookings.start_date >= '2018-08-19' AND bookings.start_date <= '2018-08-20') OR
      (bookings.start_date <= '2018-08-19' AND bookings.end_date >= '2018-08-20')) = 0) ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (12.4ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 433ms (Views: 426.9ms | ActiveRecord: 1.9ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=2018-08-01&filter%5Bend_date%5D=2018-08-30&commit=Search" for 127.0.0.1 at 2018-08-15 13:55:18 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"2018-08-01", "end_date"=>"2018-08-30"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" INNER JOIN "bookings" ON "bookings"."flat_id" = "flats"."id" GROUP BY flats.id HAVING (COUNT((bookings.end_date >= '2018-08-01' AND bookings.end_date <= '2018-08-30') OR
      (bookings.start_date >= '2018-08-01' AND bookings.start_date <= '2018-08-30') OR
      (bookings.start_date <= '2018-08-01' AND bookings.end_date >= '2018-08-30')) = 0) ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  Rendered collection of templates [0 times] (0.1ms)
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (19.2ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 503ms (Views: 496.0ms | ActiveRecord: 2.2ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=&filter%5Bend_date%5D=&commit=Search" for 127.0.0.1 at 2018-08-15 13:55:26 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"", "end_date"=>""}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (68.7ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (106.9ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 543ms (Views: 533.6ms | ActiveRecord: 4.9ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=&filter%5Bend_date%5D=&commit=Search" for 127.0.0.1 at 2018-08-15 14:07:19 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"", "end_date"=>""}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (3.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (78.4ms)
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.8ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (169.6ms)
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 613ms (Views: 578.6ms | ActiveRecord: 27.8ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-17&commit=Search" for 127.0.0.1 at 2018-08-15 14:07:25 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-17"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.9ms)[0m  [1m[34mSELECT  flats.*, bookings.* FROM "flats" LEFT OUTER JOIN "bookings" ON "bookings"."flat_id" = "flats"."id" GROUP BY flats.id HAVING (COUNT((bookings.end_date >= '2018-08-15' AND bookings.end_date <= '2018-08-17') OR
      (bookings.start_date >= '2018-08-15' AND bookings.start_date <= '2018-08-17') OR
      (bookings.start_date <= '2018-08-15' AND bookings.end_date >= '2018-08-17')) = 0) ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  Rendered flats/index.html.erb within layouts/application (23.9ms)
Completed 500 Internal Server Error in 48ms (ActiveRecord: 1.9ms)


  
ActionView::Template::Error (PG::GroupingError: ОШИБКА:  столбец "bookings.id" должен фигурировать в предложении GROUP BY или использоваться в агрегатной функции
LINE 1: SELECT  flats.*, bookings.* FROM "flats" LEFT OUTER JOIN "bo...
                         ^
: SELECT  flats.*, bookings.* FROM "flats" LEFT OUTER JOIN "bookings" ON "bookings"."flat_id" = "flats"."id" GROUP BY flats.id HAVING (COUNT((bookings.end_date >= '2018-08-15' AND bookings.end_date <= '2018-08-17') OR
      (bookings.start_date >= '2018-08-15' AND bookings.start_date <= '2018-08-17') OR
      (bookings.start_date <= '2018-08-15' AND bookings.end_date >= '2018-08-17')) = 0) ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2):
     8:     onchange: "submitOnChange()", class: 'submit-on-change'  %>
     9:   <h1>Flats</h1>
    10: 
    11:   <%= render @flats %>
    12: 
    13:   <%= paginate @flats %>
    14: </div>
  
app/views/flats/index.html.erb:11:in `_app_views_flats_index_html_erb___2834599128626081076_70352655080840'
Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-17&commit=Search" for 127.0.0.1 at 2018-08-15 14:08:16 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-17"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.4ms)[0m  [1m[34mSELECT  flats.*, bookings.* FROM "flats" LEFT OUTER JOIN "bookings" ON "bookings"."flat_id" = "flats"."id" GROUP BY flats.id, bookings.id HAVING (COUNT((bookings.end_date >= '2018-08-15' AND bookings.end_date <= '2018-08-17') OR
      (bookings.start_date >= '2018-08-15' AND bookings.start_date <= '2018-08-17') OR
      (bookings.start_date <= '2018-08-15' AND bookings.end_date >= '2018-08-17')) = 0) ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  Rendered collection of flats/_flat.html.erb [4 times] (5.5ms)
  Rendered flats/index.html.erb within layouts/application (107.2ms)
Completed 500 Internal Server Error in 141ms (ActiveRecord: 14.3ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :controller=>"flats", :id=>nil}, missing required keys: [:id]):
    3:     <% if flat.name.nil? %>
    4:       <h1><%= link_to "Flat on #{flat.city}, #{flat.address}", flat_path(flat) %></h1>
    5:     <% else %>
    6:       <h1><%= link_to flat.name, flat_path(flat) %></h1>
    7:     <% end %>
    8:     <small>
    9:       <time><%= flat.created_at.to_date.strftime("%d %B, %Y")%></time>
  
app/views/flats/_flat.html.erb:6:in `_app_views_flats__flat_html_erb___2550323168790897400_70352651311860'
app/views/flats/index.html.erb:11:in `_app_views_flats_index_html_erb___2834599128626081076_70352652132640'
Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-17&commit=Search" for 127.0.0.1 at 2018-08-15 14:09:14 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-17"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (6.5ms)[0m  [1m[34mSELECT  flats.*, bookings.start_date, bookings.end_date FROM "flats" LEFT OUTER JOIN "bookings" ON "bookings"."flat_id" = "flats"."id" GROUP BY flats.id HAVING (COUNT((bookings.end_date >= '2018-08-15' AND bookings.end_date <= '2018-08-17') OR
      (bookings.start_date >= '2018-08-15' AND bookings.start_date <= '2018-08-17') OR
      (bookings.start_date <= '2018-08-15' AND bookings.end_date >= '2018-08-17')) = 0) ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  Rendered flats/index.html.erb within layouts/application (54.0ms)
Completed 500 Internal Server Error in 97ms (ActiveRecord: 16.3ms)


  
ActionView::Template::Error (PG::GroupingError: ОШИБКА:  столбец "bookings.start_date" должен фигурировать в предложении GROUP BY или использоваться в агрегатной функции
LINE 1: SELECT  flats.*, bookings.start_date, bookings.end_date FROM...
                         ^
: SELECT  flats.*, bookings.start_date, bookings.end_date FROM "flats" LEFT OUTER JOIN "bookings" ON "bookings"."flat_id" = "flats"."id" GROUP BY flats.id HAVING (COUNT((bookings.end_date >= '2018-08-15' AND bookings.end_date <= '2018-08-17') OR
      (bookings.start_date >= '2018-08-15' AND bookings.start_date <= '2018-08-17') OR
      (bookings.start_date <= '2018-08-15' AND bookings.end_date >= '2018-08-17')) = 0) ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2):
     8:     onchange: "submitOnChange()", class: 'submit-on-change'  %>
     9:   <h1>Flats</h1>
    10: 
    11:   <%= render @flats %>
    12: 
    13:   <%= paginate @flats %>
    14: </div>
  
app/views/flats/index.html.erb:11:in `_app_views_flats_index_html_erb___2834599128626081076_70352643381020'
Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-17&commit=Search" for 127.0.0.1 at 2018-08-15 14:26:25 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-17"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  Rendered flats/index.html.erb within layouts/application (56.6ms)
Completed 500 Internal Server Error in 85ms (ActiveRecord: 23.1ms)


  
ActionView::Template::Error (Unsupported argument type: Hash. Construct an Arel node instead.):
     8:     onchange: "submitOnChange()", class: 'submit-on-change'  %>
     9:   <h1>Flats</h1>
    10: 
    11:   <%= render @flats %>
    12: 
    13:   <%= paginate @flats %>
    14: </div>
  
app/views/flats/index.html.erb:11:in `_app_views_flats_index_html_erb___2834599128626081076_70352657596020'
Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-17&commit=Search" for 127.0.0.1 at 2018-08-15 14:59:00 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-17"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  Rendered flats/index.html.erb within layouts/application (16.6ms)
Completed 500 Internal Server Error in 30ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (Unsupported argument type: Hash. Construct an Arel node instead.):
     8:     onchange: "submitOnChange()", class: 'submit-on-change'  %>
     9:   <h1>Flats</h1>
    10: 
    11:   <%= render @flats %>
    12: 
    13:   <%= paginate @flats %>
    14: </div>
  
app/views/flats/index.html.erb:11:in `_app_views_flats_index_html_erb___2834599128626081076_47242748260260'
Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-17&commit=Search" for 127.0.0.1 at 2018-08-15 15:07:59 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-17"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  Rendered flats/index.html.erb within layouts/application (21.9ms)
Completed 500 Internal Server Error in 45ms (ActiveRecord: 5.4ms)


  
ActionView::Template::Error (Unsupported argument type: Hash. Construct an Arel node instead.):
     8:     onchange: "submitOnChange()", class: 'submit-on-change'  %>
     9:   <h1>Flats</h1>
    10: 
    11:   <%= render @flats %>
    12: 
    13:   <%= paginate @flats %>
    14: </div>
  
app/views/flats/index.html.erb:11:in `_app_views_flats_index_html_erb___2834599128626081076_70352651630460'
Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-17&commit=Search" for 127.0.0.1 at 2018-08-15 15:08:02 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-17"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  Rendered flats/index.html.erb within layouts/application (10.0ms)
Completed 500 Internal Server Error in 19ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (Unsupported argument type: Hash. Construct an Arel node instead.):
     8:     onchange: "submitOnChange()", class: 'submit-on-change'  %>
     9:   <h1>Flats</h1>
    10: 
    11:   <%= render @flats %>
    12: 
    13:   <%= paginate @flats %>
    14: </div>
  
app/views/flats/index.html.erb:11:in `_app_views_flats_index_html_erb___2834599128626081076_70352653401460'
Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-17&commit=Search" for 127.0.0.1 at 2018-08-15 15:08:26 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-17"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" LEFT OUTER JOIN "bookings" ON "bookings"."flat_id" = "flats"."id" GROUP BY flats.id HAVING (COUNT((bookings.end_date >= '2018-08-15' AND bookings.end_date <= '2018-08-17') OR
      (bookings.start_date >= '2018-08-15' AND bookings.start_date <= '2018-08-17') OR
      (bookings.start_date <= '2018-08-15' AND bookings.end_date >= '2018-08-17')) = 0) ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [4 times] (89.6ms)
  [1m[36mFlat Load (2.3ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (194.8ms)
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 650ms (Views: 598.9ms | ActiveRecord: 25.8ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=2018-08-22&filter%5Bend_date%5D=2018-08-23&commit=Search" for 127.0.0.1 at 2018-08-15 15:09:01 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"2018-08-22", "end_date"=>"2018-08-23"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" LEFT OUTER JOIN "bookings" ON "bookings"."flat_id" = "flats"."id" GROUP BY flats.id HAVING (COUNT((bookings.end_date >= '2018-08-22' AND bookings.end_date <= '2018-08-23') OR
      (bookings.start_date >= '2018-08-22' AND bookings.start_date <= '2018-08-23') OR
      (bookings.start_date <= '2018-08-22' AND bookings.end_date >= '2018-08-23')) = 0) ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [4 times] (49.2ms)
  [1m[36mFlat Load (1.5ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (76.0ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 560ms (Views: 549.7ms | ActiveRecord: 5.2ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=&filter%5Bend_date%5D=&commit=Search" for 127.0.0.1 at 2018-08-15 15:09:08 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"", "end_date"=>""}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (52.1ms)
  [1m[35m (1.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (1.6ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (112.2ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 593ms (Views: 583.2ms | ActiveRecord: 7.2ms)


Started GET "/" for 127.0.0.1 at 2018-08-15 15:14:22 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (39.3ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (2.3ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (70.8ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 351ms (Views: 344.2ms | ActiveRecord: 4.8ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=&filter%5Bend_date%5D=&commit=Search" for 127.0.0.1 at 2018-08-15 15:35:29 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"", "end_date"=>""}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.9ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (5.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (68.1ms)
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (3.1ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (126.3ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 617ms (Views: 600.5ms | ActiveRecord: 12.8ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=&filter%5Bend_date%5D=&commit=Search" for 127.0.0.1 at 2018-08-15 15:36:30 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"", "end_date"=>""}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (35.2ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (67.3ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 645ms (Views: 640.5ms | ActiveRecord: 3.0ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=&filter%5Bend_date%5D=&commit=Search" for 127.0.0.1 at 2018-08-15 15:36:36 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"", "end_date"=>""}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.9ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (37.3ms)
  [1m[35m (2.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (67.8ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 460ms (Views: 450.5ms | ActiveRecord: 7.7ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=capacity&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=&filter%5Bend_date%5D=" for 127.0.0.1 at 2018-08-15 15:36:39 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"capacity", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"", "end_date"=>""}}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.capacity ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (39.7ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (82.1ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 525ms (Views: 516.2ms | ActiveRecord: 6.9ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=capacity&filter%5Bdirection%5D=DESC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=&filter%5Bend_date%5D=" for 127.0.0.1 at 2018-08-15 15:36:42 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"capacity", "direction"=>"DESC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"", "end_date"=>""}}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.capacity DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (57.6ms)
  [1m[35m (5.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (115.1ms)
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 585ms (Views: 559.5ms | ActiveRecord: 9.7ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=capacity&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=&filter%5Bend_date%5D=" for 127.0.0.1 at 2018-08-15 15:36:45 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"capacity", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"", "end_date"=>""}}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.capacity ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (59.0ms)
  [1m[35m (1.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (1.5ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (112.3ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 552ms (Views: 535.0ms | ActiveRecord: 11.5ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=&filter%5Bend_date%5D=" for 127.0.0.1 at 2018-08-15 15:38:07 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"", "end_date"=>""}}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (40.7ms)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (92.3ms)
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 525ms (Views: 516.6ms | ActiveRecord: 5.4ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=DESC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=&filter%5Bend_date%5D=" for 127.0.0.1 at 2018-08-15 15:38:10 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"DESC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"", "end_date"=>""}}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (56.3ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (1.4ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (89.7ms)
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 496ms (Views: 486.3ms | ActiveRecord: 7.2ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=&filter%5Bend_date%5D=" for 127.0.0.1 at 2018-08-15 15:38:12 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"", "end_date"=>""}}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (2.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (57.4ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (2.0ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (86.1ms)
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 708ms (Views: 697.9ms | ActiveRecord: 7.7ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=&filter%5Bend_date%5D=" for 127.0.0.1 at 2018-08-15 15:49:07 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"", "end_date"=>""}}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (2.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (103.5ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (201.2ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 619ms (Views: 581.2ms | ActiveRecord: 29.4ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-17&commit=Search" for 127.0.0.1 at 2018-08-15 15:49:14 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-17"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (6.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" LEFT OUTER JOIN "bookings" ON "bookings"."flat_id" = "flats"."id" GROUP BY flats.id HAVING (COUNT((bookings.end_date IN ('2018-08-15'..'2018-08-17')) OR
      (bookings.start_date  IN ('2018-08-15'..'2018-08-17')) OR
      (bookings.start_date <= '2018-08-15' AND bookings.end_date >= '2018-08-17')) = 0) ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  Rendered flats/index.html.erb within layouts/application (22.1ms)
Completed 500 Internal Server Error in 30ms (ActiveRecord: 6.3ms)


  
ActionView::Template::Error (PG::SyntaxError: ОШИБКА:  ошибка синтаксиса (примерное положение: "..")
LINE 1: ... HAVING (COUNT((bookings.end_date IN ('2018-08-15'..'2018-08...
                                                             ^
: SELECT  "flats".* FROM "flats" LEFT OUTER JOIN "bookings" ON "bookings"."flat_id" = "flats"."id" GROUP BY flats.id HAVING (COUNT((bookings.end_date IN ('2018-08-15'..'2018-08-17')) OR
      (bookings.start_date  IN ('2018-08-15'..'2018-08-17')) OR
      (bookings.start_date <= '2018-08-15' AND bookings.end_date >= '2018-08-17')) = 0) ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2):
     8:     onchange: "submitOnChange()", class: 'submit-on-change'  %>
     9:   <h1>Flats</h1>
    10: 
    11:   <%= render @flats %>
    12: 
    13:   <%= paginate @flats %>
    14: </div>
  
app/views/flats/index.html.erb:11:in `_app_views_flats_index_html_erb___2834599128626081076_70352654316440'
Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-17&commit=Search" for 127.0.0.1 at 2018-08-15 15:51:31 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-17"}, "commit"=>"Search"}
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" LIMIT $1[0m  [["LIMIT", 11]]
  ↳ /home/york/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:8
Completed 500 Internal Server Error in 95ms (ActiveRecord: 0.0ms)


  
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" LIMIT $1[0m  [["LIMIT", 11]]
  ↳ /home/york/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:8
NoMethodError (undefined method `Date' for #<FlatsQuery:0x00007ff8814f26e0>):
  
app/queries/flats_query.rb:18:in `filter'
app/controllers/flats_controller.rb:6:in `index'
Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-17&commit=Search" for 127.0.0.1 at 2018-08-15 15:52:19 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-17"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (4.9ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" LEFT OUTER JOIN "bookings" ON "bookings"."flat_id" = "flats"."id" GROUP BY flats.id HAVING (COUNT((bookings.end_date IN '2018-08-15','2018-08-16','2018-08-17') OR
      (bookings.start_date  IN '2018-08-15','2018-08-16','2018-08-17') OR
      (bookings.start_date <= '2018-08-15' AND bookings.end_date >= '2018-08-17')) = 0) ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  Rendered flats/index.html.erb within layouts/application (48.7ms)
Completed 500 Internal Server Error in 85ms (ActiveRecord: 15.4ms)


  
ActionView::Template::Error (PG::SyntaxError: ОШИБКА:  ошибка синтаксиса (примерное положение: "'2018-08-15'")
LINE 1: ...P BY flats.id HAVING (COUNT((bookings.end_date IN '2018-08-1...
                                                             ^
: SELECT  "flats".* FROM "flats" LEFT OUTER JOIN "bookings" ON "bookings"."flat_id" = "flats"."id" GROUP BY flats.id HAVING (COUNT((bookings.end_date IN '2018-08-15','2018-08-16','2018-08-17') OR
      (bookings.start_date  IN '2018-08-15','2018-08-16','2018-08-17') OR
      (bookings.start_date <= '2018-08-15' AND bookings.end_date >= '2018-08-17')) = 0) ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2):
     8:     onchange: "submitOnChange()", class: 'submit-on-change'  %>
     9:   <h1>Flats</h1>
    10: 
    11:   <%= render @flats %>
    12: 
    13:   <%= paginate @flats %>
    14: </div>
  
app/views/flats/index.html.erb:11:in `_app_views_flats_index_html_erb___2834599128626081076_70352642711380'
Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-17&commit=Search" for 127.0.0.1 at 2018-08-15 15:54:35 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-17"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" LEFT OUTER JOIN "bookings" ON "bookings"."flat_id" = "flats"."id" GROUP BY flats.id HAVING (COUNT((bookings.end_date IN '2018-08-15','2018-08-16','2018-08-17') OR
      (bookings.start_date  IN '2018-08-15','2018-08-16','2018-08-17') OR
      (bookings.start_date <= '2018-08-15' AND bookings.end_date >= '2018-08-17')) = 0) ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  Rendered flats/index.html.erb within layouts/application (35.3ms)
Completed 500 Internal Server Error in 69ms (ActiveRecord: 12.6ms)


  
ActionView::Template::Error (PG::SyntaxError: ОШИБКА:  ошибка синтаксиса (примерное положение: "'2018-08-15'")
LINE 1: ...P BY flats.id HAVING (COUNT((bookings.end_date IN '2018-08-1...
                                                             ^
: SELECT  "flats".* FROM "flats" LEFT OUTER JOIN "bookings" ON "bookings"."flat_id" = "flats"."id" GROUP BY flats.id HAVING (COUNT((bookings.end_date IN '2018-08-15','2018-08-16','2018-08-17') OR
      (bookings.start_date  IN '2018-08-15','2018-08-16','2018-08-17') OR
      (bookings.start_date <= '2018-08-15' AND bookings.end_date >= '2018-08-17')) = 0) ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2):
     8:     onchange: "submitOnChange()", class: 'submit-on-change'  %>
     9:   <h1>Flats</h1>
    10: 
    11:   <%= render @flats %>
    12: 
    13:   <%= paginate @flats %>
    14: </div>
  
app/views/flats/index.html.erb:11:in `_app_views_flats_index_html_erb___2834599128626081076_47242736489000'
Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-17&commit=Search" for 127.0.0.1 at 2018-08-15 15:54:44 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-17"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (5.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" LEFT OUTER JOIN "bookings" ON "bookings"."flat_id" = "flats"."id" GROUP BY flats.id HAVING (COUNT((bookings.end_date IN '2018-08-15','2018-08-16','2018-08-17') OR
      (bookings.start_date  IN '2018-08-15','2018-08-16','2018-08-17') OR
      (bookings.start_date <= '2018-08-15' AND bookings.end_date >= '2018-08-17')) = 0) ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  Rendered flats/index.html.erb within layouts/application (19.9ms)
Completed 500 Internal Server Error in 35ms (ActiveRecord: 5.4ms)


  
ActionView::Template::Error (PG::SyntaxError: ОШИБКА:  ошибка синтаксиса (примерное положение: "'2018-08-15'")
LINE 1: ...P BY flats.id HAVING (COUNT((bookings.end_date IN '2018-08-1...
                                                             ^
: SELECT  "flats".* FROM "flats" LEFT OUTER JOIN "bookings" ON "bookings"."flat_id" = "flats"."id" GROUP BY flats.id HAVING (COUNT((bookings.end_date IN '2018-08-15','2018-08-16','2018-08-17') OR
      (bookings.start_date  IN '2018-08-15','2018-08-16','2018-08-17') OR
      (bookings.start_date <= '2018-08-15' AND bookings.end_date >= '2018-08-17')) = 0) ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2):
     8:     onchange: "submitOnChange()", class: 'submit-on-change'  %>
     9:   <h1>Flats</h1>
    10: 
    11:   <%= render @flats %>
    12: 
    13:   <%= paginate @flats %>
    14: </div>
  
app/views/flats/index.html.erb:11:in `_app_views_flats_index_html_erb___2834599128626081076_70352742785260'
Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-17&commit=Search" for 127.0.0.1 at 2018-08-15 15:55:52 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-17"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (3.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" LEFT OUTER JOIN "bookings" ON "bookings"."flat_id" = "flats"."id" GROUP BY flats.id HAVING (COUNT((bookings.end_date >= '2018-08-15' AND bookings.end_date <= '2018-08-17') OR
      (bookings.start_date >= '2018-08-15' AND bookings.start_date <= '2018-08-17') OR
      (bookings.start_date <= '2018-08-15' AND bookings.end_date >= '2018-08-17')) = 0) ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [4 times] (58.2ms)
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (149.1ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 756ms (Views: 709.3ms | ActiveRecord: 27.8ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-17&commit=Search" for 127.0.0.1 at 2018-08-15 15:55:56 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-17"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (3.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" LEFT OUTER JOIN "bookings" ON "bookings"."flat_id" = "flats"."id" GROUP BY flats.id HAVING (COUNT((bookings.end_date >= '2018-08-15' AND bookings.end_date <= '2018-08-17') OR
      (bookings.start_date >= '2018-08-15' AND bookings.start_date <= '2018-08-17') OR
      (bookings.start_date <= '2018-08-15' AND bookings.end_date >= '2018-08-17')) = 0) ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [4 times] (49.5ms)
  [1m[36mFlat Load (1.5ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (75.3ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 578ms (Views: 566.2ms | ActiveRecord: 6.9ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=&filter%5Bend_date%5D=&commit=Search" for 127.0.0.1 at 2018-08-15 15:56:07 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"", "end_date"=>""}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (69.5ms)
  [1m[35m (1.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (125.4ms)
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 606ms (Views: 593.1ms | ActiveRecord: 6.4ms)


Started GET "/?filter%5Bcategory%5D=created_at&filter%5Bcity%5D=&filter%5Bdirection%5D=ASC&filter%5Bend_date%5D=&filter%5Bname%5D=&filter%5Bstart_date%5D=&filter%5Bvendor%5D=&page=2" for 127.0.0.1 at 2018-08-15 15:56:11 +0300
Processing by FlatsController#index as HTML
  Parameters: {"filter"=>{"category"=>"created_at", "city"=>"", "direction"=>"ASC", "end_date"=>"", "name"=>"", "start_date"=>"", "vendor"=>""}, "page"=>"2"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 5]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [2 times] (11.7ms)
  [1m[36mFlat Load (1.3ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (49.6ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 416ms (Views: 408.8ms | ActiveRecord: 3.2ms)


Started GET "/?filter%5Bcategory%5D=created_at&filter%5Bcity%5D=&filter%5Bdirection%5D=ASC&filter%5Bend_date%5D=&filter%5Bname%5D=&filter%5Bstart_date%5D=&filter%5Bvendor%5D=" for 127.0.0.1 at 2018-08-15 15:56:13 +0300
Processing by FlatsController#index as HTML
  Parameters: {"filter"=>{"category"=>"created_at", "city"=>"", "direction"=>"ASC", "end_date"=>"", "name"=>"", "start_date"=>"", "vendor"=>""}}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.9ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (40.0ms)
  [1m[35m (1.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (80.5ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 377ms (Views: 368.4ms | ActiveRecord: 4.5ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-17&commit=Search" for 127.0.0.1 at 2018-08-15 15:57:20 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-17"}, "commit"=>"Search"}
  [1m[36mBooking Load (0.4ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" ORDER BY "bookings"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ (byebug):1
Completed 500 Internal Server Error in 315944ms (ActiveRecord: 5.5ms)


  
SystemExit (exit):
  
(byebug):1:in `exit'
(byebug):1:in `filter'
app/queries/flats_query.rb:15:in `filter'
app/controllers/flats_controller.rb:6:in `index'
Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-17&commit=Search" for 127.0.0.1 at 2018-08-15 16:02:50 +0300
  [1m[35m (1.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-17"}, "commit"=>"Search"}
  [1m[36mFlat Load (1.9ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" LEFT OUTER JOIN "bookings" ON "bookings"."flat_id" = "flats"."id" GROUP BY flats.id HAVING (COUNT((bookings.end_date >= '2018-08-15' AND bookings.end_date <= '2018-08-17') OR
      (bookings.start_date >= '2018-08-15' AND bookings.start_date <= '2018-08-17') OR
      (bookings.start_date <= '2018-08-15' AND bookings.end_date >= '2018-08-17')) = 0) LIMIT $1[0m  [["LIMIT", 11]]
  ↳ /home/york/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:8
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" LEFT OUTER JOIN "bookings" ON "bookings"."flat_id" = "flats"."id" GROUP BY flats.id HAVING (COUNT((bookings.end_date >= '2018-08-15' AND bookings.end_date <= '2018-08-17') OR
      (bookings.start_date >= '2018-08-15' AND bookings.start_date <= '2018-08-17') OR
      (bookings.start_date <= '2018-08-15' AND bookings.end_date >= '2018-08-17')) = 0) LIMIT $1[0m  [["LIMIT", 11]]
  ↳ /home/york/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:4
Completed 500 Internal Server Error in 63189ms (ActiveRecord: 12.8ms)


  
SystemExit (exit):
  
(byebug):1:in `exit'
(byebug):1:in `filter'
app/queries/flats_query.rb:21:in `filter'
app/controllers/flats_controller.rb:6:in `index'
Started GET "/" for 127.0.0.1 at 2018-08-15 16:04:47 +0300
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.9ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (211.8ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (264.5ms)
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 933ms (Views: 876.0ms | ActiveRecord: 10.2ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-17&commit=Search" for 127.0.0.1 at 2018-08-15 16:04:57 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-17"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" LEFT OUTER JOIN "bookings" ON "bookings"."flat_id" = "flats"."id" GROUP BY flats.id HAVING (COUNT((bookings.end_date >= '2018-08-15' AND bookings.end_date <= '2018-08-17') OR
      (bookings.start_date >= '2018-08-15' AND bookings.start_date <= '2018-08-17') OR
      (bookings.start_date <= '2018-08-15' AND bookings.end_date >= '2018-08-17')) = 0) ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [4 times] (38.1ms)
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (76.5ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 521ms (Views: 509.3ms | ActiveRecord: 4.9ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-17&commit=Search" for 127.0.0.1 at 2018-08-15 16:08:38 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-17"}, "commit"=>"Search"}
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.0ms)


  
SyntaxError (/home/york/Документы/Projects/FlatBooking/app/queries/flats_query.rb:15: syntax error, unexpected ']', expecting keyword_end
...ate = params_filter[:end_date]].to_date
...                              ^):
  
app/queries/flats_query.rb:15: syntax error, unexpected ']', expecting keyword_end
app/controllers/flats_controller.rb:6:in `index'
Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-17&commit=Search" for 127.0.0.1 at 2018-08-15 16:08:48 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-17"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.9ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" LEFT OUTER JOIN "bookings" ON "bookings"."flat_id" = "flats"."id" GROUP BY flats.id HAVING (COUNT((bookings.end_date >= :start_date AND bookings.end_date <= :end_date) OR
      (bookings.start_date >= :start_date AND bookings.start_date <= :end_date) OR
      (bookings.start_date <= :start_date AND bookings.end_date >= :end_date)) = 0) ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  Rendered flats/index.html.erb within layouts/application (50.9ms)
Completed 500 Internal Server Error in 84ms (ActiveRecord: 16.8ms)


  
ActionView::Template::Error (PG::SyntaxError: ОШИБКА:  ошибка синтаксиса (примерное положение: ":")
LINE 1: ...P BY flats.id HAVING (COUNT((bookings.end_date >= :start_dat...
                                                             ^
: SELECT  "flats".* FROM "flats" LEFT OUTER JOIN "bookings" ON "bookings"."flat_id" = "flats"."id" GROUP BY flats.id HAVING (COUNT((bookings.end_date >= :start_date AND bookings.end_date <= :end_date) OR
      (bookings.start_date >= :start_date AND bookings.start_date <= :end_date) OR
      (bookings.start_date <= :start_date AND bookings.end_date >= :end_date)) = 0) ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2):
     8:     onchange: "submitOnChange()", class: 'submit-on-change'  %>
     9:   <h1>Flats</h1>
    10: 
    11:   <%= render @flats %>
    12: 
    13:   <%= paginate @flats %>
    14: </div>
  
app/views/flats/index.html.erb:11:in `_app_views_flats_index_html_erb__3695424024238661949_70338058080540'
Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-17&commit=Search" for 127.0.0.1 at 2018-08-15 16:09:35 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-17"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.9ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" LEFT OUTER JOIN "bookings" ON "bookings"."flat_id" = "flats"."id" GROUP BY flats.id HAVING (COUNT((bookings.end_date >= '2018-08-15' AND bookings.end_date <= '2018-08-17') OR
      (bookings.start_date >= '2018-08-15' AND bookings.start_date <= '2018-08-17') OR
      (bookings.start_date <= '2018-08-15' AND bookings.end_date >= '2018-08-17')) = 0) ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [4 times] (68.5ms)
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (148.7ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 571ms (Views: 537.5ms | ActiveRecord: 18.6ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-17&commit=Search" for 127.0.0.1 at 2018-08-15 16:10:31 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-17"}, "commit"=>"Search"}
Completed 500 Internal Server Error in 157745ms (ActiveRecord: 0.0ms)


  
SystemExit (exit):
  
(byebug):1:in `exit'
(byebug):1:in `filter'
app/queries/flats_query.rb:17:in `filter'
app/controllers/flats_controller.rb:6:in `index'
Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-17&commit=Search" for 127.0.0.1 at 2018-08-15 16:13:20 +0300
  [1m[35m (2.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-17"}, "commit"=>"Search"}
Completed 500 Internal Server Error in 12254ms (ActiveRecord: 0.0ms)


  
SystemExit (exit):
  
(byebug):1:in `exit'
(byebug):1:in `filter'
app/queries/flats_query.rb:17:in `filter'
app/controllers/flats_controller.rb:6:in `index'
Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-17&commit=Search" for 127.0.0.1 at 2018-08-15 16:13:46 +0300
  [1m[35m (2.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-17"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (5.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" LEFT OUTER JOIN "bookings" ON "bookings"."flat_id" = "flats"."id" GROUP BY flats.id HAVING (COUNT((bookings.end_date >= '2018-08-15' AND bookings.end_date <= '2018-08-17') OR
      (bookings.start_date >= '2018-08-15' AND bookings.start_date <= '2018-08-17') OR
      (bookings.start_date <= '2018-08-15' AND bookings.end_date >= '2018-08-17')) = 0) ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (3.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [4 times] (470.0ms)
  [1m[36mFlat Load (1.2ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (545.4ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 1186ms (Views: 1079.3ms | ActiveRecord: 35.3ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-17&commit=Search" for 127.0.0.1 at 2018-08-15 16:18:08 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-17"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" LEFT OUTER JOIN "bookings" ON "bookings"."flat_id" = "flats"."id" GROUP BY flats.id HAVING (COUNT((bookings.end_date >= '2018-08-15' AND bookings.end_date <= '2018-08-17') OR
      (bookings.start_date >= '2018-08-15' AND bookings.start_date <= '2018-08-17') OR
      (bookings.start_date <= '2018-08-15' AND bookings.end_date >= '2018-08-17')) = 0) ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (3.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [4 times] (58.7ms)
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (85.4ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 647ms (Views: 630.3ms | ActiveRecord: 8.5ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-17&commit=Search" for 127.0.0.1 at 2018-08-15 16:42:30 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-17"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" GROUP BY flats.id HAVING (COUNT((bookings.end_date >= '2018-08-15' AND bookings.end_date <= '2018-08-17') OR
      (bookings.start_date >= '2018-08-15' AND bookings.start_date <= '2018-08-17') OR
      (bookings.start_date <= '2018-08-15' AND bookings.end_date >= '2018-08-17')) = 0) ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  Rendered flats/index.html.erb within layouts/application (14.5ms)
Completed 500 Internal Server Error in 27ms (ActiveRecord: 7.8ms)


  
ActionView::Template::Error (PG::UndefinedTable: ОШИБКА:  таблица "bookings" отсутствует в предложении FROM
LINE 1: ...".* FROM "flats" GROUP BY flats.id HAVING (COUNT((bookings.e...
                                                             ^
: SELECT  "flats".* FROM "flats" GROUP BY flats.id HAVING (COUNT((bookings.end_date >= '2018-08-15' AND bookings.end_date <= '2018-08-17') OR
      (bookings.start_date >= '2018-08-15' AND bookings.start_date <= '2018-08-17') OR
      (bookings.start_date <= '2018-08-15' AND bookings.end_date >= '2018-08-17')) = 0) ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2):
     8:     onchange: "submitOnChange()", class: 'submit-on-change'  %>
     9:   <h1>Flats</h1>
    10: 
    11:   <%= render @flats %>
    12: 
    13:   <%= paginate @flats %>
    14: </div>
  
app/views/flats/index.html.erb:11:in `_app_views_flats_index_html_erb__166528417652111160_70215504741920'
Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-17&commit=Search" for 127.0.0.1 at 2018-08-15 16:42:52 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-17"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (5.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" LEFT OUTER JOIN "bookings" ON "bookings"."flat_id" = "flats"."id" GROUP BY flats.id HAVING (COUNT((bookings.end_date >= '2018-08-15' AND bookings.end_date <= '2018-08-17') OR
      (bookings.start_date >= '2018-08-15' AND bookings.start_date <= '2018-08-17') OR
      (bookings.start_date <= '2018-08-15' AND bookings.end_date >= '2018-08-17')) = 0) ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [4 times] (64.2ms)
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (154.1ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 534ms (Views: 479.6ms | ActiveRecord: 25.3ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-17&commit=Search" for 127.0.0.1 at 2018-08-15 17:20:17 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-17"}, "commit"=>"Search"}
Completed 500 Internal Server Error in 23ms (ActiveRecord: 0.0ms)


  
ActiveRecord::PreparedStatementInvalid (wrong number of bind variables (2 for 1) in: COUNT((bookings.end_date >= :start_date AND bookings.end_date <= :end_date) OR
      (bookings.start_date >= :start_date AND bookings.start_date <= :end_date) OR
      (bookings.start_date <= :start_date AND bookings.end_date >= :end_date)) = ?):
  
app/queries/flats_query.rb:17:in `filter'
app/controllers/flats_controller.rb:6:in `index'
Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-17&commit=Search" for 127.0.0.1 at 2018-08-15 17:20:49 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-17"}, "commit"=>"Search"}
Completed 500 Internal Server Error in 14ms (ActiveRecord: 0.0ms)


  
SyntaxError (/home/york/Документы/Projects/FlatBooking/app/queries/flats_query.rb:20: syntax error, unexpected ',', expecting =>
      { 0, start_date: start_date, end_...
         ^
/home/york/Документы/Projects/FlatBooking/app/queries/flats_query.rb:36: syntax error, unexpected end-of-input, expecting keyword_end):
  
app/queries/flats_query.rb:20: syntax error, unexpected ',', expecting =>
app/queries/flats_query.rb:36: syntax error, unexpected end-of-input, expecting keyword_end
app/controllers/flats_controller.rb:6:in `index'
Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-17&commit=Search" for 127.0.0.1 at 2018-08-15 17:21:16 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-17"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (7.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" LEFT OUTER JOIN "bookings" ON "bookings"."flat_id" = "flats"."id" GROUP BY flats.id HAVING (COUNT((bookings.end_date >= '2018-08-15' AND bookings.end_date <= '2018-08-17') OR
      (bookings.start_date >= '2018-08-15' AND bookings.start_date <= '2018-08-17') OR
      (bookings.start_date <= '2018-08-15' AND bookings.end_date >= '2018-08-17')) = 0) ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [4 times] (73.8ms)
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (172.2ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 584ms (Views: 531.3ms | ActiveRecord: 31.0ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-17&commit=Search" for 127.0.0.1 at 2018-08-15 17:35:24 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-17"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" LEFT OUTER JOIN "bookings" ON "bookings"."flat_id" = "flats"."id" GROUP BY flats.id HAVING (COUNT((bookings.end_date >= '2018-08-15' AND bookings.end_date <= '2018-08-17') OR
      (bookings.start_date >= '2018-08-15' AND bookings.start_date <= '2018-08-17') OR
      (bookings.start_date <= '2018-08-15' AND bookings.end_date >= '2018-08-17')) = 0) ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [4 times] (66.8ms)
  [1m[36mFlat Load (2.0ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (152.1ms)
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 620ms (Views: 574.2ms | ActiveRecord: 24.1ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-17&commit=Search" for 127.0.0.1 at 2018-08-15 17:35:27 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-17"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" LEFT OUTER JOIN "bookings" ON "bookings"."flat_id" = "flats"."id" GROUP BY flats.id HAVING (COUNT((bookings.end_date >= '2018-08-15' AND bookings.end_date <= '2018-08-17') OR
      (bookings.start_date >= '2018-08-15' AND bookings.start_date <= '2018-08-17') OR
      (bookings.start_date <= '2018-08-15' AND bookings.end_date >= '2018-08-17')) = 0) ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [4 times] (44.1ms)
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (69.4ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 497ms (Views: 485.8ms | ActiveRecord: 5.4ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-22&commit=Search" for 127.0.0.1 at 2018-08-15 17:35:34 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-22"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" LEFT OUTER JOIN "bookings" ON "bookings"."flat_id" = "flats"."id" GROUP BY flats.id HAVING (COUNT((bookings.end_date >= '2018-08-15' AND bookings.end_date <= '2018-08-22') OR
      (bookings.start_date >= '2018-08-15' AND bookings.start_date <= '2018-08-22') OR
      (bookings.start_date <= '2018-08-15' AND bookings.end_date >= '2018-08-22')) = 0) ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [4 times] (32.7ms)
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (58.7ms)
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 496ms (Views: 483.6ms | ActiveRecord: 6.4ms)


Started GET "/flats/new" for 127.0.0.1 at 2018-08-15 17:41:25 +0300
Processing by FlatsController#new as HTML
  [1m[36mUser Load (7.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering flats/new.html.erb within layouts/application
  Rendered flats/_form.html.erb (12.6ms)
  Rendered flats/new.html.erb within layouts/application (16.6ms)
Completed 200 OK in 295ms (Views: 238.9ms | ActiveRecord: 7.9ms)


Started GET "/users" for 127.0.0.1 at 2018-08-15 17:41:27 +0300
Processing by UsersController#index as HTML
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."vendor" = $1[0m  [["vendor", true]]
  ↳ app/views/users/index.html.erb:12
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."user_id" = $1[0m  [["user_id", 3]]
  ↳ app/views/users/index.html.erb:16
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/index.html.erb:16
  Rendered users/index.html.erb within layouts/application (22.7ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 244ms (Views: 239.8ms | ActiveRecord: 2.4ms)


Started GET "/secret" for 127.0.0.1 at 2018-08-15 17:41:31 +0300
Processing by UsersController#secret as HTML
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:13
  Rendering users/secret.html.erb within layouts/application
  [1m[35m (2.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3[0m  [["created_at", "2018-08-14 21:00:00"], ["created_at", "2018-08-15 20:59:59.999999"], ["vendor", true]]
  ↳ app/views/users/secret.html.erb:1
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."created_at" BETWEEN $1 AND $2 AND "users"."vendor" = $3[0m  [["created_at", "2018-08-14 21:00:00"], ["created_at", "2018-08-15 20:59:59.999999"], ["vendor", false]]
  ↳ app/views/users/secret.html.erb:1
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-14 21:00:00"], ["created_at", "2018-08-15 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:2
  [1m[35m (3.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-14 21:00:00"], ["created_at", "2018-08-15 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:2
  [1m[35mCACHE  (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-14 21:00:00"], ["created_at", "2018-08-15 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:3
  [1m[35mCACHE  (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-14 21:00:00"], ["created_at", "2018-08-15 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:9
  [1m[36mBooking Load (1.6ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2018-08-14 21:00:00"], ["created_at", "2018-08-15 20:59:59.999999"]]
  ↳ app/views/users/secret.html.erb:11
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/users/secret.html.erb:12
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/users/secret.html.erb:12
  Rendered users/secret.html.erb within layouts/application (74.6ms)
Completed 200 OK in 343ms (Views: 282.5ms | ActiveRecord: 40.0ms)


Started GET "/users" for 127.0.0.1 at 2018-08-15 17:41:33 +0300
Processing by UsersController#index as HTML
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (4.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."vendor" = $1[0m  [["vendor", true]]
  ↳ app/views/users/index.html.erb:12
  [1m[35m (2.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."user_id" = $1[0m  [["user_id", 3]]
  ↳ app/views/users/index.html.erb:16
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/index.html.erb:16
  Rendered users/index.html.erb within layouts/application (23.2ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 315ms (Views: 301.8ms | ActiveRecord: 8.8ms)


Started GET "/flats/new" for 127.0.0.1 at 2018-08-15 17:41:34 +0300
Processing by FlatsController#new as HTML
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  Rendering flats/new.html.erb within layouts/application
  Rendered flats/_form.html.erb (16.7ms)
  Rendered flats/new.html.erb within layouts/application (22.3ms)
Completed 200 OK in 341ms (Views: 329.6ms | ActiveRecord: 1.6ms)


Started GET "/" for 127.0.0.1 at 2018-08-15 17:41:34 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (3.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (2.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (74.8ms)
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (1.3ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (117.0ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 342ms (Views: 326.0ms | ActiveRecord: 10.9ms)


Started GET "/bookings" for 127.0.0.1 at 2018-08-15 17:41:46 +0300
Processing by BookingsController#index as HTML
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:6
  Rendering bookings/index.html.erb within layouts/application
  [1m[36mBooking Load (2.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/bookings/index.html.erb:4
  [1m[36mFlat Load (1.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:2
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:6
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:2
  [1m[36mCACHE User Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:6
  Rendered collection of bookings/_booking.html.erb [2 times] (32.8ms)
  Rendered bookings/index.html.erb within layouts/application (47.4ms)
Completed 200 OK in 327ms (Views: 311.1ms | ActiveRecord: 6.6ms)


Started GET "/bookings_on_my_flat" for 127.0.0.1 at 2018-08-15 17:41:55 +0300
Processing by BookingsController#vedor_booking as HTML
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:10
  Rendering bookings/vedor_booking.html.erb within layouts/application
  [1m[36mBooking Load (3.0ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" INNER JOIN "flats" ON "flats"."id" = "bookings"."flat_id" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/bookings/vedor_booking.html.erb:2
  [1m[36mFlat Load (1.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:2
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:6
  [1m[36mCACHE Flat Load (0.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:2
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:6
  [1m[36mFlat Load (1.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:2
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:6
  Rendered collection of bookings/_booking.html.erb [3 times] (43.0ms)
  Rendered bookings/vedor_booking.html.erb within layouts/application (56.7ms)
Completed 200 OK in 341ms (Views: 319.4ms | ActiveRecord: 10.4ms)


Started GET "/messages/new?recipient=1" for 127.0.0.1 at 2018-08-15 17:42:01 +0300
Processing by MessagesController#new as HTML
  Parameters: {"recipient"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:12
  Rendering messages/new.html.erb within layouts/application
  Rendered messages/_form.html.erb (6.9ms)
  Rendered messages/new.html.erb within layouts/application (9.3ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 261ms (Views: 227.4ms | ActiveRecord: 7.1ms)


Started POST "/messages" for 127.0.0.1 at 2018-08-15 17:42:53 +0300
Processing by MessagesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"T3O31tAQewLaTgRe1FN1CuxSgwk/u7OFfYVDQxrKAs0+kaMha3LPjf14jRFXlDpvE7UQLEFardQmLmTCgV4ZIg==", "message"=>{"recipient"=>"1", "body"=>"Can you pay cash instead credit card?"}, "commit"=>"Save"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:17
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (1.3ms)[0m  [1m[32mINSERT INTO "messages" ("user_id", "recipient", "body", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 1], ["recipient", 1], ["body", "Can you pay cash instead credit card?"], ["created_at", "2018-08-15 14:42:53.183849"], ["updated_at", "2018-08-15 14:42:53.183849"]]
  ↳ app/controllers/messages_controller.rb:19
  [1m[35m (2.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/messages_controller.rb:19
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:20
  Rendering message_mailer/mail_message.html.erb within layouts/mailer
  Rendered message_mailer/mail_message.html.erb within layouts/mailer (1.6ms)
  Rendering message_mailer/mail_message.text.erb within layouts/mailer
  Rendered message_mailer/mail_message.text.erb within layouts/mailer (0.3ms)
MessageMailer#mail_message: processed outbound mail in 40.4ms
Sent mail to tork@gmail.com (49.1ms)
Date: Wed, 15 Aug 2018 17:42:53 +0300
From: yorkqw@gmail.com
To: tork@gmail.com
Message-ID: <5b743bed5abb6_240d2ab7deef5a04919e3@york-HP-250-G5-Notebook-PC.mail>
Subject: Tenant Tork send you a message
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5b743bed5a00f_240d2ab7deef5a049184a";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5b743bed5a00f_240d2ab7deef5a049184a
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Can you pay cash instead credit card?


----==_mimepart_5b743bed5a00f_240d2ab7deef5a049184a
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <p>Can you pay cash instead credit card?</p>

  </body>
</html>

----==_mimepart_5b743bed5a00f_240d2ab7deef5a049184a--

Redirected to http://localhost:3000/
Completed 302 Found in 260ms (ActiveRecord: 7.3ms)


Started GET "/" for 127.0.0.1 at 2018-08-15 17:42:53 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (33.6ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (65.4ms)
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 670ms (Views: 662.6ms | ActiveRecord: 3.6ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2018-08-15 17:43:03 +0300
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"pU//qkL2a8DewsAxXVUkm7aft4MbvnUUC1mWvk4EsPwADQrKpLGEcUHgDXzz4bUPY0M2jn6Yk6dlzwbFNpztHg=="}
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (1.4ms)[0m  [1m[35mBEGIN[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 37ms (ActiveRecord: 3.4ms)


Started GET "/" for 127.0.0.1 at 2018-08-15 17:43:03 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (30.2ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (1.6ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (51.2ms)
Completed 200 OK in 531ms (Views: 520.4ms | ActiveRecord: 4.3ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2018-08-15 17:43:05 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (6.1ms)
  Rendered devise/sessions/new.html.erb within layouts/application (24.2ms)
Completed 200 OK in 320ms (Views: 317.2ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-08-15 17:43:13 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"g8oJ2zJW2p2UCTMuiE6MMEPLpwKyR4vFLZbOQRKRBAdAQI6+8f+LZmpEHpTTUW5i6n8RdQ4yNT8paE9uaWFZVA==", "user"=>{"email"=>"Pork@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "pork@gmail.com"], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (1.5ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = $1, "last_sign_in_at" = $2, "sign_in_count" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["current_sign_in_at", "2018-08-15 14:43:13.283023"], ["last_sign_in_at", "2018-08-15 09:55:30.803399"], ["sign_in_count", 9], ["updated_at", "2018-08-15 14:43:13.284150"], ["id", 2]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (3.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 202ms (ActiveRecord: 7.1ms)


Started GET "/" for 127.0.0.1 at 2018-08-15 17:43:13 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (29.3ms)
  [1m[35m (2.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (61.2ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 421ms (Views: 414.6ms | ActiveRecord: 4.8ms)


Started GET "/messages" for 127.0.0.1 at 2018-08-15 17:43:18 +0300
Processing by MessagesController#index as HTML
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:3
  Rendering messages/index.html.erb within layouts/application
  [1m[36mMessage Load (1.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient" = $1[0m  [["recipient", 2]]
  ↳ app/views/messages/index.html.erb:2
  Rendered messages/index.html.erb within layouts/application (6.4ms)
Completed 200 OK in 326ms (Views: 315.8ms | ActiveRecord: 2.6ms)


  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" LIMIT $1[0m  [["LIMIT", 11]]
Started DELETE "/users/sign_out" for 127.0.0.1 at 2018-08-15 17:47:06 +0300
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"vNeHktkpa6UMMecaczXL83wVXRp07pprapIbw8gA9ui7zFOdALM5WxpIxAO+OBkohRPBdeXHoK5AXWKBXPZIEw=="}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 8ms (ActiveRecord: 0.9ms)


Started GET "/" for 127.0.0.1 at 2018-08-15 17:47:06 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (43.9ms)
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (75.6ms)
Completed 200 OK in 480ms (Views: 474.2ms | ActiveRecord: 4.6ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2018-08-15 17:47:08 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.5ms)
  Rendered devise/sessions/new.html.erb within layouts/application (5.6ms)
Completed 200 OK in 264ms (Views: 262.4ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-08-15 17:47:18 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"jmsx+YVl0wvE15Sbwe4eYzLhI3q2ztSpwV1EQfTfyM/Yx3eyFFP4w+gnq2Jeo5xtwyoNLhc5SfnAf222LI1QPA==", "user"=>{"email"=>"Tork@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "tork@gmail.com"], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = $1, "last_sign_in_at" = $2, "sign_in_count" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["current_sign_in_at", "2018-08-15 14:47:18.452989"], ["last_sign_in_at", "2018-08-15 10:35:39.675837"], ["sign_in_count", 19], ["updated_at", "2018-08-15 14:47:18.453996"], ["id", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 176ms (ActiveRecord: 3.3ms)


Started GET "/" for 127.0.0.1 at 2018-08-15 17:47:18 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (34.4ms)
  [1m[35m (1.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (63.8ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 474ms (Views: 468.2ms | ActiveRecord: 4.6ms)


Started GET "/messages" for 127.0.0.1 at 2018-08-15 17:47:22 +0300
Processing by MessagesController#index as HTML
  [1m[36mUser Load (3.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:3
  Rendering messages/index.html.erb within layouts/application
  [1m[36mMessage Load (2.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient" = $1[0m  [["recipient", 1]]
  ↳ app/views/messages/index.html.erb:2
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/messages/index.html.erb:4
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/messages/index.html.erb:4
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/messages/index.html.erb:4
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/messages/index.html.erb:4
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/messages/index.html.erb:4
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/messages/index.html.erb:4
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/messages/index.html.erb:4
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/messages/index.html.erb:4
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/messages/index.html.erb:4
  Rendered messages/index.html.erb within layouts/application (72.7ms)
Completed 200 OK in 412ms (Views: 395.8ms | ActiveRecord: 7.4ms)


Started GET "/bookings_on_my_flat" for 127.0.0.1 at 2018-08-15 17:48:41 +0300
Processing by BookingsController#vedor_booking as HTML
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:10
  Rendering bookings/vedor_booking.html.erb within layouts/application
  [1m[36mBooking Load (2.7ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" INNER JOIN "flats" ON "flats"."id" = "bookings"."flat_id" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/bookings/vedor_booking.html.erb:2
  [1m[36mFlat Load (1.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:2
  [1m[36mUser Load (3.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:6
  [1m[36mCACHE Flat Load (0.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:2
  [1m[36mCACHE User Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:6
  [1m[36mFlat Load (1.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:2
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:6
  Rendered collection of bookings/_booking.html.erb [3 times] (51.2ms)
  Rendered bookings/vedor_booking.html.erb within layouts/application (64.6ms)
Completed 200 OK in 339ms (Views: 316.9ms | ActiveRecord: 11.4ms)


Started GET "/messages/new?recipient=1" for 127.0.0.1 at 2018-08-15 17:48:44 +0300
Processing by MessagesController#new as HTML
  Parameters: {"recipient"=>"1"}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:12
  Rendering messages/new.html.erb within layouts/application
  Rendered messages/_form.html.erb (7.2ms)
  Rendered messages/new.html.erb within layouts/application (10.6ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 308ms (Views: 296.8ms | ActiveRecord: 1.8ms)


Started GET "/bookings_on_my_flat" for 127.0.0.1 at 2018-08-15 17:50:25 +0300
Processing by BookingsController#vedor_booking as HTML
  [1m[36mUser Load (2.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:10
  Rendering bookings/vedor_booking.html.erb within layouts/application
  [1m[36mBooking Load (0.7ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" INNER JOIN "flats" ON "flats"."id" = "bookings"."flat_id" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/bookings/vedor_booking.html.erb:2
  [1m[36mFlat Load (1.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:2
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:6
  [1m[36mCACHE Flat Load (0.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:2
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:6
  [1m[36mFlat Load (1.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:2
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:6
  Rendered collection of bookings/_booking.html.erb [3 times] (32.7ms)
  Rendered bookings/vedor_booking.html.erb within layouts/application (38.5ms)
Completed 200 OK in 546ms (Views: 525.5ms | ActiveRecord: 9.5ms)


Started GET "/messages/new?recipient=2" for 127.0.0.1 at 2018-08-15 17:50:27 +0300
Processing by MessagesController#new as HTML
  Parameters: {"recipient"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:12
  Rendering messages/new.html.erb within layouts/application
  Rendered messages/_form.html.erb (4.8ms)
  Rendered messages/new.html.erb within layouts/application (6.3ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 342ms (Views: 333.6ms | ActiveRecord: 0.6ms)


Started POST "/messages" for 127.0.0.1 at 2018-08-15 17:51:07 +0300
Processing by MessagesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"5mm1hysgCKmFeX1j0TF1o50u+k4j8s1/CrkRj7drTVLQTJx37+Q4U+r4v5TpgVWBJYVmbJtpGcnLQjo1Yo8MLA==", "message"=>{"recipient"=>"2", "body"=>"Can you use credit card instead of cash?"}, "commit"=>"Save"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:17
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (1.3ms)[0m  [1m[32mINSERT INTO "messages" ("user_id", "recipient", "body", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 1], ["recipient", 2], ["body", "Can you use credit card instead of cash?"], ["created_at", "2018-08-15 14:51:07.827403"], ["updated_at", "2018-08-15 14:51:07.827403"]]
  ↳ app/controllers/messages_controller.rb:19
  [1m[35m (2.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/messages_controller.rb:19
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:20
  Rendering message_mailer/mail_message.html.erb within layouts/mailer
  Rendered message_mailer/mail_message.html.erb within layouts/mailer (1.4ms)
  Rendering message_mailer/mail_message.text.erb within layouts/mailer
  Rendered message_mailer/mail_message.text.erb within layouts/mailer (1.7ms)
MessageMailer#mail_message: processed outbound mail in 34.4ms
Sent mail to pork@gmail.com (75.3ms)
Date: Wed, 15 Aug 2018 17:51:07 +0300
From: yorkqw@gmail.com
To: pork@gmail.com
Message-ID: <5b743ddbd6f94_240d2ab7deef5b1c92110@york-HP-250-G5-Notebook-PC.mail>
Subject: Tenant Tork send you a message
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5b743ddbd494c_240d2ab7deef5b1c9208b";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5b743ddbd494c_240d2ab7deef5b1c9208b
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Can you use credit card instead of cash?


----==_mimepart_5b743ddbd494c_240d2ab7deef5b1c9208b
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <p>Can you use credit card instead of cash?</p>

  </body>
</html>

----==_mimepart_5b743ddbd494c_240d2ab7deef5b1c9208b--

Redirected to http://localhost:3000/
Completed 302 Found in 133ms (ActiveRecord: 7.1ms)


Started GET "/" for 127.0.0.1 at 2018-08-15 17:51:07 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (41.7ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (85.7ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 592ms (Views: 582.7ms | ActiveRecord: 5.0ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2018-08-15 17:51:38 +0300
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"x/AJXbu6pa3B90jk2dyF7ttvs15NQOi516UD4UZDkH/Shc3JTpNMCpGP7WlNOHuP5EXF0lWnCSpqmPx7od+1/w=="}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 11ms (ActiveRecord: 2.0ms)


Started GET "/" for 127.0.0.1 at 2018-08-15 17:51:38 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (39.5ms)
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (64.1ms)
Completed 200 OK in 498ms (Views: 488.7ms | ActiveRecord: 3.3ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2018-08-15 17:51:40 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.0ms)
  Rendered devise/sessions/new.html.erb within layouts/application (6.5ms)
Completed 200 OK in 299ms (Views: 298.0ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-08-15 17:51:47 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"ICBR1DjRW4G+32MfJKZ3391JlGzR2IHSNUrHkRSULh9NKVLLXhpe2ee1VdGua9N7Hj8NTsbk1xNGHkiCux8WzQ==", "user"=>{"email"=>"Pork@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "pork@gmail.com"], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = $1, "last_sign_in_at" = $2, "sign_in_count" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["current_sign_in_at", "2018-08-15 14:51:47.785383"], ["last_sign_in_at", "2018-08-15 14:43:13.283023"], ["sign_in_count", 10], ["updated_at", "2018-08-15 14:51:47.786516"], ["id", 2]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (2.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 207ms (ActiveRecord: 4.3ms)


Started GET "/" for 127.0.0.1 at 2018-08-15 17:51:47 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (38.4ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (64.0ms)
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 459ms (Views: 452.8ms | ActiveRecord: 5.1ms)


Started GET "/messages" for 127.0.0.1 at 2018-08-15 17:51:55 +0300
Processing by MessagesController#index as HTML
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:3
  Rendering messages/index.html.erb within layouts/application
  [1m[36mMessage Load (1.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient" = $1[0m  [["recipient", 2]]
  ↳ app/views/messages/index.html.erb:2
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/messages/index.html.erb:4
  Rendered messages/index.html.erb within layouts/application (13.6ms)
Completed 200 OK in 296ms (Views: 283.8ms | ActiveRecord: 3.7ms)


Started GET "/" for 127.0.0.1 at 2018-08-15 17:52:10 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (5.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (4.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (65.2ms)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (1.0ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (105.9ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 409ms (Views: 389.3ms | ActiveRecord: 14.1ms)


  [1m[36mMessage Load (1.0ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMessage Destroy (0.6ms)[0m  [1m[31mDELETE FROM "messages" WHERE "messages"."id" = $1[0m  [["id", 1]]
  [1m[35m (2.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMessage Destroy (0.4ms)[0m  [1m[31mDELETE FROM "messages" WHERE "messages"."id" = $1[0m  [["id", 2]]
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMessage Destroy (0.4ms)[0m  [1m[31mDELETE FROM "messages" WHERE "messages"."id" = $1[0m  [["id", 3]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMessage Destroy (0.4ms)[0m  [1m[31mDELETE FROM "messages" WHERE "messages"."id" = $1[0m  [["id", 4]]
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMessage Destroy (0.3ms)[0m  [1m[31mDELETE FROM "messages" WHERE "messages"."id" = $1[0m  [["id", 5]]
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMessage Destroy (0.2ms)[0m  [1m[31mDELETE FROM "messages" WHERE "messages"."id" = $1[0m  [["id", 6]]
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMessage Destroy (0.3ms)[0m  [1m[31mDELETE FROM "messages" WHERE "messages"."id" = $1[0m  [["id", 7]]
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMessage Destroy (0.4ms)[0m  [1m[31mDELETE FROM "messages" WHERE "messages"."id" = $1[0m  [["id", 8]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMessage Destroy (0.6ms)[0m  [1m[31mDELETE FROM "messages" WHERE "messages"."id" = $1[0m  [["id", 9]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMessage Destroy (0.4ms)[0m  [1m[31mDELETE FROM "messages" WHERE "messages"."id" = $1[0m  [["id", 10]]
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMessage Load (0.9ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" LIMIT $1[0m  [["LIMIT", 11]]
Started GET "/messages" for 127.0.0.1 at 2018-08-15 17:52:59 +0300
Processing by MessagesController#index as HTML
  [1m[36mUser Load (4.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:3
  Rendering messages/index.html.erb within layouts/application
  [1m[36mMessage Load (1.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient" = $1[0m  [["recipient", 2]]
  ↳ app/views/messages/index.html.erb:2
  Rendered messages/index.html.erb within layouts/application (6.1ms)
Completed 200 OK in 348ms (Views: 333.9ms | ActiveRecord: 5.3ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2018-08-15 17:53:01 +0300
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"obneI3ovBBVQ/i0oo5qyo3dwpfXz1Jd/ormKJS5EFMu4jb+49q1tn9kMM+Z6bvutDFkdbKSc4TdxYk+AHP8mhg=="}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 11ms (ActiveRecord: 1.4ms)


Started GET "/" for 127.0.0.1 at 2018-08-15 17:53:01 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (21.8ms)
  [1m[35m (1.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (46.6ms)
Completed 200 OK in 440ms (Views: 427.8ms | ActiveRecord: 3.6ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2018-08-15 17:53:03 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (4.2ms)
  Rendered devise/sessions/new.html.erb within layouts/application (15.2ms)
Completed 200 OK in 389ms (Views: 385.6ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-08-15 17:53:11 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"+UR4JwfiXNRQm/XEjQ/RhWPpJcTaJwXZPdhe/nar10Kl8iiYIHuI7z56rOP7DWWCed5zyhGDucsoK3jOiARezw==", "user"=>{"email"=>"Tork@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "tork@gmail.com"], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = $1, "last_sign_in_at" = $2, "sign_in_count" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["current_sign_in_at", "2018-08-15 14:53:11.677874"], ["last_sign_in_at", "2018-08-15 14:47:18.452989"], ["sign_in_count", 20], ["updated_at", "2018-08-15 14:53:11.678948"], ["id", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 189ms (ActiveRecord: 2.9ms)


Started GET "/" for 127.0.0.1 at 2018-08-15 17:53:11 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (3.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (37.4ms)
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (84.8ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 474ms (Views: 465.9ms | ActiveRecord: 7.0ms)


Started GET "/bookings_on_my_flat" for 127.0.0.1 at 2018-08-15 17:53:14 +0300
Processing by BookingsController#vedor_booking as HTML
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:10
  Rendering bookings/vedor_booking.html.erb within layouts/application
  [1m[36mBooking Load (2.7ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" INNER JOIN "flats" ON "flats"."id" = "bookings"."flat_id" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/bookings/vedor_booking.html.erb:2
  [1m[36mFlat Load (0.9ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:2
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:6
  [1m[36mCACHE Flat Load (0.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:2
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:6
  [1m[36mFlat Load (0.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:2
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:6
  Rendered collection of bookings/_booking.html.erb [3 times] (46.0ms)
  Rendered bookings/vedor_booking.html.erb within layouts/application (59.9ms)
Completed 200 OK in 371ms (Views: 354.4ms | ActiveRecord: 8.5ms)


Started GET "/messages/new?recipient=2" for 127.0.0.1 at 2018-08-15 17:53:16 +0300
Processing by MessagesController#new as HTML
  Parameters: {"recipient"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:12
  Rendering messages/new.html.erb within layouts/application
  Rendered messages/_form.html.erb (2.1ms)
  Rendered messages/new.html.erb within layouts/application (3.4ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 306ms (Views: 303.4ms | ActiveRecord: 0.7ms)


Started POST "/messages" for 127.0.0.1 at 2018-08-15 17:53:57 +0300
Processing by MessagesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"hf1pm8Qmq2TBtqr3W6zVJq0QgoozfkMxaxP5e3iRVvFiiY6uAoU08xzSsVY47wc2m9ydDf7zlAs7oxVG3uqLGw==", "message"=>{"recipient"=>"2", "body"=>"Can you use cash instead credit card?"}, "commit"=>"Send"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:17
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (0.7ms)[0m  [1m[32mINSERT INTO "messages" ("user_id", "recipient", "body", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 1], ["recipient", 2], ["body", "Can you use cash instead credit card?"], ["created_at", "2018-08-15 14:53:57.430626"], ["updated_at", "2018-08-15 14:53:57.430626"]]
  ↳ app/controllers/messages_controller.rb:19
  [1m[35m (2.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/messages_controller.rb:19
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:20
  Rendering message_mailer/mail_message.html.erb within layouts/mailer
  Rendered message_mailer/mail_message.html.erb within layouts/mailer (1.8ms)
  Rendering message_mailer/mail_message.text.erb within layouts/mailer
  Rendered message_mailer/mail_message.text.erb within layouts/mailer (2.9ms)
MessageMailer#mail_message: processed outbound mail in 41.4ms
Sent mail to pork@gmail.com (69.9ms)
Date: Wed, 15 Aug 2018 17:53:57 +0300
From: yorkqw@gmail.com
To: pork@gmail.com
Message-ID: <5b743e857638e_240d2ab7deef5a90923de@york-HP-250-G5-Notebook-PC.mail>
Subject: Tenant Tork send you a message
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5b743e8572b13_240d2ab7deef5a90922c0";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5b743e8572b13_240d2ab7deef5a90922c0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Can you use cash instead credit card?


----==_mimepart_5b743e8572b13_240d2ab7deef5a90922c0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <p>Can you use cash instead credit card?</p>

  </body>
</html>

----==_mimepart_5b743e8572b13_240d2ab7deef5a90922c0--

Redirected to http://localhost:3000/
Completed 302 Found in 132ms (ActiveRecord: 4.3ms)


Started GET "/" for 127.0.0.1 at 2018-08-15 17:53:57 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (6.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (52.3ms)
  [1m[35m (1.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (92.7ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 573ms (Views: 555.5ms | ActiveRecord: 11.4ms)


Started GET "/messages" for 127.0.0.1 at 2018-08-15 17:54:27 +0300
Processing by MessagesController#index as HTML
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:3
  Rendering messages/index.html.erb within layouts/application
  [1m[36mMessage Load (2.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient" = $1[0m  [["recipient", 1]]
  ↳ app/views/messages/index.html.erb:2
  Rendered messages/index.html.erb within layouts/application (7.1ms)
Completed 200 OK in 354ms (Views: 340.7ms | ActiveRecord: 4.2ms)


Started GET "/users/tork" for 127.0.0.1 at 2018-08-15 17:54:30 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"tork"}
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."slug" = $1 LIMIT $2[0m  [["slug", "tork"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:9
  Rendering users/show.html.erb within layouts/application
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:17
  [1m[36mFlat Load (0.9ms)[0m  [1m[34mSELECT "flats".* FROM "flats" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:51
  Rendered collection of flats/_flat.html.erb [3 times] (31.7ms)
  Rendered users/show.html.erb within layouts/application (49.0ms)
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 447ms (Views: 429.2ms | ActiveRecord: 5.0ms)


Started GET "/messages" for 127.0.0.1 at 2018-08-15 17:54:39 +0300
Processing by MessagesController#index as HTML
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:3
  Rendering messages/index.html.erb within layouts/application
  [1m[36mMessage Load (1.0ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient" = $1[0m  [["recipient", 1]]
  ↳ app/views/messages/index.html.erb:2
  Rendered messages/index.html.erb within layouts/application (7.2ms)
Completed 200 OK in 319ms (Views: 305.8ms | ActiveRecord: 2.5ms)


Started GET "/bookings_on_my_flat" for 127.0.0.1 at 2018-08-15 17:58:24 +0300
Processing by BookingsController#vedor_booking as HTML
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:10
  Rendering bookings/vedor_booking.html.erb within layouts/application
  [1m[36mBooking Load (4.9ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" INNER JOIN "flats" ON "flats"."id" = "bookings"."flat_id" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/bookings/vedor_booking.html.erb:2
  [1m[36mFlat Load (1.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:2
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:6
  [1m[36mCACHE Flat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:2
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:6
  [1m[36mFlat Load (1.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:2
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:6
  Rendered collection of bookings/_booking.html.erb [3 times] (53.9ms)
  Rendered bookings/vedor_booking.html.erb within layouts/application (71.2ms)
Completed 200 OK in 352ms (Views: 327.3ms | ActiveRecord: 11.5ms)


Started GET "/bookings" for 127.0.0.1 at 2018-08-15 17:59:03 +0300
Processing by BookingsController#index as HTML
  [1m[36mUser Load (2.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:6
  Rendering bookings/index.html.erb within layouts/application
  [1m[36mBooking Load (2.4ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/bookings/index.html.erb:4
  [1m[36mFlat Load (1.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:2
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:6
  [1m[36mCACHE Flat Load (0.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:2
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:6
  Rendered collection of bookings/_booking.html.erb [2 times] (33.9ms)
  Rendered bookings/index.html.erb within layouts/application (42.7ms)
Completed 200 OK in 337ms (Views: 320.4ms | ActiveRecord: 7.4ms)


Started GET "/bookings_on_my_flat" for 127.0.0.1 at 2018-08-15 17:59:10 +0300
Processing by BookingsController#vedor_booking as HTML
  [1m[36mUser Load (3.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:10
  Rendering bookings/vedor_booking.html.erb within layouts/application
  [1m[36mBooking Load (3.0ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" INNER JOIN "flats" ON "flats"."id" = "bookings"."flat_id" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/bookings/vedor_booking.html.erb:2
  [1m[36mFlat Load (4.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:2
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:6
  [1m[36mCACHE Flat Load (0.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:2
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:6
  [1m[36mFlat Load (0.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:2
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:6
  Rendered collection of bookings/_booking.html.erb [3 times] (44.6ms)
  Rendered bookings/vedor_booking.html.erb within layouts/application (57.9ms)
Completed 200 OK in 369ms (Views: 345.0ms | ActiveRecord: 13.8ms)


Started GET "/bookings_on_my_flat" for 127.0.0.1 at 2018-08-15 17:59:44 +0300
Processing by BookingsController#vedor_booking as HTML
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:10
  Rendering bookings/vedor_booking.html.erb within layouts/application
  [1m[36mBooking Load (1.9ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" INNER JOIN "flats" ON "flats"."id" = "bookings"."flat_id" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/bookings/vedor_booking.html.erb:2
  [1m[36mFlat Load (4.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:2
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:6
  [1m[36mCACHE Flat Load (0.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:2
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:6
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:2
  [1m[36mUser Load (4.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:6
  Rendered collection of bookings/_booking.html.erb [3 times] (41.2ms)
  Rendered bookings/vedor_booking.html.erb within layouts/application (58.6ms)
Completed 200 OK in 659ms (Views: 637.3ms | ActiveRecord: 13.3ms)


Started GET "/bookings_on_my_flat" for 127.0.0.1 at 2018-08-15 18:01:11 +0300
Processing by BookingsController#vedor_booking as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:10
  Rendering bookings/vedor_booking.html.erb within layouts/application
  [1m[36mBooking Load (0.8ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" INNER JOIN "flats" ON "flats"."id" = "bookings"."flat_id" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/bookings/vedor_booking.html.erb:2
  [1m[36mFlat Load (1.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:2
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:6
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:2
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:6
  [1m[36mFlat Load (1.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:2
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:6
  Rendered collection of bookings/_booking.html.erb [3 times] (42.5ms)
  Rendered bookings/vedor_booking.html.erb within layouts/application (49.6ms)
Completed 200 OK in 589ms (Views: 577.6ms | ActiveRecord: 5.5ms)


Started GET "/bookings_on_my_flat" for 127.0.0.1 at 2018-08-15 18:01:14 +0300
Processing by BookingsController#vedor_booking as HTML
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:10
  Rendering bookings/vedor_booking.html.erb within layouts/application
  [1m[36mBooking Load (1.5ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" INNER JOIN "flats" ON "flats"."id" = "bookings"."flat_id" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/bookings/vedor_booking.html.erb:2
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:2
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:6
  [1m[36mCACHE Flat Load (0.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:2
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:6
  [1m[36mFlat Load (1.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:2
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:6
  Rendered collection of bookings/_booking.html.erb [3 times] (35.1ms)
  Rendered bookings/vedor_booking.html.erb within layouts/application (46.2ms)
Completed 200 OK in 515ms (Views: 502.2ms | ActiveRecord: 6.0ms)


Started GET "/" for 127.0.0.1 at 2018-08-15 18:01:16 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.9ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (52.7ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (90.0ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 381ms (Views: 369.4ms | ActiveRecord: 7.0ms)


Started GET "/bookings_on_my_flat" for 127.0.0.1 at 2018-08-15 18:01:19 +0300
Processing by BookingsController#vedor_booking as HTML
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:10
  Rendering bookings/vedor_booking.html.erb within layouts/application
  [1m[36mBooking Load (1.9ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" INNER JOIN "flats" ON "flats"."id" = "bookings"."flat_id" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/bookings/vedor_booking.html.erb:2
  [1m[36mFlat Load (1.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:2
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:6
  [1m[36mCACHE Flat Load (0.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:2
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:6
  [1m[36mFlat Load (0.9ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:2
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:6
  Rendered collection of bookings/_booking.html.erb [3 times] (43.8ms)
  Rendered bookings/vedor_booking.html.erb within layouts/application (55.7ms)
Completed 200 OK in 317ms (Views: 298.6ms | ActiveRecord: 9.1ms)


Started GET "/bookings_on_my_flat" for 127.0.0.1 at 2018-08-15 18:01:29 +0300
Processing by BookingsController#vedor_booking as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:10
  Rendering bookings/vedor_booking.html.erb within layouts/application
  [1m[36mBooking Load (2.4ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" INNER JOIN "flats" ON "flats"."id" = "bookings"."flat_id" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/bookings/vedor_booking.html.erb:2
  [1m[36mFlat Load (1.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:2
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:6
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:2
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:6
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:2
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:6
  Rendered collection of bookings/_booking.html.erb [3 times] (26.0ms)
  Rendered bookings/vedor_booking.html.erb within layouts/application (35.5ms)
Completed 200 OK in 585ms (Views: 574.3ms | ActiveRecord: 5.4ms)


Started GET "/bookings" for 127.0.0.1 at 2018-08-15 18:01:43 +0300
Processing by BookingsController#index as HTML
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:6
  Rendering bookings/index.html.erb within layouts/application
  [1m[36mBooking Load (1.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/bookings/index.html.erb:4
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:2
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:6
  [1m[36mCACHE Flat Load (0.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:2
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:6
  Rendered collection of bookings/_booking.html.erb [2 times] (23.0ms)
  Rendered bookings/index.html.erb within layouts/application (32.7ms)
Completed 200 OK in 328ms (Views: 314.4ms | ActiveRecord: 4.4ms)


Started GET "/" for 127.0.0.1 at 2018-08-15 18:01:51 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (42.0ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (82.8ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 332ms (Views: 318.9ms | ActiveRecord: 6.9ms)


Started GET "/bookings_on_my_flat" for 127.0.0.1 at 2018-08-15 18:03:52 +0300
Processing by BookingsController#vedor_booking as HTML
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:10
  Rendering bookings/vedor_booking.html.erb within layouts/application
  [1m[36mBooking Load (1.9ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" INNER JOIN "flats" ON "flats"."id" = "bookings"."flat_id" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/bookings/vedor_booking.html.erb:2
  [1m[36mFlat Load (0.9ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:2
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:6
  [1m[36mCACHE Flat Load (0.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:2
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:6
  [1m[36mFlat Load (0.9ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:2
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:6
  Rendered collection of bookings/_booking.html.erb [3 times] (40.1ms)
  Rendered bookings/vedor_booking.html.erb within layouts/application (51.0ms)
Completed 200 OK in 441ms (Views: 420.6ms | ActiveRecord: 6.9ms)


Started GET "/bookings_on_my_flat" for 127.0.0.1 at 2018-08-15 18:04:49 +0300
Processing by BookingsController#vedor_booking as HTML
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:10
  Rendering bookings/vedor_booking.html.erb within layouts/application
  [1m[36mBooking Load (1.4ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" INNER JOIN "flats" ON "flats"."id" = "bookings"."flat_id" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/bookings/vedor_booking.html.erb:2
  [1m[36mFlat Load (1.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:2
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:6
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:2
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:6
  [1m[36mFlat Load (1.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:2
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:6
  Rendered collection of bookings/_booking.html.erb [3 times] (48.2ms)
  Rendered bookings/vedor_booking.html.erb within layouts/application (58.2ms)
Completed 200 OK in 604ms (Views: 587.7ms | ActiveRecord: 8.0ms)


Started GET "/" for 127.0.0.1 at 2018-08-15 18:12:59 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (45.1ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (85.7ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 350ms (Views: 331.4ms | ActiveRecord: 13.3ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-15 18:13:06 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (1.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:59
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (43.0ms)
  Rendered flats/show.html.erb within layouts/application (77.5ms)
Completed 200 OK in 352ms (Views: 329.4ms | ActiveRecord: 8.5ms)


Started GET "/flats/1.json?start=2018-07-29&end=2018-09-09&_=1534345490118" for 127.0.0.1 at 2018-08-15 18:13:07 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534345490118", "id"=>"1"}
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:59
  Rendering flats/show.json.jbuilder
  Rendered flats/show.json.jbuilder (0.7ms)
Completed 200 OK in 8ms (Views: 4.8ms | ActiveRecord: 0.4ms)


Started POST "/flats/1/bookings" for 127.0.0.1 at 2018-08-15 18:13:19 +0300
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"ITZv0FpwlV6mzunf/huwhz+ILpTaoadAnJQRsdMRujFKYM9Uu1/i+uj65VsoZyU0ectULSIMo7C6ndGsscOg9w==", "booking"=>{"start_date"=>"2018-08-24", "end_date"=>"2018-08-22"}, "commit"=>"Book this flat", "flat_id"=>"1"}
  [1m[36mUser Load (2.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/bookings_controller.rb:25
  [1m[36mFlat Load (1.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:25
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/bookings_controller.rb:25
Redirected to http://localhost:3000/flats/1
Completed 302 Found in 49ms (ActiveRecord: 5.0ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-15 18:13:19 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:59
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (8.4ms)
  Rendered flats/show.html.erb within layouts/application (20.0ms)
Completed 200 OK in 416ms (Views: 411.2ms | ActiveRecord: 1.8ms)


Started GET "/flats/1.json?start=2018-07-29&end=2018-09-09&_=1534346000311" for 127.0.0.1 at 2018-08-15 18:13:20 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534346000311", "id"=>"1"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:59
  Rendering flats/show.json.jbuilder
  Rendered flats/show.json.jbuilder (1.0ms)
Completed 200 OK in 9ms (Views: 6.6ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2018-08-15 18:15:13 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (3.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (39.7ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (72.6ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 336ms (Views: 323.0ms | ActiveRecord: 7.1ms)


Started GET "/?page=2" for 127.0.0.1 at 2018-08-15 18:15:19 +0300
Processing by FlatsController#index as HTML
  Parameters: {"page"=>"2"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (3.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 5]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (5.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [2 times] (35.9ms)
  [1m[36mFlat Load (2.7ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (78.2ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 342ms (Views: 325.0ms | ActiveRecord: 12.0ms)


Started GET "/" for 127.0.0.1 at 2018-08-15 18:15:21 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (30.7ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (55.7ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 445ms (Views: 433.2ms | ActiveRecord: 5.3ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-17&commit=Search" for 127.0.0.1 at 2018-08-15 18:19:50 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-17"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" LEFT OUTER JOIN "bookings" ON "bookings"."flat_id" = "flats"."id" GROUP BY flats.id HAVING (COUNT((bookings.end_date >= '2018-08-15' AND bookings.end_date <= '2018-08-17') OR
      (bookings.start_date >= '2018-08-15' AND bookings.start_date <= '2018-08-17') OR
      (bookings.start_date <= '2018-08-15' AND bookings.end_date >= '2018-08-17')) = 0) ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [4 times] (71.5ms)
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (139.6ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 559ms (Views: 535.0ms | ActiveRecord: 15.6ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-17&commit=Search" for 127.0.0.1 at 2018-08-15 18:24:22 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-17"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" LEFT OUTER JOIN "bookings" ON "bookings"."flat_id" = "flats"."id" GROUP BY flats.id HAVING (COUNT((bookings.end_date >= '2018-08-15' AND bookings.end_date <= '2018-08-17') OR
      (bookings.start_date >= '2018-08-15' AND bookings.start_date <= '2018-08-17') OR
      (bookings.start_date <= '2018-08-15' AND bookings.end_date >= '2018-08-17')) = 0) ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [4 times] (73.3ms)
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (175.4ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 639ms (Views: 586.3ms | ActiveRecord: 16.3ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-17&commit=Search" for 127.0.0.1 at 2018-08-15 18:25:53 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-17"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" LEFT OUTER JOIN "bookings" ON "bookings"."flat_id" = "flats"."id" GROUP BY flats.id HAVING (COUNT((bookings.end_date >= '2018-08-15' AND bookings.end_date <= '2018-08-17') OR
      (bookings.start_date >= '2018-08-15' AND bookings.start_date <= '2018-08-17') OR
      (bookings.start_date <= '2018-08-15' AND bookings.end_date >= '2018-08-17')) = 0) ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [4 times] (44.5ms)
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (62.1ms)
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 577ms (Views: 567.1ms | ActiveRecord: 5.8ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=popularity&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-17" for 127.0.0.1 at 2018-08-15 18:25:56 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"popularity", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-17"}}
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "flats.bookings.count ASC NULLS LAST". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:Flat> at /home/york/Документы/Projects/FlatBooking/app/models/flat.rb:21)
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" LEFT OUTER JOIN "bookings" ON "bookings"."flat_id" = "flats"."id" GROUP BY flats.id HAVING (COUNT((bookings.end_date >= '2018-08-15' AND bookings.end_date <= '2018-08-17') OR
      (bookings.start_date >= '2018-08-15' AND bookings.start_date <= '2018-08-17') OR
      (bookings.start_date <= '2018-08-15' AND bookings.end_date >= '2018-08-17')) = 0) ORDER BY flats.bookings.count ASC NULLS LAST LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  Rendered flats/index.html.erb within layouts/application (11.1ms)
Completed 500 Internal Server Error in 20ms (ActiveRecord: 2.8ms)


  
ActionView::Template::Error (PG::UndefinedTable: ОШИБКА:  в элементе предложения FROM неверная ссылка на таблицу "bookings"
LINE 3: ...bookings.end_date >= '2018-08-17')) = 0) ORDER BY flats.book...
                                                             ^
HINT:  Таблица "bookings" присутствует в запросе, но сослаться на неё из этой части запроса нельзя.
: SELECT  "flats".* FROM "flats" LEFT OUTER JOIN "bookings" ON "bookings"."flat_id" = "flats"."id" GROUP BY flats.id HAVING (COUNT((bookings.end_date >= '2018-08-15' AND bookings.end_date <= '2018-08-17') OR
      (bookings.start_date >= '2018-08-15' AND bookings.start_date <= '2018-08-17') OR
      (bookings.start_date <= '2018-08-15' AND bookings.end_date >= '2018-08-17')) = 0) ORDER BY flats.bookings.count ASC NULLS LAST LIMIT $1 OFFSET $2):
     8:     onchange: "submitOnChange()", class: 'submit-on-change'  %>
     9:   <h1>Flats</h1>
    10: 
    11:   <%= render @flats %>
    12: 
    13:   <%= paginate @flats %>
    14: </div>
  
app/views/flats/index.html.erb:11:in `_app_views_flats_index_html_erb__166528417652111160_70215372086480'
Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=&filter%5Bend_date%5D=&commit=Search" for 127.0.0.1 at 2018-08-15 18:26:21 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"", "end_date"=>""}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (3.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (63.5ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (2.0ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (90.0ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 527ms (Views: 514.5ms | ActiveRecord: 8.2ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=popularity&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=&filter%5Bend_date%5D=" for 127.0.0.1 at 2018-08-15 18:26:24 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"popularity", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"", "end_date"=>""}}
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "flats.bookings.count ASC NULLS LAST". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:Flat> at /home/york/Документы/Projects/FlatBooking/app/models/flat.rb:21)
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (4.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" LEFT OUTER JOIN "bookings" ON "bookings"."flat_id" = "flats"."id" ORDER BY flats.bookings.count ASC NULLS LAST LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  Rendered flats/index.html.erb within layouts/application (14.1ms)
Completed 500 Internal Server Error in 30ms (ActiveRecord: 4.0ms)


  
ActionView::Template::Error (PG::UndefinedTable: ОШИБКА:  в элементе предложения FROM неверная ссылка на таблицу "bookings"
LINE 1: ..." ON "bookings"."flat_id" = "flats"."id" ORDER BY flats.book...
                                                             ^
HINT:  Таблица "bookings" присутствует в запросе, но сослаться на неё из этой части запроса нельзя.
: SELECT  "flats".* FROM "flats" LEFT OUTER JOIN "bookings" ON "bookings"."flat_id" = "flats"."id" ORDER BY flats.bookings.count ASC NULLS LAST LIMIT $1 OFFSET $2):
     8:     onchange: "submitOnChange()", class: 'submit-on-change'  %>
     9:   <h1>Flats</h1>
    10: 
    11:   <%= render @flats %>
    12: 
    13:   <%= paginate @flats %>
    14: </div>
  
app/views/flats/index.html.erb:11:in `_app_views_flats_index_html_erb__166528417652111160_70215443206620'
Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=popularity&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=&filter%5Bend_date%5D=" for 127.0.0.1 at 2018-08-15 18:26:46 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"popularity", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"", "end_date"=>""}}
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "flats.bookings.count ASC NULLS LAST". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:Flat> at /home/york/Документы/Projects/FlatBooking/app/models/flat.rb:21)
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.bookings.count ASC NULLS LAST LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  Rendered flats/index.html.erb within layouts/application (10.6ms)
Completed 500 Internal Server Error in 22ms (ActiveRecord: 1.4ms)


  
ActionView::Template::Error (PG::UndefinedTable: ОШИБКА:  таблица "bookings" отсутствует в предложении FROM
LINE 1: SELECT  "flats".* FROM "flats" ORDER BY flats.bookings.count...
                                                ^
: SELECT  "flats".* FROM "flats" ORDER BY flats.bookings.count ASC NULLS LAST LIMIT $1 OFFSET $2):
     8:     onchange: "submitOnChange()", class: 'submit-on-change'  %>
     9:   <h1>Flats</h1>
    10: 
    11:   <%= render @flats %>
    12: 
    13:   <%= paginate @flats %>
    14: </div>
  
app/views/flats/index.html.erb:11:in `_app_views_flats_index_html_erb__166528417652111160_70215520806960'
Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=popularity&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=&filter%5Bend_date%5D=" for 127.0.0.1 at 2018-08-15 18:27:02 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"popularity", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"", "end_date"=>""}}
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "flats.bookings.count ASC NULLS LAST". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:Flat> at /home/york/Документы/Projects/FlatBooking/app/models/flat.rb:21)
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (5.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" INNER JOIN "bookings" ON "bookings"."flat_id" = "flats"."id" ORDER BY flats.bookings.count ASC NULLS LAST LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  Rendered flats/index.html.erb within layouts/application (40.2ms)
Completed 500 Internal Server Error in 82ms (ActiveRecord: 12.4ms)


  
ActionView::Template::Error (PG::UndefinedTable: ОШИБКА:  в элементе предложения FROM неверная ссылка на таблицу "bookings"
LINE 1: ..." ON "bookings"."flat_id" = "flats"."id" ORDER BY flats.book...
                                                             ^
HINT:  Таблица "bookings" присутствует в запросе, но сослаться на неё из этой части запроса нельзя.
: SELECT  "flats".* FROM "flats" INNER JOIN "bookings" ON "bookings"."flat_id" = "flats"."id" ORDER BY flats.bookings.count ASC NULLS LAST LIMIT $1 OFFSET $2):
     8:     onchange: "submitOnChange()", class: 'submit-on-change'  %>
     9:   <h1>Flats</h1>
    10: 
    11:   <%= render @flats %>
    12: 
    13:   <%= paginate @flats %>
    14: </div>
  
app/views/flats/index.html.erb:11:in `_app_views_flats_index_html_erb__166528417652111160_70215375376780'
Started GET "/" for 127.0.0.1 at 2018-08-15 18:57:01 +0300
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (3.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (233.4ms)
  [1m[35m (1.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (270.6ms)
Completed 200 OK in 594ms (Views: 560.9ms | ActiveRecord: 14.0ms)


Started GET "/" for 127.0.0.1 at 2018-08-15 19:01:12 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (33.6ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (66.7ms)
Completed 200 OK in 292ms (Views: 275.5ms | ActiveRecord: 8.7ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-17&commit=Search" for 127.0.0.1 at 2018-08-15 19:01:17 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-17"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  Rendered flats/index.html.erb within layouts/application (17.7ms)
Completed 500 Internal Server Error in 31ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (Unsupported argument type: Hash. Construct an Arel node instead.):
     8:     onchange: "submitOnChange()", class: 'submit-on-change'  %>
     9:   <h1>Flats</h1>
    10: 
    11:   <%= render @flats %>
    12: 
    13:   <%= paginate @flats %>
    14: </div>
  
app/views/flats/index.html.erb:11:in `_app_views_flats_index_html_erb__1862257905842205020_70015740387400'
Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-17&commit=Search" for 127.0.0.1 at 2018-08-15 19:03:50 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-17"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  Rendered flats/index.html.erb within layouts/application (20.1ms)
Completed 500 Internal Server Error in 29ms (ActiveRecord: 3.0ms)


  
ActionView::Template::Error (Unsupported argument type: Hash. Construct an Arel node instead.):
     8:     onchange: "submitOnChange()", class: 'submit-on-change'  %>
     9:   <h1>Flats</h1>
    10: 
    11:   <%= render @flats %>
    12: 
    13:   <%= paginate @flats %>
    14: </div>
  
app/views/flats/index.html.erb:11:in `_app_views_flats_index_html_erb__1862257905842205020_47446086070640'
Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-17&commit=Search" for 127.0.0.1 at 2018-08-15 19:03:58 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-17"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  Rendered flats/index.html.erb within layouts/application (8.5ms)
Completed 500 Internal Server Error in 29ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (Unsupported argument type: Hash. Construct an Arel node instead.):
     8:     onchange: "submitOnChange()", class: 'submit-on-change'  %>
     9:   <h1>Flats</h1>
    10: 
    11:   <%= render @flats %>
    12: 
    13:   <%= paginate @flats %>
    14: </div>
  
app/views/flats/index.html.erb:11:in `_app_views_flats_index_html_erb__1862257905842205020_70015725021640'
Started GET "/" for 127.0.0.1 at 2018-08-17 12:40:59 +0300
  [1m[35m (1.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (6.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (431.4ms)
  [1m[35m (1.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (485.7ms)
Completed 200 OK in 1190ms (Views: 1121.8ms | ActiveRecord: 22.9ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-17&commit=Search" for 127.0.0.1 at 2018-08-17 12:44:02 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-17"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  Rendered flats/index.html.erb within layouts/application (23.1ms)
Completed 500 Internal Server Error in 43ms (ActiveRecord: 4.7ms)


  
ActionView::Template::Error (Unsupported argument type: Hash. Construct an Arel node instead.):
     8:     onchange: "submitOnChange()", class: 'submit-on-change'  %>
     9:   <h1>Flats</h1>
    10: 
    11:   <%= render @flats %>
    12: 
    13:   <%= paginate @flats %>
    14: </div>
  
app/views/flats/index.html.erb:11:in `_app_views_flats_index_html_erb___2339965217995604843_69830816336320'
Started GET "/" for 127.0.0.1 at 2018-08-17 12:44:16 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (49.8ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (92.1ms)
Completed 200 OK in 372ms (Views: 359.6ms | ActiveRecord: 6.8ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-17&commit=Search" for 127.0.0.1 at 2018-08-17 12:44:21 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-17"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  Rendered flats/index.html.erb within layouts/application (11.3ms)
Completed 500 Internal Server Error in 24ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (Unsupported argument type: Hash. Construct an Arel node instead.):
     8:     onchange: "submitOnChange()", class: 'submit-on-change'  %>
     9:   <h1>Flats</h1>
    10: 
    11:   <%= render @flats %>
    12: 
    13:   <%= paginate @flats %>
    14: </div>
  
app/views/flats/index.html.erb:11:in `_app_views_flats_index_html_erb___2339965217995604843_69830805205300'
Started GET "/" for 127.0.0.1 at 2018-08-17 14:01:03 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (97.5ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (164.8ms)
Completed 200 OK in 495ms (Views: 447.8ms | ActiveRecord: 28.7ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-17&commit=Search" for 127.0.0.1 at 2018-08-17 14:01:09 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-17"}, "commit"=>"Search"}
  [1m[36mBooking Load (4.5ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE (((end_date >= '2018-08-15' AND end_date <= '2018-08-17') OR (start_date >= '2018-08-15' AND start_date <= '2018-08-17')) OR (start_date <= '2018-08-15' AND end_date >= '2018-08-17')) LIMIT $1[0m  [["LIMIT", 11]]
  ↳ app/queries/flats_query.rb:31
Completed 500 Internal Server Error in 414080ms (ActiveRecord: 10.2ms)


  
SystemExit (exit):
  
(byebug):1:in `exit'
(byebug):1:in `filter'
app/queries/flats_query.rb:31:in `filter'
app/controllers/flats_controller.rb:6:in `index'
Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-17&commit=Search" for 127.0.0.1 at 2018-08-17 14:08:12 +0300
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-17"}, "commit"=>"Search"}
  [1m[36mBooking Load (2.6ms)[0m  [1m[34mSELECT  "flats_id" FROM "bookings" WHERE (((end_date >= '2018-08-15' AND end_date <= '2018-08-17') OR (start_date >= '2018-08-15' AND start_date <= '2018-08-17')) OR (start_date <= '2018-08-15' AND end_date >= '2018-08-17')) LIMIT $1[0m  [["LIMIT", 11]]
  ↳ app/queries/flats_query.rb:36
  [1m[36mBooking Load (2.7ms)[0m  [1m[34mSELECT  "flats_id" FROM "bookings" WHERE (((end_date >= '2018-08-15' AND end_date <= '2018-08-17') OR (start_date >= '2018-08-15' AND start_date <= '2018-08-17')) OR (start_date <= '2018-08-15' AND end_date >= '2018-08-17')) LIMIT $1[0m  [["LIMIT", 11]]
  ↳ (byebug):1
Completed 500 Internal Server Error in 71201ms (ActiveRecord: 11.3ms)


  
SystemExit (exit):
  
(byebug):1:in `exit'
(byebug):1:in `filter'
app/queries/flats_query.rb:36:in `filter'
app/controllers/flats_controller.rb:6:in `index'
Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-17&commit=Search" for 127.0.0.1 at 2018-08-17 14:10:38 +0300
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-17"}, "commit"=>"Search"}
  [1m[36mBooking Load (2.6ms)[0m  [1m[34mSELECT  booking.flats_id FROM "bookings" WHERE (((end_date >= '2018-08-15' AND end_date <= '2018-08-17') OR (start_date >= '2018-08-15' AND start_date <= '2018-08-17')) OR (start_date <= '2018-08-15' AND end_date >= '2018-08-17')) LIMIT $1[0m  [["LIMIT", 11]]
  ↳ app/queries/flats_query.rb:36
  [1m[36mBooking Load (1.3ms)[0m  [1m[34mSELECT booking.flats_id FROM "bookings" WHERE (((end_date >= '2018-08-15' AND end_date <= '2018-08-17') OR (start_date >= '2018-08-15' AND start_date <= '2018-08-17')) OR (start_date <= '2018-08-15' AND end_date >= '2018-08-17'))[0m
  ↳ (byebug):1
Completed 500 Internal Server Error in 103462ms (ActiveRecord: 8.6ms)


  
SystemExit (exit):
  
(byebug):1:in `exit'
(byebug):1:in `filter'
app/queries/flats_query.rb:36:in `filter'
app/controllers/flats_controller.rb:6:in `index'
Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-17&commit=Search" for 127.0.0.1 at 2018-08-17 14:12:30 +0300
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-17"}, "commit"=>"Search"}
  [1m[36mBooking Load (2.2ms)[0m  [1m[34mSELECT  "bookings"."flat_id" FROM "bookings" WHERE (((end_date >= '2018-08-15' AND end_date <= '2018-08-17') OR (start_date >= '2018-08-15' AND start_date <= '2018-08-17')) OR (start_date <= '2018-08-15' AND end_date >= '2018-08-17')) LIMIT $1[0m  [["LIMIT", 11]]
  ↳ (byebug):1
Completed 500 Internal Server Error in 308817ms (ActiveRecord: 14.3ms)


  
SystemExit (exit):
  
(byebug):1:in `exit'
(byebug):1:in `filter'
app/queries/flats_query.rb:36:in `filter'
app/controllers/flats_controller.rb:6:in `index'
Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-17&commit=Search" for 127.0.0.1 at 2018-08-17 14:17:47 +0300
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-17"}, "commit"=>"Search"}
  [1m[36mFlat Load (3.4ms)[0m  [1m[34mSELECT "flats".* FROM "flats" WHERE (id NOT IN SELECT "bookings"."flat_id" FROM "bookings" WHERE (((end_date >= '2018-08-15' AND end_date <= '2018-08-17') OR (start_date >= '2018-08-15' AND start_date <= '2018-08-17')) OR (start_date <= '2018-08-15' AND end_date >= '2018-08-17')))[0m
  ↳ (byebug):1
Completed 500 Internal Server Error in 73122ms (ActiveRecord: 7.8ms)


  
SystemExit (exit):
  
(byebug):1:in `exit'
(byebug):1:in `filter'
app/queries/flats_query.rb:39:in `filter'
app/controllers/flats_controller.rb:6:in `index'
Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-17&commit=Search" for 127.0.0.1 at 2018-08-17 14:20:23 +0300
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-17"}, "commit"=>"Search"}
  [1m[36mBooking Load (1.9ms)[0m  [1m[34mSELECT "bookings"."flat_id" FROM "bookings" WHERE (((end_date >= '2018-08-15' AND end_date <= '2018-08-17') OR (start_date >= '2018-08-15' AND start_date <= '2018-08-17')) OR (start_date <= '2018-08-15' AND end_date >= '2018-08-17'))[0m
  ↳ (byebug):1
  [1m[36mFlat Load (2.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE (id NOT IN (SELECT "bookings"."flat_id" FROM "bookings" WHERE (((end_date >= '2018-08-15' AND end_date <= '2018-08-17') OR (start_date >= '2018-08-15' AND start_date <= '2018-08-17')) OR (start_date <= '2018-08-15' AND end_date >= '2018-08-17')))) LIMIT $1[0m  [["LIMIT", 11]]
  ↳ app/queries/flats_query.rb:39
  [1m[35m (3.6ms)[0m  [1m[34mSELECT "flats"."id" FROM "flats" WHERE (id NOT IN (SELECT "bookings"."flat_id" FROM "bookings" WHERE (((end_date >= '2018-08-15' AND end_date <= '2018-08-17') OR (start_date >= '2018-08-15' AND start_date <= '2018-08-17')) OR (start_date <= '2018-08-15' AND end_date >= '2018-08-17'))))[0m
  ↳ (byebug):1
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.9ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE (id NOT IN (SELECT "bookings"."flat_id" FROM "bookings" WHERE (((end_date >= '2018-08-15' AND end_date <= '2018-08-17') OR (start_date >= '2018-08-15' AND start_date <= '2018-08-17')) OR (start_date <= '2018-08-15' AND end_date >= '2018-08-17')))) ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (421.9ms)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE (id NOT IN (SELECT "bookings"."flat_id" FROM "bookings" WHERE (((end_date >= '2018-08-15' AND end_date <= '2018-08-17') OR (start_date >= '2018-08-15' AND start_date <= '2018-08-17')) OR (start_date <= '2018-08-15' AND end_date >= '2018-08-17'))))[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (447.7ms)
Completed 200 OK in 141400ms (Views: 1064.9ms | ActiveRecord: 37.5ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-17&commit=Search" for 127.0.0.1 at 2018-08-17 14:23:11 +0300
  [1m[35m (2.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-17"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE (id NOT IN (SELECT "bookings"."flat_id" FROM "bookings" WHERE (((end_date >= '2018-08-15' AND end_date <= '2018-08-17') OR (start_date >= '2018-08-15' AND start_date <= '2018-08-17')) OR (start_date <= '2018-08-15' AND end_date >= '2018-08-17')))) ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (481.0ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE (id NOT IN (SELECT "bookings"."flat_id" FROM "bookings" WHERE (((end_date >= '2018-08-15' AND end_date <= '2018-08-17') OR (start_date >= '2018-08-15' AND start_date <= '2018-08-17')) OR (start_date <= '2018-08-15' AND end_date >= '2018-08-17'))))[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (549.9ms)
Completed 200 OK in 886ms (Views: 823.9ms | ActiveRecord: 26.6ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-17 14:23:16 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (1.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:59
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered bookings/_form.html.erb (42.8ms)
  Rendered flats/show.html.erb within layouts/application (66.9ms)
Completed 200 OK in 295ms (Views: 275.1ms | ActiveRecord: 6.2ms)


Started GET "/flats/1.json?start=2018-07-29&end=2018-09-09&_=1534504992231" for 127.0.0.1 at 2018-08-17 14:23:17 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534504992231", "id"=>"1"}
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:59
  Rendering flats/show.json.jbuilder
  Rendered flats/show.json.jbuilder (0.7ms)
Completed 200 OK in 12ms (Views: 8.7ms | ActiveRecord: 0.4ms)


Started GET "/" for 127.0.0.1 at 2018-08-17 14:23:20 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (5.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (61.3ms)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (101.8ms)
Completed 200 OK in 362ms (Views: 342.8ms | ActiveRecord: 11.0ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-20&commit=Search" for 127.0.0.1 at 2018-08-17 14:23:28 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-20"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (3.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE (id NOT IN (SELECT "bookings"."flat_id" FROM "bookings" WHERE (((end_date >= '2018-08-15' AND end_date <= '2018-08-20') OR (start_date >= '2018-08-15' AND start_date <= '2018-08-20')) OR (start_date <= '2018-08-15' AND end_date >= '2018-08-20')))) ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (2.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (47.4ms)
  [1m[35m (1.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE (id NOT IN (SELECT "bookings"."flat_id" FROM "bookings" WHERE (((end_date >= '2018-08-15' AND end_date <= '2018-08-20') OR (start_date >= '2018-08-15' AND start_date <= '2018-08-20')) OR (start_date <= '2018-08-15' AND end_date >= '2018-08-20'))))[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (74.2ms)
Completed 200 OK in 412ms (Views: 390.7ms | ActiveRecord: 10.1ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=&filter%5Bend_date%5D=&commit=Search" for 127.0.0.1 at 2018-08-17 14:23:41 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"", "end_date"=>""}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (47.1ms)
  [1m[35m (3.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (2.2ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (106.0ms)
Completed 200 OK in 464ms (Views: 452.1ms | ActiveRecord: 9.8ms)


Started GET "/flats/2" for 127.0.0.1 at 2018-08-17 14:23:44 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:59
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered bookings/_form.html.erb (2.8ms)
  Rendered flats/show.html.erb within layouts/application (7.4ms)
Completed 200 OK in 246ms (Views: 242.7ms | ActiveRecord: 0.7ms)


Started GET "/flats/2.json?start=2018-07-29&end=2018-09-09&_=1534505022427" for 127.0.0.1 at 2018-08-17 14:23:44 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534505022427", "id"=>"2"}
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:59
  Rendering flats/show.json.jbuilder
  Rendered flats/show.json.jbuilder (0.3ms)
Completed 200 OK in 6ms (Views: 3.2ms | ActiveRecord: 0.6ms)


Started GET "/?filter%5Bcategory%5D=created_at&filter%5Bcity%5D=&filter%5Bdirection%5D=ASC&filter%5Bend_date%5D=&filter%5Bname%5D=&filter%5Bstart_date%5D=&filter%5Bvendor%5D=&page=2" for 127.0.0.1 at 2018-08-17 14:23:50 +0300
Processing by FlatsController#index as HTML
  Parameters: {"filter"=>{"category"=>"created_at", "city"=>"", "direction"=>"ASC", "end_date"=>"", "name"=>"", "start_date"=>"", "vendor"=>""}, "page"=>"2"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 5]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [2 times] (22.7ms)
  [1m[36mFlat Load (2.7ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (76.2ms)
Completed 200 OK in 369ms (Views: 358.5ms | ActiveRecord: 6.3ms)


  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" LIMIT $1[0m  [["LIMIT", 11]]
Started GET "/" for 127.0.0.1 at 2018-08-17 14:25:06 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (45.0ms)
  [1m[35m (1.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (82.4ms)
Completed 200 OK in 336ms (Views: 326.9ms | ActiveRecord: 4.4ms)


Started GET "/flats/4" for 127.0.0.1 at 2018-08-17 14:25:08 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mFlat Load (1.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:59
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered bookings/_form.html.erb (8.4ms)
  Rendered flats/show.html.erb within layouts/application (28.9ms)
Completed 200 OK in 308ms (Views: 292.3ms | ActiveRecord: 3.3ms)


Started GET "/flats/4.json?start=2018-07-29&end=2018-09-09&_=1534505022428" for 127.0.0.1 at 2018-08-17 14:25:08 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534505022428", "id"=>"4"}
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:59
  Rendering flats/show.json.jbuilder
  Rendered flats/show.json.jbuilder (0.6ms)
Completed 200 OK in 7ms (Views: 4.5ms | ActiveRecord: 0.4ms)


  [1m[35m (0.9ms)[0m  [1m[34mSELECT "bookings"."flat_id" FROM "bookings"[0m
Started GET "/" for 127.0.0.1 at 2018-08-17 14:25:45 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (33.6ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (61.4ms)
Completed 200 OK in 346ms (Views: 339.1ms | ActiveRecord: 3.0ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-08-17 14:25:51 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (1.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:59
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered bookings/_form.html.erb (9.2ms)
  Rendered flats/show.html.erb within layouts/application (32.4ms)
Completed 200 OK in 338ms (Views: 328.3ms | ActiveRecord: 2.7ms)


Started GET "/flats/3.json?start=2018-07-29&end=2018-09-09&_=1534505022429" for 127.0.0.1 at 2018-08-17 14:25:52 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534505022429", "id"=>"3"}
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:59
  Rendering flats/show.json.jbuilder
  Rendered flats/show.json.jbuilder (0.5ms)
Completed 200 OK in 5ms (Views: 3.3ms | ActiveRecord: 0.4ms)


Started GET "/" for 127.0.0.1 at 2018-08-17 14:25:56 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (3.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (2.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (75.0ms)
  [1m[35m (1.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (115.9ms)
Completed 200 OK in 428ms (Views: 412.1ms | ActiveRecord: 9.9ms)


Started GET "/?page=2" for 127.0.0.1 at 2018-08-17 14:25:58 +0300
Processing by FlatsController#index as HTML
  Parameters: {"page"=>"2"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 5]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [2 times] (39.9ms)
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (89.5ms)
Completed 200 OK in 381ms (Views: 371.0ms | ActiveRecord: 3.6ms)


Started GET "/" for 127.0.0.1 at 2018-08-17 14:26:01 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (57.6ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (101.3ms)
Completed 200 OK in 399ms (Views: 388.6ms | ActiveRecord: 5.1ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-20&commit=Search" for 127.0.0.1 at 2018-08-17 14:26:08 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-20"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE (id NOT IN (SELECT "bookings"."flat_id" FROM "bookings" WHERE (((end_date >= '2018-08-15' AND end_date <= '2018-08-20') OR (start_date >= '2018-08-15' AND start_date <= '2018-08-20')) OR (start_date <= '2018-08-15' AND end_date >= '2018-08-20')))) ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (43.1ms)
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE (id NOT IN (SELECT "bookings"."flat_id" FROM "bookings" WHERE (((end_date >= '2018-08-15' AND end_date <= '2018-08-20') OR (start_date >= '2018-08-15' AND start_date <= '2018-08-20')) OR (start_date <= '2018-08-15' AND end_date >= '2018-08-20'))))[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (1.7ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (64.1ms)
Completed 200 OK in 467ms (Views: 457.1ms | ActiveRecord: 4.7ms)


Started GET "/" for 127.0.0.1 at 2018-08-17 14:26:13 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (48.4ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (1.7ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (94.6ms)
Completed 200 OK in 342ms (Views: 332.6ms | ActiveRecord: 5.8ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-17&commit=Search" for 127.0.0.1 at 2018-08-17 14:30:59 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-17"}, "commit"=>"Search"}
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" LIMIT $1[0m  [["LIMIT", 11]]
  ↳ /home/york/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:8
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" LIMIT $1[0m  [["LIMIT", 11]]
  ↳ /home/york/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:4
Completed 500 Internal Server Error in 94ms (ActiveRecord: 0.0ms)


  
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" LIMIT $1[0m  [["LIMIT", 11]]
  ↳ /home/york/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:8
NameError (undefined local variable or method `start_date' for #<FlatsQuery:0x000055a5f8239198>):
  
app/queries/flats_query.rb:40:in `reserved_date'
app/queries/flats_query.rb:32:in `filter'
app/controllers/flats_controller.rb:6:in `index'
Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-17&commit=Search" for 127.0.0.1 at 2018-08-17 14:31:54 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-17"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (3.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE (id NOT IN (SELECT "bookings"."flat_id" FROM "bookings" WHERE (((end_date >= '2018-08-15' AND end_date <= '2018-08-17') OR (start_date >= '2018-08-15' AND start_date <= '2018-08-17')) OR (start_date <= '2018-08-15' AND end_date >= '2018-08-17')))) ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (79.3ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE (id NOT IN (SELECT "bookings"."flat_id" FROM "bookings" WHERE (((end_date >= '2018-08-15' AND end_date <= '2018-08-17') OR (start_date >= '2018-08-15' AND start_date <= '2018-08-17')) OR (start_date <= '2018-08-15' AND end_date >= '2018-08-17'))))[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (175.0ms)
Completed 200 OK in 569ms (Views: 527.4ms | ActiveRecord: 16.4ms)


Started GET "/?filter%5Bcategory%5D=created_at&filter%5Bcity%5D=&filter%5Bdirection%5D=ASC&filter%5Bend_date%5D=2018-08-17&filter%5Bname%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bvendor%5D=&page=2" for 127.0.0.1 at 2018-08-17 14:32:01 +0300
Processing by FlatsController#index as HTML
  Parameters: {"filter"=>{"category"=>"created_at", "city"=>"", "direction"=>"ASC", "end_date"=>"2018-08-17", "name"=>"", "start_date"=>"2018-08-15", "vendor"=>""}, "page"=>"2"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (5.9ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE (id NOT IN (SELECT "bookings"."flat_id" FROM "bookings" WHERE (((end_date >= '2018-08-15' AND end_date <= '2018-08-17') OR (start_date >= '2018-08-15' AND start_date <= '2018-08-17')) OR (start_date <= '2018-08-15' AND end_date >= '2018-08-17')))) ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 5]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [1 times] (14.5ms)
  [1m[36mFlat Load (2.1ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (55.5ms)
Completed 200 OK in 280ms (Views: 266.7ms | ActiveRecord: 8.9ms)


Started GET "/?filter%5Bcategory%5D=created_at&filter%5Bcity%5D=&filter%5Bdirection%5D=ASC&filter%5Bend_date%5D=2018-08-17&filter%5Bname%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bvendor%5D=" for 127.0.0.1 at 2018-08-17 14:32:03 +0300
Processing by FlatsController#index as HTML
  Parameters: {"filter"=>{"category"=>"created_at", "city"=>"", "direction"=>"ASC", "end_date"=>"2018-08-17", "name"=>"", "start_date"=>"2018-08-15", "vendor"=>""}}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE (id NOT IN (SELECT "bookings"."flat_id" FROM "bookings" WHERE (((end_date >= '2018-08-15' AND end_date <= '2018-08-17') OR (start_date >= '2018-08-15' AND start_date <= '2018-08-17')) OR (start_date <= '2018-08-15' AND end_date >= '2018-08-17')))) ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (2.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (51.2ms)
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE (id NOT IN (SELECT "bookings"."flat_id" FROM "bookings" WHERE (((end_date >= '2018-08-15' AND end_date <= '2018-08-17') OR (start_date >= '2018-08-15' AND start_date <= '2018-08-17')) OR (start_date <= '2018-08-15' AND end_date >= '2018-08-17'))))[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.9ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (96.2ms)
Completed 200 OK in 378ms (Views: 361.0ms | ActiveRecord: 7.4ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-20&commit=Search" for 127.0.0.1 at 2018-08-17 14:32:06 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-20"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE (id NOT IN (SELECT "bookings"."flat_id" FROM "bookings" WHERE (((end_date >= '2018-08-15' AND end_date <= '2018-08-20') OR (start_date >= '2018-08-15' AND start_date <= '2018-08-20')) OR (start_date <= '2018-08-15' AND end_date >= '2018-08-20')))) ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (60.2ms)
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE (id NOT IN (SELECT "bookings"."flat_id" FROM "bookings" WHERE (((end_date >= '2018-08-15' AND end_date <= '2018-08-20') OR (start_date >= '2018-08-15' AND start_date <= '2018-08-20')) OR (start_date <= '2018-08-15' AND end_date >= '2018-08-20'))))[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (1.8ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (87.1ms)
Completed 200 OK in 442ms (Views: 427.7ms | ActiveRecord: 7.4ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-30&commit=Search" for 127.0.0.1 at 2018-08-17 14:32:12 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-30"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE (id NOT IN (SELECT "bookings"."flat_id" FROM "bookings" WHERE (((end_date >= '2018-08-15' AND end_date <= '2018-08-30') OR (start_date >= '2018-08-15' AND start_date <= '2018-08-30')) OR (start_date <= '2018-08-15' AND end_date >= '2018-08-30')))) ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [4 times] (45.2ms)
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (62.7ms)
Completed 200 OK in 468ms (Views: 457.6ms | ActiveRecord: 4.2ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=&filter%5Bend_date%5D=&commit=Search" for 127.0.0.1 at 2018-08-17 14:45:44 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"", "end_date"=>""}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (89.7ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (2.4ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (157.3ms)
Completed 200 OK in 555ms (Views: 524.1ms | ActiveRecord: 20.4ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-17 14:45:46 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (1.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:59
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered bookings/_form.html.erb (37.2ms)
  Rendered flats/show.html.erb within layouts/application (53.9ms)
Completed 200 OK in 423ms (Views: 404.9ms | ActiveRecord: 8.1ms)


Started GET "/flats/1.json?start=2018-07-29&end=2018-09-09&_=1534506344952" for 127.0.0.1 at 2018-08-17 14:45:47 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534506344952", "id"=>"1"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:59
  Rendering flats/show.json.jbuilder
  Rendered flats/show.json.jbuilder (0.8ms)
Completed 200 OK in 8ms (Views: 5.5ms | ActiveRecord: 0.3ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2018-08-17 14:45:55 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.8ms)
  Rendered devise/sessions/new.html.erb within layouts/application (19.2ms)
Completed 200 OK in 273ms (Views: 269.8ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-08-17 14:46:02 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"425G2+3xVEX737NSdZkOt+3OSKYnS5bBNeioAtNaw9n/oBr1KWBj395s1OWh9liUxLZXKVZtWPGer1+Wa6amYw==", "user"=>{"email"=>"Pork@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (2.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "pork@gmail.com"], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (1.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = $1, "last_sign_in_at" = $2, "sign_in_count" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["current_sign_in_at", "2018-08-17 11:46:02.306890"], ["last_sign_in_at", "2018-08-15 14:51:47.785383"], ["sign_in_count", 11], ["updated_at", "2018-08-17 11:46:02.308228"], ["id", 2]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 186ms (ActiveRecord: 5.0ms)


Started GET "/" for 127.0.0.1 at 2018-08-17 14:46:02 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (31.4ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (65.6ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 446ms (Views: 434.3ms | ActiveRecord: 5.5ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-17 14:46:04 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (2.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:59
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (5.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (19.1ms)
  Rendered flats/show.html.erb within layouts/application (50.9ms)
Completed 200 OK in 346ms (Views: 328.7ms | ActiveRecord: 9.5ms)


Started GET "/flats/1.json?start=2018-07-29&end=2018-09-09&_=1534506362925" for 127.0.0.1 at 2018-08-17 14:46:05 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534506362925", "id"=>"1"}
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:59
  Rendering flats/show.json.jbuilder
  Rendered flats/show.json.jbuilder (0.5ms)
Completed 200 OK in 6ms (Views: 4.0ms | ActiveRecord: 0.4ms)


Started POST "/flats/1/bookings" for 127.0.0.1 at 2018-08-17 14:46:17 +0300
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"elIAAeq97W5X0Xar9k4zHUPHtpq+ArDZDHfoVaSMBfGQQ18lY7OT9J/bJizGjJn87W9RQ/99DiwBKvEyuMPpbQ==", "booking"=>{"notice"=>"", "start_date"=>"2018-08-18", "end_date"=>"2018-08-19"}, "commit"=>"Book this flat", "flat_id"=>"1"}
  [1m[36mUser Load (2.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/bookings_controller.rb:25
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:25
  [1m[36mBooking Load (1.5ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 11]]
  ↳ app/queries/flats_query.rb:53
  [1m[35m (2.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE (("bookings"."flat_id" = $1 AND (end_date >= '2018-08-18' AND end_date <= '2018-08-19') OR (start_date >= '2018-08-18' AND start_date <= '2018-08-19')) OR (start_date <= '2018-08-18' AND end_date >= '2018-08-19'))[0m  [["flat_id", 1]]
  ↳ (byebug):1
  [1m[35m (2.6ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/bookings_controller.rb:25
Completed 500 Internal Server Error in 50917ms (ActiveRecord: 9.9ms)


  
SystemExit (exit):
  
(byebug):1:in `exit'
(byebug):1:in `is_date_reserved?'
app/queries/flats_query.rb:53:in `is_date_reserved?'
app/validators/booking_validator.rb:15:in `validate'
app/controllers/bookings_controller.rb:25:in `create'
Started GET "/" for 127.0.0.1 at 2018-08-17 14:47:39 +0300
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (207.0ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (251.8ms)
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 841ms (Views: 797.2ms | ActiveRecord: 12.9ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-17 14:47:47 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:59
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (38.0ms)
  Rendered flats/show.html.erb within layouts/application (53.2ms)
Completed 200 OK in 299ms (Views: 285.7ms | ActiveRecord: 6.0ms)


Started GET "/flats/1.json?start=2018-07-29&end=2018-09-09&_=1534506460823" for 127.0.0.1 at 2018-08-17 14:47:47 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534506460823", "id"=>"1"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:59
  Rendering flats/show.json.jbuilder
  Rendered flats/show.json.jbuilder (0.5ms)
Completed 200 OK in 5ms (Views: 3.2ms | ActiveRecord: 0.3ms)


Started POST "/flats/1/bookings" for 127.0.0.1 at 2018-08-17 14:47:58 +0300
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"/oBekOEOqEI49RQuz22mC33+I0xF737nbgka+W3Cx0YUkQG0aADW2PD/RKn/rwzq01bElQSQwBJjVAOecY0r2g==", "booking"=>{"notice"=>"", "start_date"=>"2018-08-18", "end_date"=>"2018-08-19"}, "commit"=>"Book this flat", "flat_id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/bookings_controller.rb:25
  [1m[36mFlat Load (1.9ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:25
  [1m[35m (2.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE (("bookings"."flat_id" = $1 AND (end_date >= '2018-08-18' AND end_date <= '2018-08-19') OR (start_date >= '2018-08-18' AND start_date <= '2018-08-19')) OR (start_date <= '2018-08-18' AND end_date >= '2018-08-19'))[0m  [["flat_id", 1]]
  ↳ app/queries/flats_query.rb:53
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/bookings_controller.rb:25
Redirected to http://localhost:3000/flats/1
Completed 302 Found in 41ms (ActiveRecord: 5.0ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-17 14:47:58 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:59
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (17.0ms)
  Rendered flats/show.html.erb within layouts/application (37.4ms)
Completed 200 OK in 422ms (Views: 410.4ms | ActiveRecord: 4.5ms)


Started GET "/flats/1.json?start=2018-07-29&end=2018-09-09&_=1534506479070" for 127.0.0.1 at 2018-08-17 14:47:59 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534506479070", "id"=>"1"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:59
  Rendering flats/show.json.jbuilder
  Rendered flats/show.json.jbuilder (0.5ms)
Completed 200 OK in 7ms (Views: 3.3ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2018-08-17 14:57:59 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (27.6ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (66.2ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 309ms (Views: 291.0ms | ActiveRecord: 13.0ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-17 14:58:03 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (1.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:59
  [1m[36mBooking Load (0.6ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (11.0ms)
  Rendered flats/show.html.erb within layouts/application (32.8ms)
Completed 200 OK in 367ms (Views: 288.7ms | ActiveRecord: 13.5ms)


Started GET "/flats/undefined.json?start=2018-07-29&end=2018-09-09&_=1534506479071" for 127.0.0.1 at 2018-08-17 14:58:04 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534506479071", "id"=>"undefined"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:59
Completed 404 Not Found in 4ms (ActiveRecord: 0.3ms)


  
ActiveRecord::RecordNotFound (Couldn't find Flat with 'id'=undefined):
  
app/controllers/flats_controller.rb:59:in `set_flat'
Started GET "/flats/1" for 127.0.0.1 at 2018-08-17 15:03:11 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.9ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:59
  [1m[36mBooking Load (0.4ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
Completed 500 Internal Server Error in 26757ms (ActiveRecord: 17.4ms)


  
SystemExit (exit):
  
(byebug):1:in `exit'
(byebug):1:in `block (2 levels) in reserved_date_array'
app/queries/flats_query.rb:66:in `block (2 levels) in reserved_date_array'
app/queries/flats_query.rb:63:in `block in reserved_date_array'
app/queries/flats_query.rb:62:in `reserved_date_array'
app/controllers/flats_controller.rb:11:in `show'
Started GET "/flats/1" for 127.0.0.1 at 2018-08-17 15:04:17 +0300
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:59
  [1m[36mBooking Load (0.8ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
Completed 500 Internal Server Error in 89667ms (ActiveRecord: 11.1ms)


  
SystemExit (exit):
  
(byebug):1:in `exit'
(byebug):1:in `reserved_date_array'
app/queries/flats_query.rb:68:in `reserved_date_array'
app/controllers/flats_controller.rb:11:in `show'
Started GET "/flats/1" for 127.0.0.1 at 2018-08-17 15:06:00 +0300
  [1m[35m (3.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (1.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:60
  [1m[36mBooking Load (0.4ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
Completed 500 Internal Server Error in 95763ms (ActiveRecord: 12.3ms)


  
Started GET "/flats/1" for 127.0.0.1 at 2018-08-17 15:07:36 +0300
SystemExit (exit):
  
(byebug):1:in `exit'
(byebug):1:in `show'
app/controllers/flats_controller.rb:13:in `show'
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (16.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:60
  [1m[36mBooking Load (17.6ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
Completed 500 Internal Server Error in 7623ms (ActiveRecord: 35.6ms)


  
SystemExit (exit):
  
(byebug):1:in `exit'
(byebug):1:in `show'
app/controllers/flats_controller.rb:13:in `show'
Started GET "/flats/1" for 127.0.0.1 at 2018-08-17 15:07:53 +0300
  [1m[35m (1.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:59
  [1m[36mBooking Load (1.2ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (9.7ms)
  Rendered flats/show.html.erb within layouts/application (364.7ms)
Completed 200 OK in 1188ms (Views: 1065.0ms | ActiveRecord: 27.1ms)


Started GET "/flats/1.json?start=2018-07-29&end=2018-09-09&_=1534507675444" for 127.0.0.1 at 2018-08-17 15:07:55 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534507675444", "id"=>"1"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:59
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
  Rendering flats/show.json.jbuilder
  Rendered flats/show.json.jbuilder (0.8ms)
Completed 200 OK in 15ms (Views: 10.2ms | ActiveRecord: 0.6ms)


  [1m[35m (0.6ms)[0m  [1m[34mSELECT "bookings"."flat_id" FROM "bookings"[0m
  [1m[36mBooking Load (0.9ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" LIMIT $1[0m  [["LIMIT", 11]]
Started GET "/" for 127.0.0.1 at 2018-08-17 15:08:46 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (2.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (46.2ms)
  [1m[35m (2.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (1.9ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (100.0ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 323ms (Views: 308.8ms | ActiveRecord: 11.1ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-08-17 15:08:48 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (2.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:59
  [1m[36mBooking Load (0.8ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 3], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (16.4ms)
  Rendered flats/show.html.erb within layouts/application (36.9ms)
Completed 200 OK in 323ms (Views: 308.8ms | ActiveRecord: 5.6ms)


Started GET "/flats/3.json?start=2018-07-29&end=2018-09-09&_=1534507675445" for 127.0.0.1 at 2018-08-17 15:08:49 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534507675445", "id"=>"3"}
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:59
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 3], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
  Rendering flats/show.json.jbuilder
  Rendered flats/show.json.jbuilder (0.5ms)
Completed 200 OK in 7ms (Views: 3.1ms | ActiveRecord: 0.7ms)


Started GET "/" for 127.0.0.1 at 2018-08-17 15:08:52 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (47.8ms)
  [1m[35m (3.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (1.2ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (88.4ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 389ms (Views: 373.7ms | ActiveRecord: 9.8ms)


Started GET "/flats/4" for 127.0.0.1 at 2018-08-17 15:08:53 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mFlat Load (1.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:59
  [1m[36mBooking Load (0.9ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 4], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (3.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (16.9ms)
  Rendered flats/show.html.erb within layouts/application (41.0ms)
Completed 200 OK in 330ms (Views: 312.5ms | ActiveRecord: 6.9ms)


Started GET "/flats/4.json?start=2018-07-29&end=2018-09-09&_=1534507675446" for 127.0.0.1 at 2018-08-17 15:08:54 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534507675446", "id"=>"4"}
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:59
  [1m[36mBooking Load (0.4ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 4], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
  Rendering flats/show.json.jbuilder
  Rendered flats/show.json.jbuilder (0.6ms)
Completed 200 OK in 9ms (Views: 4.7ms | ActiveRecord: 0.7ms)


Started GET "/" for 127.0.0.1 at 2018-08-17 15:08:57 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (2.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (57.5ms)
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (1.2ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (109.7ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 415ms (Views: 402.5ms | ActiveRecord: 8.7ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=popularity&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=&filter%5Bend_date%5D=" for 127.0.0.1 at 2018-08-17 15:09:14 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"popularity", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"", "end_date"=>""}}
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "flats.bookings.count ASC NULLS LAST". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:Flat> at /home/york/Документы/Projects/FlatBooking/app/models/flat.rb:21)
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" INNER JOIN "bookings" ON "bookings"."flat_id" = "flats"."id" ORDER BY flats.bookings.count ASC NULLS LAST LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  Rendered flats/index.html.erb within layouts/application (11.1ms)
Completed 500 Internal Server Error in 17ms (ActiveRecord: 1.7ms)


  
ActionView::Template::Error (PG::UndefinedTable: ОШИБКА:  в элементе предложения FROM неверная ссылка на таблицу "bookings"
LINE 1: ..." ON "bookings"."flat_id" = "flats"."id" ORDER BY flats.book...
                                                             ^
HINT:  Таблица "bookings" присутствует в запросе, но сослаться на неё из этой части запроса нельзя.
: SELECT  "flats".* FROM "flats" INNER JOIN "bookings" ON "bookings"."flat_id" = "flats"."id" ORDER BY flats.bookings.count ASC NULLS LAST LIMIT $1 OFFSET $2):
     8:     onchange: "submitOnChange()", class: 'submit-on-change'  %>
     9:   <h1>Flats</h1>
    10: 
    11:   <%= render @flats %>
    12: 
    13:   <%= paginate @flats %>
    14: </div>
  
app/views/flats/index.html.erb:11:in `_app_views_flats_index_html_erb___2203585448238068761_47222868894080'
Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=&filter%5Bend_date%5D=" for 127.0.0.1 at 2018-08-17 15:09:22 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"", "end_date"=>""}}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (57.5ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (103.2ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 519ms (Views: 509.8ms | ActiveRecord: 5.4ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-17 15:09:58 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:59
  [1m[36mBooking Load (0.4ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (2.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (16.7ms)
  Rendered flats/show.html.erb within layouts/application (33.4ms)
Completed 200 OK in 307ms (Views: 296.3ms | ActiveRecord: 3.9ms)


Started GET "/flats/1.json?start=2018-07-29&end=2018-09-09&_=1534507763451" for 127.0.0.1 at 2018-08-17 15:09:59 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534507763451", "id"=>"1"}
  [1m[36mFlat Load (1.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:59
  [1m[36mBooking Load (0.4ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
  Rendering flats/show.json.jbuilder
  Rendered flats/show.json.jbuilder (0.8ms)
Completed 200 OK in 25ms (Views: 14.0ms | ActiveRecord: 1.6ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-17 15:11:05 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:59
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (4.1ms)
  Rendered flats/show.html.erb within layouts/application (21.9ms)
Completed 200 OK in 351ms (Views: 341.0ms | ActiveRecord: 3.2ms)


Started GET "/flats/1.json?start=2018-07-29&end=2018-09-09&_=1534507865921" for 127.0.0.1 at 2018-08-17 15:11:06 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534507865921", "id"=>"1"}
  [1m[36mFlat Load (0.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:59
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
  Rendering flats/show.json.jbuilder
  Rendered flats/show.json.jbuilder (0.5ms)
Completed 200 OK in 6ms (Views: 3.2ms | ActiveRecord: 0.4ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-17 15:11:08 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:59
  [1m[36mBooking Load (0.7ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (8.5ms)
  Rendered flats/show.html.erb within layouts/application (33.9ms)
Completed 200 OK in 603ms (Views: 593.0ms | ActiveRecord: 2.7ms)


Started GET "/flats/1.json?start=2018-07-29&end=2018-09-09&_=1534507869413" for 127.0.0.1 at 2018-08-17 15:11:09 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534507869413", "id"=>"1"}
  [1m[36mFlat Load (0.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:59
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
  Rendering flats/show.json.jbuilder
  Rendered flats/show.json.jbuilder (0.5ms)
Completed 200 OK in 7ms (Views: 3.5ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2018-08-17 15:11:10 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (53.1ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (85.8ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 344ms (Views: 336.2ms | ActiveRecord: 5.6ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-17 15:11:13 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (1.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:59
  [1m[36mBooking Load (1.0ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (8.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (4.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (18.3ms)
  Rendered flats/show.html.erb within layouts/application (57.6ms)
Completed 200 OK in 377ms (Views: 345.7ms | ActiveRecord: 16.6ms)


Started GET "/flats/undefined.json?start=2018-07-29&end=2018-09-09&_=1534507869414" for 127.0.0.1 at 2018-08-17 15:11:14 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534507869414", "id"=>"undefined"}
  [1m[36mFlat Load (1.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:59
Completed 404 Not Found in 5ms (ActiveRecord: 1.2ms)


  
ActiveRecord::RecordNotFound (Couldn't find Flat with 'id'=undefined):
  
app/controllers/flats_controller.rb:59:in `set_flat'
Started GET "/flats/1" for 127.0.0.1 at 2018-08-17 15:11:19 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:59
  [1m[36mBooking Load (2.4ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (12.4ms)
  Rendered flats/show.html.erb within layouts/application (45.6ms)
Completed 200 OK in 488ms (Views: 464.8ms | ActiveRecord: 5.7ms)


Started GET "/flats/1.json?start=2018-07-29&end=2018-09-09&_=1534507879836" for 127.0.0.1 at 2018-08-17 15:11:20 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534507879836", "id"=>"1"}
  [1m[36mFlat Load (0.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:59
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
  Rendering flats/show.json.jbuilder
  Rendered flats/show.json.jbuilder (0.7ms)
Completed 200 OK in 9ms (Views: 4.7ms | ActiveRecord: 0.5ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-17 15:11:21 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:59
  [1m[36mBooking Load (0.4ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (4.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (2.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (14.7ms)
  Rendered flats/show.html.erb within layouts/application (30.5ms)
Completed 200 OK in 452ms (Views: 438.9ms | ActiveRecord: 8.2ms)


Started GET "/flats/1.json?start=2018-07-29&end=2018-09-09&_=1534507882612" for 127.0.0.1 at 2018-08-17 15:11:22 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534507882612", "id"=>"1"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:59
  [1m[36mBooking Load (0.4ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
  Rendering flats/show.json.jbuilder
  Rendered flats/show.json.jbuilder (0.5ms)
Completed 200 OK in 7ms (Views: 3.7ms | ActiveRecord: 0.6ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-17 15:11:29 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (1.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:59
  [1m[36mBooking Load (1.4ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (4.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (18.4ms)
  Rendered flats/show.html.erb within layouts/application (45.5ms)
Completed 200 OK in 546ms (Views: 519.5ms | ActiveRecord: 8.0ms)


Started GET "/flats/1.json?start=2018-07-29&end=2018-09-09&_=1534507890273" for 127.0.0.1 at 2018-08-17 15:11:30 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534507890273", "id"=>"1"}
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:59
  [1m[36mBooking Load (0.4ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
  Rendering flats/show.json.jbuilder
  Rendered flats/show.json.jbuilder (2.5ms)
Completed 200 OK in 19ms (Views: 13.2ms | ActiveRecord: 0.7ms)


Started GET "/" for 127.0.0.1 at 2018-08-17 15:11:32 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (48.2ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (4.7ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (77.5ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 329ms (Views: 319.8ms | ActiveRecord: 7.1ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-17 15:11:34 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (1.9ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:59
  [1m[36mBooking Load (1.2ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (11.3ms)
  Rendered flats/show.html.erb within layouts/application (40.0ms)
Completed 200 OK in 380ms (Views: 356.4ms | ActiveRecord: 5.7ms)


Started GET "/flats/undefined.json?start=2018-07-29&end=2018-09-09&_=1534507890274" for 127.0.0.1 at 2018-08-17 15:11:34 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534507890274", "id"=>"undefined"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:59
Completed 404 Not Found in 2ms (ActiveRecord: 0.3ms)


  
ActiveRecord::RecordNotFound (Couldn't find Flat with 'id'=undefined):
  
app/controllers/flats_controller.rb:59:in `set_flat'
Started GET "/flats/1" for 127.0.0.1 at 2018-08-17 15:11:37 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:59
  [1m[36mBooking Load (0.4ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (14.2ms)
  Rendered flats/show.html.erb within layouts/application (31.6ms)
Completed 200 OK in 576ms (Views: 566.9ms | ActiveRecord: 3.6ms)


Started GET "/flats/1.json?start=2018-07-29&end=2018-09-09&_=1534507898255" for 127.0.0.1 at 2018-08-17 15:11:38 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534507898255", "id"=>"1"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:59
  [1m[36mBooking Load (0.4ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
  Rendering flats/show.json.jbuilder
  Rendered flats/show.json.jbuilder (0.5ms)
Completed 200 OK in 8ms (Views: 3.3ms | ActiveRecord: 0.7ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-17 15:12:48 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:59
  [1m[36mBooking Load (0.6ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (9.2ms)
  Rendered flats/show.html.erb within layouts/application (21.1ms)
Completed 200 OK in 513ms (Views: 501.9ms | ActiveRecord: 2.3ms)


Started GET "/flats/1.json?start=2018-07-29&end=2018-09-09&_=1534507969600" for 127.0.0.1 at 2018-08-17 15:12:49 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534507969600", "id"=>"1"}
  [1m[36mFlat Load (1.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:59
  [1m[36mBooking Load (0.4ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
  Rendering flats/show.json.jbuilder
  Rendered flats/show.json.jbuilder (0.7ms)
Completed 200 OK in 19ms (Views: 11.1ms | ActiveRecord: 1.4ms)


Started GET "/flats/1.json?start=2018-08-26&end=2018-10-07&_=1534507969601" for 127.0.0.1 at 2018-08-17 15:13:21 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-08-26", "end"=>"2018-10-07", "_"=>"1534507969601", "id"=>"1"}
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:59
  [1m[36mBooking Load (0.5ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
  Rendering flats/show.json.jbuilder
  Rendered flats/show.json.jbuilder (0.6ms)
Completed 200 OK in 10ms (Views: 4.7ms | ActiveRecord: 0.9ms)


Started GET "/flats/1.json?start=2018-07-29&end=2018-09-09&_=1534507969602" for 127.0.0.1 at 2018-08-17 15:13:22 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534507969602", "id"=>"1"}
  [1m[36mFlat Load (0.9ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:59
  [1m[36mBooking Load (1.3ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
  Rendering flats/show.json.jbuilder
  Rendered flats/show.json.jbuilder (2.0ms)
Completed 200 OK in 34ms (Views: 20.2ms | ActiveRecord: 2.2ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-17 15:15:11 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:59
  [1m[36mBooking Load (2.1ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (7.2ms)
  Rendered flats/show.html.erb within layouts/application (22.7ms)
Completed 200 OK in 493ms (Views: 477.3ms | ActiveRecord: 4.7ms)


Started GET "/flats/1.json?start=2018-07-29&end=2018-09-09&_=1534508111945" for 127.0.0.1 at 2018-08-17 15:15:12 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534508111945", "id"=>"1"}
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:59
  [1m[36mBooking Load (1.8ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
  Rendering flats/show.json.jbuilder
  Rendered flats/show.json.jbuilder (0.9ms)
Completed 200 OK in 27ms (Views: 14.1ms | ActiveRecord: 2.4ms)


Started GET "/" for 127.0.0.1 at 2018-08-17 15:15:14 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (42.5ms)
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (1.3ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (77.9ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 311ms (Views: 304.8ms | ActiveRecord: 4.5ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-17 15:15:16 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (1.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:59
  [1m[36mBooking Load (5.4ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (3.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (14.9ms)
  Rendered flats/show.html.erb within layouts/application (27.8ms)
Completed 200 OK in 337ms (Views: 314.1ms | ActiveRecord: 10.4ms)


Started GET "/flats/undefined.json?start=2018-07-29&end=2018-09-09&_=1534508111946" for 127.0.0.1 at 2018-08-17 15:15:16 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534508111946", "id"=>"undefined"}
  [1m[36mFlat Load (1.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:59
Completed 404 Not Found in 8ms (ActiveRecord: 1.0ms)


  
ActiveRecord::RecordNotFound (Couldn't find Flat with 'id'=undefined):
  
app/controllers/flats_controller.rb:59:in `set_flat'
Started GET "/flats/1" for 127.0.0.1 at 2018-08-17 15:15:27 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.9ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:59
  [1m[36mBooking Load (1.1ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (16.2ms)
  Rendered flats/show.html.erb within layouts/application (42.8ms)
Completed 200 OK in 595ms (Views: 572.6ms | ActiveRecord: 4.1ms)


Started GET "/flats/1.json?start=2018-07-29&end=2018-09-09&_=1534508128362" for 127.0.0.1 at 2018-08-17 15:15:28 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534508128362", "id"=>"1"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:59
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
  Rendering flats/show.json.jbuilder
  Rendered flats/show.json.jbuilder (1.1ms)
Completed 200 OK in 11ms (Views: 5.9ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2018-08-17 15:20:42 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (61.0ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (2.1ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (110.7ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 372ms (Views: 358.3ms | ActiveRecord: 8.0ms)


Started GET "/?page=2" for 127.0.0.1 at 2018-08-17 15:20:45 +0300
Processing by FlatsController#index as HTML
  Parameters: {"page"=>"2"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.9ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 5]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [2 times] (28.4ms)
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (73.3ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 363ms (Views: 351.0ms | ActiveRecord: 4.3ms)


Started GET "/" for 127.0.0.1 at 2018-08-17 15:20:47 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (3.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (49.3ms)
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (4.1ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (88.2ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 414ms (Views: 396.8ms | ActiveRecord: 11.7ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-17 15:20:48 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (1.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:59
  [1m[36mBooking Load (1.2ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (13.2ms)
  Rendered flats/show.html.erb within layouts/application (35.9ms)
Completed 200 OK in 373ms (Views: 348.9ms | ActiveRecord: 5.2ms)


Started GET "/flats/undefined.json?start=2018-07-29&end=2018-09-09&_=1534508128363" for 127.0.0.1 at 2018-08-17 15:20:49 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534508128363", "id"=>"undefined"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:59
Completed 404 Not Found in 2ms (ActiveRecord: 0.3ms)


  
ActiveRecord::RecordNotFound (Couldn't find Flat with 'id'=undefined):
  
app/controllers/flats_controller.rb:59:in `set_flat'
Started GET "/flats/undefined.json?start=2018-07-29&end=2018-09-09&_=1534508128363" for 127.0.0.1 at 2018-08-17 15:22:14 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534508128363", "id"=>"undefined"}
  [1m[36mFlat Load (7.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:59
Completed 404 Not Found in 13ms (ActiveRecord: 7.6ms)


  
ActiveRecord::RecordNotFound (Couldn't find Flat with 'id'=undefined):
  
app/controllers/flats_controller.rb:59:in `set_flat'
Started GET "/" for 127.0.0.1 at 2018-08-17 15:58:19 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (53.7ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (100.1ms)
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 1004ms (Views: 974.6ms | ActiveRecord: 14.1ms)


Started GET "/" for 127.0.0.1 at 2018-08-17 15:58:21 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (8.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (80.7ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (1.9ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (140.2ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 606ms (Views: 589.1ms | ActiveRecord: 14.6ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-17 15:58:24 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (1.2ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (7.2ms)
  Rendered flats/show.html.erb within layouts/application (23.7ms)
Completed 200 OK in 293ms (Views: 262.6ms | ActiveRecord: 13.3ms)


Started GET "/flats/1.json?start=2018-07-29&end=2018-09-09&_=1534510702306" for 127.0.0.1 at 2018-08-17 15:58:24 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534510702306", "id"=>"1"}
  [1m[36mFlat Load (1.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (0.6ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
Completed 500 Internal Server Error in 8ms (ActiveRecord: 2.1ms)


  
ArgumentError ('["reserved", Sat, 18 Aug 2018, Sun, 19 Aug 2018]' is not an ActiveModel-compatible object. It must implement :to_partial_path.):
  
app/controllers/flats_controller.rb:15:in `block (2 levels) in show'
app/controllers/flats_controller.rb:13:in `show'
Started GET "/flats/1.json" for 127.0.0.1 at 2018-08-17 15:58:34 +0300
Processing by FlatsController#show as JSON
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.6ms)


  
ArgumentError ('["reserved", Sat, 18 Aug 2018, Sun, 19 Aug 2018]' is not an ActiveModel-compatible object. It must implement :to_partial_path.):
  
app/controllers/flats_controller.rb:15:in `block (2 levels) in show'
app/controllers/flats_controller.rb:13:in `show'
Started GET "/flats/1.json" for 127.0.0.1 at 2018-08-17 15:59:09 +0300
Processing by FlatsController#show as JSON
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
Completed 500 Internal Server Error in 150ms (ActiveRecord: 14.0ms)


  
ActionView::MissingTemplate (Missing template flats/[["reserved","2018-08-18","2018-08-19"],["reserved","2018-08-20","2018-08-21"]], application/[["reserved","2018-08-18","2018-08-19"],["reserved","2018-08-20","2018-08-21"]] with {:locale=>[:en], :formats=>[:json], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :coffee, :jbuilder]}. Searched in:
  * "/home/york/Документы/Projects/FlatBooking/app/views"
  * "/home/york/.rvm/gems/ruby-2.5.1/gems/kaminari-core-1.1.1/app/views"
  * "/home/york/.rvm/gems/ruby-2.5.1/gems/devise-4.4.3/app/views"
):
  
app/controllers/flats_controller.rb:15:in `block (2 levels) in show'
app/controllers/flats_controller.rb:13:in `show'
Started GET "/flats/1.json" for 127.0.0.1 at 2018-08-17 15:59:53 +0300
Processing by FlatsController#show as JSON
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (1.9ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
Completed 406 Not Acceptable in 196ms (ActiveRecord: 19.8ms)


  
ActionController::UnknownFormat (FlatsController#show is missing a template for this request format and variant.

request.formats: ["application/json"]
request.variant: []):
  
actionpack (5.2.0) lib/action_controller/metal/implicit_render.rb:42:in `default_render'
actionpack (5.2.0) lib/action_controller/metal/basic_implicit_render.rb:6:in `block in send_action'
actionpack (5.2.0) lib/action_controller/metal/basic_implicit_render.rb:6:in `tap'
actionpack (5.2.0) lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
actionpack (5.2.0) lib/abstract_controller/base.rb:194:in `process_action'
actionpack (5.2.0) lib/action_controller/metal/rendering.rb:30:in `process_action'
actionpack (5.2.0) lib/abstract_controller/callbacks.rb:42:in `block in process_action'
activesupport (5.2.0) lib/active_support/callbacks.rb:132:in `run_callbacks'
actionpack (5.2.0) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (5.2.0) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (5.2.0) lib/action_controller/metal/instrumentation.rb:34:in `block in process_action'
activesupport (5.2.0) lib/active_support/notifications.rb:168:in `block in instrument'
activesupport (5.2.0) lib/active_support/notifications/instrumenter.rb:23:in `instrument'
activesupport (5.2.0) lib/active_support/notifications.rb:168:in `instrument'
actionpack (5.2.0) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (5.2.0) lib/action_controller/metal/params_wrapper.rb:256:in `process_action'
activerecord (5.2.0) lib/active_record/railties/controller_runtime.rb:24:in `process_action'
actionpack (5.2.0) lib/abstract_controller/base.rb:134:in `process'
actionview (5.2.0) lib/action_view/rendering.rb:32:in `process'
actionpack (5.2.0) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (5.2.0) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (5.2.0) lib/action_dispatch/routing/route_set.rb:52:in `dispatch'
actionpack (5.2.0) lib/action_dispatch/routing/route_set.rb:34:in `serve'
actionpack (5.2.0) lib/action_dispatch/journey/router.rb:52:in `block in serve'
actionpack (5.2.0) lib/action_dispatch/journey/router.rb:35:in `each'
actionpack (5.2.0) lib/action_dispatch/journey/router.rb:35:in `serve'
actionpack (5.2.0) lib/action_dispatch/routing/route_set.rb:840:in `call'
warden (1.2.7) lib/warden/manager.rb:36:in `block in call'
warden (1.2.7) lib/warden/manager.rb:35:in `catch'
warden (1.2.7) lib/warden/manager.rb:35:in `call'
rack (2.0.5) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.0.5) lib/rack/etag.rb:25:in `call'
rack (2.0.5) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.5) lib/rack/head.rb:12:in `call'
actionpack (5.2.0) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.0.5) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.5) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/cookies.rb:670:in `call'
activerecord (5.2.0) lib/active_record/migration.rb:559:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
activesupport (5.2.0) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (5.2.0) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:61:in `call'
web-console (3.6.2) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.6.2) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `catch'
web-console (3.6.2) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
request_store (1.4.1) lib/request_store/middleware.rb:19:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.0) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/flats/1.json" for 127.0.0.1 at 2018-08-17 16:03:47 +0300
Processing by FlatsController#show as JSON
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (1.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (1.9ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
Completed 200 OK in 72ms (Views: 1.0ms | ActiveRecord: 15.6ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-17 16:04:08 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (1.1ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (6.5ms)
  Rendered flats/show.html.erb within layouts/application (104.9ms)
Completed 200 OK in 798ms (Views: 774.7ms | ActiveRecord: 11.0ms)


Started GET "/flats/1.json?start=2018-07-29&end=2018-09-09&_=1534511049455" for 127.0.0.1 at 2018-08-17 16:04:09 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534511049455", "id"=>"1"}
  [1m[36mFlat Load (1.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
Completed 200 OK in 10ms (Views: 0.2ms | ActiveRecord: 1.5ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-17 16:04:12 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (1.1ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (2.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (26.7ms)
  Rendered flats/show.html.erb within layouts/application (46.7ms)
Completed 200 OK in 588ms (Views: 565.7ms | ActiveRecord: 5.9ms)


Started GET "/flats/1.json?start=2018-07-29&end=2018-09-09&_=1534511053087" for 127.0.0.1 at 2018-08-17 16:04:13 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534511053087", "id"=>"1"}
  [1m[36mFlat Load (1.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (0.5ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
Completed 200 OK in 11ms (Views: 0.4ms | ActiveRecord: 1.8ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-17 16:04:15 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.9ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (1.0ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (2.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (20.9ms)
  Rendered flats/show.html.erb within layouts/application (49.8ms)
Completed 200 OK in 697ms (Views: 670.4ms | ActiveRecord: 5.7ms)


Started GET "/flats/1.json?start=2018-07-29&end=2018-09-09&_=1534511055957" for 127.0.0.1 at 2018-08-17 16:04:16 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534511055957", "id"=>"1"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (1.1ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
Completed 200 OK in 10ms (Views: 0.2ms | ActiveRecord: 1.4ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-17 16:04:17 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (1.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (2.9ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (17.9ms)
  Rendered flats/show.html.erb within layouts/application (49.8ms)
Completed 200 OK in 548ms (Views: 520.3ms | ActiveRecord: 5.4ms)


Started GET "/flats/1.json?start=2018-07-29&end=2018-09-09&_=1534511058051" for 127.0.0.1 at 2018-08-17 16:04:18 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534511058051", "id"=>"1"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.6ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-17 16:04:25 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (1.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (3.6ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (3.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (19.0ms)
  Rendered flats/show.html.erb within layouts/application (37.7ms)
Completed 200 OK in 618ms (Views: 592.3ms | ActiveRecord: 8.4ms)


Started GET "/flats/1.json?start=2018-07-29&end=2018-09-09&_=1534511066039" for 127.0.0.1 at 2018-08-17 16:04:26 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534511066039", "id"=>"1"}
  [1m[36mFlat Load (0.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (0.9ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 1.1ms)


Started GET "/" for 127.0.0.1 at 2018-08-17 16:04:39 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.9ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (57.2ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (2.8ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (113.0ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 412ms (Views: 398.7ms | ActiveRecord: 7.7ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-17 16:04:41 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (0.5ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (6.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (29.1ms)
  Rendered flats/show.html.erb within layouts/application (49.1ms)
Completed 200 OK in 378ms (Views: 365.9ms | ActiveRecord: 7.3ms)


Started GET "/flats/undefined.json?start=2018-07-29&end=2018-09-09&_=1534511066040" for 127.0.0.1 at 2018-08-17 16:04:41 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534511066040", "id"=>"undefined"}
  [1m[36mFlat Load (0.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
Completed 404 Not Found in 2ms (ActiveRecord: 0.2ms)


  
ActiveRecord::RecordNotFound (Couldn't find Flat with 'id'=undefined):
  
app/controllers/flats_controller.rb:64:in `set_flat'
Started GET "/flats/1" for 127.0.0.1 at 2018-08-17 16:04:59 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (0.7ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (2.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (23.5ms)
  Rendered flats/show.html.erb within layouts/application (41.1ms)
Completed 200 OK in 577ms (Views: 557.3ms | ActiveRecord: 5.4ms)


Started GET "/flats/1.json?start=2018-07-29&end=2018-09-09&_=1534511099800" for 127.0.0.1 at 2018-08-17 16:04:59 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534511099800", "id"=>"1"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.6ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-17 16:05:21 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (0.4ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (24.2ms)
  Rendered flats/show.html.erb within layouts/application (40.7ms)
Completed 200 OK in 908ms (Views: 898.9ms | ActiveRecord: 4.2ms)


Started GET "/flats/1.json?start=2018-07-29&end=2018-09-09&_=1534511122781" for 127.0.0.1 at 2018-08-17 16:05:22 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534511122781", "id"=>"1"}
  [1m[36mFlat Load (1.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (0.4ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
Completed 200 OK in 10ms (Views: 0.9ms | ActiveRecord: 1.4ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-17 16:05:24 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (1.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (3.5ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (16.0ms)
  Rendered flats/show.html.erb within layouts/application (32.1ms)
Completed 200 OK in 603ms (Views: 575.9ms | ActiveRecord: 8.2ms)


Started GET "/flats/1.json?start=2018-07-29&end=2018-09-09&_=1534511125113" for 127.0.0.1 at 2018-08-17 16:05:25 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534511125113", "id"=>"1"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (0.4ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.7ms)


Started GET "/flats/1.json" for 127.0.0.1 at 2018-08-17 16:06:02 +0300
Processing by FlatsController#show as JSON
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (0.5ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
Completed 200 OK in 74ms (Views: 0.1ms | ActiveRecord: 9.7ms)


Started GET "/flats/1.json?start=2018-07-29&end=2018-09-09&_=1534511169365" for 127.0.0.1 at 2018-08-17 16:06:09 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534511169365", "id"=>"1"}
  [1m[36mFlat Load (0.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.5ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-17 16:06:11 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (0.4ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (10.7ms)
  Rendered flats/show.html.erb within layouts/application (123.2ms)
Completed 200 OK in 637ms (Views: 617.9ms | ActiveRecord: 15.2ms)


Started GET "/flats/1.json?start=2018-07-29&end=2018-09-09&_=1534511172301" for 127.0.0.1 at 2018-08-17 16:06:12 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534511172301", "id"=>"1"}
  [1m[36mFlat Load (0.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (0.4ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.6ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-17 16:06:14 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (1.6ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (9.2ms)
  Rendered flats/show.html.erb within layouts/application (26.6ms)
Completed 200 OK in 650ms (Views: 637.4ms | ActiveRecord: 2.8ms)


Started GET "/flats/1.json?start=2018-07-29&end=2018-09-09&_=1534511175315" for 127.0.0.1 at 2018-08-17 16:06:15 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534511175315", "id"=>"1"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (0.4ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.7ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-17 16:07:10 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (4.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (2.3ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (21.7ms)
  Rendered flats/show.html.erb within layouts/application (50.1ms)
Completed 200 OK in 480ms (Views: 458.6ms | ActiveRecord: 8.9ms)


Started GET "/flats/1.json?start=2018-07-29&end=2018-09-09&_=1534511230806" for 127.0.0.1 at 2018-08-17 16:07:11 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534511230806", "id"=>"1"}
  [1m[36mFlat Load (0.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (1.6ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
Completed 200 OK in 17ms (Views: 0.8ms | ActiveRecord: 1.9ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-17 16:07:12 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.9ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (1.3ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (21.5ms)
  Rendered flats/show.html.erb within layouts/application (53.9ms)
Completed 200 OK in 487ms (Views: 466.7ms | ActiveRecord: 5.3ms)


Started GET "/flats/1.json?start=2018-07-29&end=2018-09-09&_=1534511232860" for 127.0.0.1 at 2018-08-17 16:07:12 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534511232860", "id"=>"1"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (1.5ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
Completed 200 OK in 11ms (Views: 0.1ms | ActiveRecord: 1.8ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-17 16:07:13 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (1.4ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (22.7ms)
  Rendered flats/show.html.erb within layouts/application (41.7ms)
Completed 200 OK in 507ms (Views: 491.4ms | ActiveRecord: 5.6ms)


Started GET "/flats/1.json?start=2018-07-29&end=2018-09-09&_=1534511234545" for 127.0.0.1 at 2018-08-17 16:07:14 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534511234545", "id"=>"1"}
  [1m[36mFlat Load (0.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.5ms)


Started GET "/flats/1.json" for 127.0.0.1 at 2018-08-17 16:07:22 +0300
Processing by FlatsController#show as JSON
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (1.7ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 2.1ms)


Started GET "/flats/1.json" for 127.0.0.1 at 2018-08-17 16:08:06 +0300
Processing by FlatsController#show as JSON
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (1.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (0.4ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
Completed 200 OK in 13ms (Views: 0.4ms | ActiveRecord: 1.5ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-17 16:08:11 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (2.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (0.5ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (9.5ms)
  Rendered flats/show.html.erb within layouts/application (20.7ms)
Completed 200 OK in 834ms (Views: 824.9ms | ActiveRecord: 4.2ms)


Started GET "/flats/1.json?start=2018-07-29&end=2018-09-09&_=1534511292389" for 127.0.0.1 at 2018-08-17 16:08:12 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534511292389", "id"=>"1"}
  [1m[36mFlat Load (1.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (0.5ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
Completed 200 OK in 19ms (Views: 0.1ms | ActiveRecord: 1.5ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-17 16:15:41 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" LIMIT $1[0m  [["LIMIT", 11]]
  ↳ /home/york/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:8
Completed 500 Internal Server Error in 129ms (ActiveRecord: 13.8ms)


  
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" LIMIT $1[0m  [["LIMIT", 11]]
  ↳ /home/york/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:8
NoMethodError (undefined method `reserved_date_array' for #<FlatsQuery:0x00007f6fdde34cf8>
Did you mean?  reserved_date_hash):
  
app/controllers/flats_controller.rb:11:in `show'
Started GET "/flats/1" for 127.0.0.1 at 2018-08-17 16:15:52 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (0.4ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (8.4ms)
  Rendered flats/show.html.erb within layouts/application (109.4ms)
Completed 200 OK in 694ms (Views: 527.0ms | ActiveRecord: 28.0ms)


Started GET "/flats/1.json?start=2018-07-29&end=2018-09-09&_=1534511753639" for 127.0.0.1 at 2018-08-17 16:15:53 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534511753639", "id"=>"1"}
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.7ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-17 16:15:56 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (0.7ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (3.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (17.2ms)
  Rendered flats/show.html.erb within layouts/application (39.2ms)
Completed 200 OK in 446ms (Views: 432.2ms | ActiveRecord: 5.4ms)


Started GET "/flats/1.json?start=2018-07-29&end=2018-09-09&_=1534511756632" for 127.0.0.1 at 2018-08-17 16:15:56 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534511756632", "id"=>"1"}
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (1.3ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
Completed 200 OK in 7ms (Views: 0.2ms | ActiveRecord: 1.7ms)


Started GET "/flats/1.json" for 127.0.0.1 at 2018-08-17 16:16:03 +0300
Processing by FlatsController#show as JSON
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (2.7ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
Completed 200 OK in 21ms (Views: 0.2ms | ActiveRecord: 3.3ms)


Started GET "/flats/1.json" for 127.0.0.1 at 2018-08-17 16:18:26 +0300
Processing by FlatsController#show as JSON
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (1.2ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
Completed 200 OK in 95ms (Views: 0.3ms | ActiveRecord: 11.5ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-17 16:18:38 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (0.5ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (4.4ms)
  Rendered flats/show.html.erb within layouts/application (116.2ms)
Completed 200 OK in 834ms (Views: 818.2ms | ActiveRecord: 9.5ms)


Started GET "/flats/1.json?start=2018-07-29&end=2018-09-09&_=1534511920037" for 127.0.0.1 at 2018-08-17 16:18:40 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534511920037", "id"=>"1"}
  [1m[36mFlat Load (1.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
Completed 200 OK in 13ms (Views: 1.6ms | ActiveRecord: 2.0ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-17 16:22:16 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (3.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (9.8ms)
  Rendered flats/show.html.erb within layouts/application (75.9ms)
Completed 200 OK in 631ms (Views: 527.2ms | ActiveRecord: 21.5ms)


Started GET "/flats/1.json?start=2018-07-29&end=2018-09-09&_=1534512137994" for 127.0.0.1 at 2018-08-17 16:22:18 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534512137994", "id"=>"1"}
  [1m[36mFlat Load (1.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (0.6ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
Completed 200 OK in 16ms (Views: 0.4ms | ActiveRecord: 1.6ms)


Started GET "/" for 127.0.0.1 at 2018-08-17 16:22:32 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (45.0ms)
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (3.2ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (91.4ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 398ms (Views: 383.3ms | ActiveRecord: 7.2ms)


Started GET "/flats/2" for 127.0.0.1 at 2018-08-17 16:22:34 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mFlat Load (0.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (1.2ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 2], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (5.0ms)
  Rendered flats/show.html.erb within layouts/application (15.2ms)
Completed 200 OK in 417ms (Views: 404.2ms | ActiveRecord: 3.5ms)


Started GET "/flats/2.json?start=2018-07-29&end=2018-09-09&_=1534512137995" for 127.0.0.1 at 2018-08-17 16:22:34 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534512137995", "id"=>"2"}
  [1m[36mFlat Load (0.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (0.9ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 2], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
Completed 200 OK in 13ms (Views: 1.2ms | ActiveRecord: 1.1ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-08-17 16:22:38 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (1.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (1.3ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 3], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (6.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (5.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (24.3ms)
  Rendered flats/show.html.erb within layouts/application (58.0ms)
Completed 200 OK in 371ms (Views: 343.1ms | ActiveRecord: 13.6ms)


Started GET "/flats/3.json?start=2018-07-29&end=2018-09-09&_=1534512137996" for 127.0.0.1 at 2018-08-17 16:22:39 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534512137996", "id"=>"3"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (0.4ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 3], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
Completed 200 OK in 10ms (Views: 1.2ms | ActiveRecord: 0.7ms)


Started GET "/" for 127.0.0.1 at 2018-08-17 16:23:02 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (3.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (43.9ms)
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (1.7ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (84.9ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 385ms (Views: 374.6ms | ActiveRecord: 8.2ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-17 16:23:03 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.9ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (1.5ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (9.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (22.8ms)
  Rendered flats/show.html.erb within layouts/application (37.7ms)
Completed 200 OK in 382ms (Views: 348.6ms | ActiveRecord: 12.2ms)


Started GET "/flats/3.json?start=2018-07-29&end=2018-09-09&_=1534512137997" for 127.0.0.1 at 2018-08-17 16:23:04 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534512137997", "id"=>"3"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 3], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.6ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-17 16:23:09 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (1.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (3.3ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (14.1ms)
  Rendered flats/show.html.erb within layouts/application (31.1ms)
Completed 200 OK in 588ms (Views: 557.8ms | ActiveRecord: 8.1ms)


Started GET "/flats/1.json?start=2018-07-29&end=2018-09-09&_=1534512189915" for 127.0.0.1 at 2018-08-17 16:23:10 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534512189915", "id"=>"1"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2018-08-17 16:23:16 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (50.8ms)
  [1m[35m (4.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (98.4ms)
  [1m[36mUser Load (2.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 433ms (Views: 413.9ms | ActiveRecord: 11.9ms)


Started GET "/flats/4" for 127.0.0.1 at 2018-08-17 16:23:19 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mFlat Load (4.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (1.2ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 4], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (3.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (17.9ms)
  Rendered flats/show.html.erb within layouts/application (52.0ms)
Completed 200 OK in 463ms (Views: 428.1ms | ActiveRecord: 9.9ms)


Started GET "/flats/4.json?start=2018-07-29&end=2018-09-09&_=1534512189916" for 127.0.0.1 at 2018-08-17 16:23:20 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534512189916", "id"=>"4"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (0.4ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 4], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.6ms)


Started GET "/flats/4" for 127.0.0.1 at 2018-08-17 16:23:23 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mFlat Load (0.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (1.6ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 4], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (7.9ms)
  Rendered flats/show.html.erb within layouts/application (27.7ms)
Completed 200 OK in 539ms (Views: 516.5ms | ActiveRecord: 4.4ms)


Started GET "/flats/4.json?start=2018-07-29&end=2018-09-09&_=1534512204042" for 127.0.0.1 at 2018-08-17 16:23:24 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534512204042", "id"=>"4"}
  [1m[36mFlat Load (0.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 4], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.5ms)


Started GET "/flats/4" for 127.0.0.1 at 2018-08-17 16:23:39 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mFlat Load (1.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (0.5ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 4], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (2.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (21.2ms)
  Rendered flats/show.html.erb within layouts/application (31.8ms)
Completed 200 OK in 680ms (Views: 668.4ms | ActiveRecord: 5.5ms)


Started GET "/flats/4.json?start=2018-07-29&end=2018-09-09&_=1534512220232" for 127.0.0.1 at 2018-08-17 16:23:40 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534512220232", "id"=>"4"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (2.8ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 4], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
Completed 200 OK in 15ms (Views: 0.6ms | ActiveRecord: 3.1ms)


Started GET "/" for 127.0.0.1 at 2018-08-17 16:23:54 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.9ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (47.8ms)
  [1m[35m (3.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (86.8ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 375ms (Views: 364.5ms | ActiveRecord: 7.3ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-17 16:23:56 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (2.9ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (8.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (5.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (18.8ms)
  Rendered flats/show.html.erb within layouts/application (40.5ms)
Completed 200 OK in 484ms (Views: 454.3ms | ActiveRecord: 17.7ms)


Started GET "/flats/1.json?start=2018-07-29&end=2018-09-09&_=1534512220233" for 127.0.0.1 at 2018-08-17 16:23:56 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534512220233", "id"=>"1"}
  [1m[36mFlat Load (1.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (2.2ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
Completed 200 OK in 18ms (Views: 0.3ms | ActiveRecord: 3.5ms)


Started GET "/" for 127.0.0.1 at 2018-08-17 16:23:59 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (7.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (65.3ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (1.4ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (108.2ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 439ms (Views: 420.9ms | ActiveRecord: 12.8ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-08-17 16:24:01 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (0.4ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 3], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (31.4ms)
  Rendered flats/show.html.erb within layouts/application (42.0ms)
Completed 200 OK in 324ms (Views: 317.1ms | ActiveRecord: 2.1ms)


Started GET "/flats/3.json?start=2018-07-29&end=2018-09-09&_=1534512220234" for 127.0.0.1 at 2018-08-17 16:24:01 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534512220234", "id"=>"3"}
  [1m[36mFlat Load (0.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 3], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2018-08-17 16:24:06 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (5.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (70.1ms)
  [1m[35m (3.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.9ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (121.5ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 463ms (Views: 439.6ms | ActiveRecord: 12.7ms)


Started GET "/flats/4" for 127.0.0.1 at 2018-08-17 16:24:08 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mFlat Load (0.9ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (1.2ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 4], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (7.5ms)
  Rendered flats/show.html.erb within layouts/application (21.0ms)
Completed 200 OK in 364ms (Views: 345.7ms | ActiveRecord: 3.4ms)


Started GET "/flats/3.json?start=2018-07-29&end=2018-09-09&_=1534512220235" for 127.0.0.1 at 2018-08-17 16:24:08 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534512220235", "id"=>"3"}
  [1m[36mFlat Load (1.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (0.8ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 3], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
Completed 200 OK in 13ms (Views: 0.2ms | ActiveRecord: 1.9ms)


Started GET "/flats/4" for 127.0.0.1 at 2018-08-17 16:24:11 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mFlat Load (0.9ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (1.2ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 4], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (12.2ms)
  Rendered flats/show.html.erb within layouts/application (37.8ms)
Completed 200 OK in 734ms (Views: 708.8ms | ActiveRecord: 5.6ms)


Started GET "/flats/4.json?start=2018-07-29&end=2018-09-09&_=1534512252132" for 127.0.0.1 at 2018-08-17 16:24:12 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534512252132", "id"=>"4"}
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 4], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.7ms)


Started GET "/" for 127.0.0.1 at 2018-08-17 16:24:21 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (3.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (72.7ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (1.0ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (115.2ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 392ms (Views: 380.1ms | ActiveRecord: 7.3ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-17 16:24:22 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (1.2ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (7.7ms)
  Rendered flats/show.html.erb within layouts/application (36.2ms)
Completed 200 OK in 390ms (Views: 364.8ms | ActiveRecord: 3.9ms)


Started GET "/flats/1.json?start=2018-07-29&end=2018-09-09&_=1534512252133" for 127.0.0.1 at 2018-08-17 16:24:23 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534512252133", "id"=>"1"}
  [1m[36mFlat Load (1.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (3.4ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
Completed 200 OK in 15ms (Views: 0.2ms | ActiveRecord: 4.8ms)


Started GET "/" for 127.0.0.1 at 2018-08-17 16:24:26 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (12.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (80.8ms)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (3.5ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (129.2ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 459ms (Views: 431.9ms | ActiveRecord: 22.0ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-08-17 16:24:28 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (1.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (3.8ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 3], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (2.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (21.0ms)
  Rendered flats/show.html.erb within layouts/application (40.8ms)
Completed 200 OK in 345ms (Views: 319.2ms | ActiveRecord: 9.8ms)


Started GET "/flats/3.json?start=2018-07-29&end=2018-09-09&_=1534512252134" for 127.0.0.1 at 2018-08-17 16:24:28 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534512252134", "id"=>"3"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 3], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.6ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-08-17 16:24:30 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (0.9ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (1.3ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 3], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (18.6ms)
  Rendered flats/show.html.erb within layouts/application (40.3ms)
Completed 200 OK in 816ms (Views: 796.9ms | ActiveRecord: 4.6ms)


Started GET "/flats/3.json?start=2018-07-29&end=2018-09-09&_=1534512272002" for 127.0.0.1 at 2018-08-17 16:24:32 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534512272002", "id"=>"3"}
  [1m[36mFlat Load (0.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 3], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
Completed 200 OK in 6ms (Views: 1.0ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2018-08-17 16:24:34 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (2.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (52.2ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (91.9ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 376ms (Views: 369.8ms | ActiveRecord: 5.1ms)


Started GET "/flats/4" for 127.0.0.1 at 2018-08-17 16:24:36 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mFlat Load (1.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (1.1ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 4], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (2.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (12.7ms)
  Rendered flats/show.html.erb within layouts/application (65.2ms)
Completed 200 OK in 351ms (Views: 329.5ms | ActiveRecord: 6.2ms)


Started GET "/flats/4.json?start=2018-07-29&end=2018-09-09&_=1534512272003" for 127.0.0.1 at 2018-08-17 16:24:36 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534512272003", "id"=>"4"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 4], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2018-08-17 16:24:40 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (46.8ms)
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (1.1ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (90.6ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 454ms (Views: 444.6ms | ActiveRecord: 5.3ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-17 16:25:17 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (4.5ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (5.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (5.6ms)
  Rendered flats/show.html.erb within layouts/application (39.1ms)
Completed 200 OK in 392ms (Views: 363.3ms | ActiveRecord: 11.1ms)


Started GET "/flats/1.json?start=2018-07-29&end=2018-09-09&_=1534512272004" for 127.0.0.1 at 2018-08-17 16:25:18 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534512272004", "id"=>"1"}
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (2.6ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
Completed 200 OK in 15ms (Views: 0.3ms | ActiveRecord: 3.0ms)


Started GET "/" for 127.0.0.1 at 2018-08-17 16:25:26 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (3.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (70.9ms)
  [1m[35m (2.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (120.6ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 514ms (Views: 489.0ms | ActiveRecord: 10.7ms)


Started GET "/" for 127.0.0.1 at 2018-08-17 16:29:46 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (113.0ms)
  [1m[35m (2.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (1.7ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (227.4ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 924ms (Views: 859.4ms | ActiveRecord: 20.3ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=popularity&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=&filter%5Bend_date%5D=" for 127.0.0.1 at 2018-08-17 16:29:49 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"popularity", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"", "end_date"=>""}}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (8.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" INNER JOIN "bookings" ON "bookings"."flat_id" = "flats"."id" ORDER BY bookings.count ASC NULLS LAST LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  Rendered flats/index.html.erb within layouts/application (35.5ms)
Completed 500 Internal Server Error in 56ms (ActiveRecord: 8.3ms)


  
ActionView::Template::Error (PG::GroupingError: ОШИБКА:  столбец "flats.id" должен фигурировать в предложении GROUP BY или использоваться в агрегатной функции
LINE 1: SELECT  "flats".* FROM "flats" INNER JOIN "bookings" ON "boo...
                ^
: SELECT  "flats".* FROM "flats" INNER JOIN "bookings" ON "bookings"."flat_id" = "flats"."id" ORDER BY bookings.count ASC NULLS LAST LIMIT $1 OFFSET $2):
     8:     onchange: "submitOnChange()", class: 'submit-on-change'  %>
     9:   <h1>Flats</h1>
    10: 
    11:   <%= render @flats %>
    12: 
    13:   <%= paginate @flats %>
    14: </div>
  
app/views/flats/index.html.erb:11:in `_app_views_flats_index_html_erb___2203585448238068761_70059212208600'
Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=popularity&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=&filter%5Bend_date%5D=" for 127.0.0.1 at 2018-08-17 16:31:06 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"popularity", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"", "end_date"=>""}}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" LEFT OUTER JOIN "bookings" ON "bookings"."flat_id" = "flats"."id" ORDER BY bookings.count ASC NULLS LAST LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  Rendered flats/index.html.erb within layouts/application (28.2ms)
Completed 500 Internal Server Error in 38ms (ActiveRecord: 7.7ms)


  
ActionView::Template::Error (PG::GroupingError: ОШИБКА:  столбец "flats.id" должен фигурировать в предложении GROUP BY или использоваться в агрегатной функции
LINE 1: SELECT  "flats".* FROM "flats" LEFT OUTER JOIN "bookings" ON...
                ^
: SELECT  "flats".* FROM "flats" LEFT OUTER JOIN "bookings" ON "bookings"."flat_id" = "flats"."id" ORDER BY bookings.count ASC NULLS LAST LIMIT $1 OFFSET $2):
     8:     onchange: "submitOnChange()", class: 'submit-on-change'  %>
     9:   <h1>Flats</h1>
    10: 
    11:   <%= render @flats %>
    12: 
    13:   <%= paginate @flats %>
    14: </div>
  
app/views/flats/index.html.erb:11:in `_app_views_flats_index_html_erb___2203585448238068761_70059223511380'
Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=popularity&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=&filter%5Bend_date%5D=" for 127.0.0.1 at 2018-08-17 16:32:03 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"popularity", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"", "end_date"=>""}}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (3.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" LEFT OUTER JOIN "bookings" ON "bookings"."flat_id" = "flats"."id" GROUP BY flats.id ORDER BY bookings.count ASC NULLS LAST LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (110.3ms)
  [1m[35m (2.5ms)[0m  [1m[34mSELECT COUNT(*) AS count_all, flats.id AS flats_id FROM "flats" LEFT OUTER JOIN "bookings" ON "bookings"."flat_id" = "flats"."id" GROUP BY flats.id[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (281.0ms)
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 887ms (Views: 832.6ms | ActiveRecord: 30.1ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=popularity&filter%5Bdirection%5D=DESC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=&filter%5Bend_date%5D=" for 127.0.0.1 at 2018-08-17 16:32:09 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"popularity", "direction"=>"DESC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"", "end_date"=>""}}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" LEFT OUTER JOIN "bookings" ON "bookings"."flat_id" = "flats"."id" GROUP BY flats.id ORDER BY bookings.count DESC NULLS LAST LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (45.0ms)
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) AS count_all, flats.id AS flats_id FROM "flats" LEFT OUTER JOIN "bookings" ON "bookings"."flat_id" = "flats"."id" GROUP BY flats.id[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (95.7ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 703ms (Views: 695.9ms | ActiveRecord: 4.6ms)


Started GET "/flats/4" for 127.0.0.1 at 2018-08-17 16:32:33 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (1.6ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 4], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (3.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (27.1ms)
  Rendered flats/show.html.erb within layouts/application (46.4ms)
Completed 200 OK in 355ms (Views: 320.2ms | ActiveRecord: 13.4ms)


Started GET "/flats/4.json?start=2018-07-29&end=2018-09-09&_=1534512730473" for 127.0.0.1 at 2018-08-17 16:32:34 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534512730473", "id"=>"4"}
  [1m[36mFlat Load (0.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (0.4ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 4], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
Completed 200 OK in 8ms (Views: 0.9ms | ActiveRecord: 0.6ms)


Started POST "/flats/4/bookings" for 127.0.0.1 at 2018-08-17 16:33:00 +0300
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"gszCW6L120GOadLF3vuVCHWF7PixQitVe6QYR/cBzd73SxGOW5/csy2I2Bw1N4UC/A5P7Jw820DGjX5du85NjQ==", "booking"=>{"notice"=>"Need rent a car", "start_date"=>"2018-08-26", "end_date"=>"2018-08-27"}, "commit"=>"Book this flat", "flat_id"=>"4"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/bookings_controller.rb:25
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:25
  [1m[35m (1.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE (("bookings"."flat_id" = $1 AND (end_date >= '2018-08-26' AND end_date <= '2018-08-27') OR (start_date >= '2018-08-26' AND start_date <= '2018-08-27')) OR (start_date <= '2018-08-26' AND end_date >= '2018-08-27'))[0m  [["flat_id", 4]]
  ↳ app/queries/flats_query.rb:53
  [1m[36mBooking Create (3.9ms)[0m  [1m[32mINSERT INTO "bookings" ("user_id", "flat_id", "created_at", "updated_at", "notice", "start_date", "end_date") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 2], ["flat_id", 4], ["created_at", "2018-08-17 13:33:00.759318"], ["updated_at", "2018-08-17 13:33:00.759318"], ["notice", "Need rent a car"], ["start_date", "2018-08-26"], ["end_date", "2018-08-27"]]
  ↳ app/controllers/bookings_controller.rb:25
  [1m[35m (2.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/bookings_controller.rb:25
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:26
  Rendering create_booking_mailer/new_booking.html.erb within layouts/mailer
  Rendered create_booking_mailer/new_booking.html.erb within layouts/mailer (0.7ms)
  Rendering create_booking_mailer/new_booking.text.erb within layouts/mailer
  Rendered create_booking_mailer/new_booking.text.erb within layouts/mailer (0.5ms)
CreateBookingMailer#new_booking: processed outbound mail in 87.9ms
Sent mail to bestvendor@gmail.com (62.8ms)
Date: Fri, 17 Aug 2018 16:33:01 +0300
From: yorkqw@gmail.com
To: bestvendor@gmail.com
Message-ID: <5b76ce8d1cdd4_48fc2af2ee34d120347e8@york-HP-250-G5-Notebook-PC.mail>
Subject: Your flat booked
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5b76ce8d1ab2e_48fc2af2ee34d120346af";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5b76ce8d1ab2e_48fc2af2ee34d120346af
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hello Best_vendor

Pork booked your flat Hostel Gulliveer from 2018-08-26 to 2018-08-27 and say:
Need rent a car


----==_mimepart_5b76ce8d1ab2e_48fc2af2ee34d120346af
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <h1> Hello Best_vendor</h1>

Pork booked your flat Hostel Gulliveer from 2018-08-26 to 2018-08-27 and say:
Need rent a car


  </body>
</html>

----==_mimepart_5b76ce8d1ab2e_48fc2af2ee34d120346af--

  [1m[35m (3.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/booking_service.rb:11
  [1m[36mFlat Update (2.2ms)[0m  [1m[33mUPDATE "flats" SET "reserved_date" = $1, "updated_at" = $2 WHERE "flats"."id" = $3[0m  [["reserved_date", "{2018-08-29,2018-08-30,2018-08-31,2018-08-26}"], ["updated_at", "2018-08-17 13:33:01.187972"], ["id", 4]]
  ↳ app/services/booking_service.rb:11
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/booking_service.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/booking_service.rb:11
  [1m[36mFlat Update (0.5ms)[0m  [1m[33mUPDATE "flats" SET "reserved_date" = $1, "updated_at" = $2 WHERE "flats"."id" = $3[0m  [["reserved_date", "{2018-08-29,2018-08-30,2018-08-31,2018-08-26,2018-08-27}"], ["updated_at", "2018-08-17 13:33:01.209104"], ["id", 4]]
  ↳ app/services/booking_service.rb:11
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/booking_service.rb:11
Redirected to http://localhost:3000/
Completed 302 Found in 487ms (ActiveRecord: 18.8ms)


Started GET "/" for 127.0.0.1 at 2018-08-17 16:33:01 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (49.3ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (104.6ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 588ms (Views: 580.4ms | ActiveRecord: 4.4ms)


Started GET "/" for 127.0.0.1 at 2018-08-17 16:33:07 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (61.8ms)
  [1m[35m (3.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (1.8ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (117.8ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 639ms (Views: 624.9ms | ActiveRecord: 10.7ms)


Started GET "/flats/4" for 127.0.0.1 at 2018-08-17 16:33:12 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (2.2ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 4], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (14.6ms)
  Rendered flats/show.html.erb within layouts/application (36.2ms)
Completed 200 OK in 372ms (Views: 355.4ms | ActiveRecord: 6.0ms)


Started GET "/flats/4.json?start=2018-07-29&end=2018-09-09&_=1534512788499" for 127.0.0.1 at 2018-08-17 16:33:12 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534512788499", "id"=>"4"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 4], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2018-08-17 16:33:16 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (51.4ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (2.1ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (101.6ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 433ms (Views: 418.4ms | ActiveRecord: 7.1ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=popularity&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=&filter%5Bend_date%5D=" for 127.0.0.1 at 2018-08-17 16:33:22 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"popularity", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"", "end_date"=>""}}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (3.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" LEFT OUTER JOIN "bookings" ON "bookings"."flat_id" = "flats"."id" GROUP BY flats.id ORDER BY bookings.count ASC NULLS LAST LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (2.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (67.6ms)
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) AS count_all, flats.id AS flats_id FROM "flats" LEFT OUTER JOIN "bookings" ON "bookings"."flat_id" = "flats"."id" GROUP BY flats.id[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (1.3ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (128.7ms)
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 531ms (Views: 515.7ms | ActiveRecord: 10.9ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=popularity&filter%5Bdirection%5D=DESC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=&filter%5Bend_date%5D=" for 127.0.0.1 at 2018-08-17 16:33:24 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"popularity", "direction"=>"DESC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"", "end_date"=>""}}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" LEFT OUTER JOIN "bookings" ON "bookings"."flat_id" = "flats"."id" GROUP BY flats.id ORDER BY bookings.count DESC NULLS LAST LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (53.3ms)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) AS count_all, flats.id AS flats_id FROM "flats" LEFT OUTER JOIN "bookings" ON "bookings"."flat_id" = "flats"."id" GROUP BY flats.id[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (2.8ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (99.6ms)
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 545ms (Views: 534.1ms | ActiveRecord: 6.8ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-17 16:33:31 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (1.1ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (11.7ms)
  Rendered flats/show.html.erb within layouts/application (29.3ms)
Completed 200 OK in 360ms (Views: 341.7ms | ActiveRecord: 3.4ms)


Started GET "/flats/1.json?start=2018-07-29&end=2018-09-09&_=1534512805155" for 127.0.0.1 at 2018-08-17 16:33:31 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534512805155", "id"=>"1"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (0.4ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.7ms)


Started GET "/" for 127.0.0.1 at 2018-08-17 16:33:35 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (82.5ms)
  [1m[35m (1.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (124.9ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 428ms (Views: 416.9ms | ActiveRecord: 6.6ms)


Started GET "/flats/4" for 127.0.0.1 at 2018-08-17 16:33:39 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (1.1ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 4], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (10.6ms)
  Rendered flats/show.html.erb within layouts/application (48.4ms)
Completed 200 OK in 352ms (Views: 335.0ms | ActiveRecord: 3.6ms)


Started GET "/flats/4.json?start=2018-07-29&end=2018-09-09&_=1534512805156" for 127.0.0.1 at 2018-08-17 16:33:39 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534512805156", "id"=>"4"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 4], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.6ms)


Started POST "/flats/4/bookings" for 127.0.0.1 at 2018-08-17 16:33:58 +0300
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"olAbOLcgaFjRhwGELeB5HZRl2IHXv3U+K6Oc7rhdPQTX18jtTkpvqnJmC13GLGkXHe57lfrBhSuWivr09JK9Vw==", "booking"=>{"notice"=>"credit card pay", "start_date"=>"2018-08-19", "end_date"=>"2018-08-20"}, "commit"=>"Book this flat", "flat_id"=>"4"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (1.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/bookings_controller.rb:25
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:25
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE (("bookings"."flat_id" = $1 AND (end_date >= '2018-08-19' AND end_date <= '2018-08-20') OR (start_date >= '2018-08-19' AND start_date <= '2018-08-20')) OR (start_date <= '2018-08-19' AND end_date >= '2018-08-20'))[0m  [["flat_id", 4]]
  ↳ app/queries/flats_query.rb:53
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/bookings_controller.rb:25
Redirected to http://localhost:3000/flats/4
Completed 302 Found in 22ms (ActiveRecord: 3.2ms)


Started GET "/flats/4" for 127.0.0.1 at 2018-08-17 16:33:58 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mFlat Load (3.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (1.7ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 4], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (9.8ms)
  Rendered flats/show.html.erb within layouts/application (36.8ms)
Completed 200 OK in 577ms (Views: 552.3ms | ActiveRecord: 5.8ms)


Started GET "/flats/4.json?start=2018-07-29&end=2018-09-09&_=1534512839589" for 127.0.0.1 at 2018-08-17 16:33:59 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534512839589", "id"=>"4"}
  [1m[36mFlat Load (2.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (2.1ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 4], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
Completed 200 OK in 13ms (Views: 0.6ms | ActiveRecord: 4.6ms)


Started POST "/flats/4/bookings" for 127.0.0.1 at 2018-08-17 16:34:11 +0300
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"eTaaMJQQ6pAMarP1fy3fn4vY61Anr0RVxAbSFbrwnnJ+NTw+QxqmpvN95arD+kNx9cam5nd7wn3sQGSD8iTVng==", "booking"=>{"notice"=>"", "start_date"=>"2018-08-19", "end_date"=>"2018-08-20"}, "commit"=>"Book this flat", "flat_id"=>"4"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/bookings_controller.rb:25
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:25
  [1m[35m (1.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE (("bookings"."flat_id" = $1 AND (end_date >= '2018-08-19' AND end_date <= '2018-08-20') OR (start_date >= '2018-08-19' AND start_date <= '2018-08-20')) OR (start_date <= '2018-08-19' AND end_date >= '2018-08-20'))[0m  [["flat_id", 4]]
  ↳ app/queries/flats_query.rb:53
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/bookings_controller.rb:25
Redirected to http://localhost:3000/flats/4
Completed 302 Found in 22ms (ActiveRecord: 3.4ms)


Started GET "/flats/4" for 127.0.0.1 at 2018-08-17 16:34:11 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (0.5ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 4], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (13.8ms)
  Rendered flats/show.html.erb within layouts/application (41.1ms)
Completed 200 OK in 619ms (Views: 607.6ms | ActiveRecord: 2.3ms)


Started GET "/flats/4.json?start=2018-07-29&end=2018-09-09&_=1534512852737" for 127.0.0.1 at 2018-08-17 16:34:12 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534512852737", "id"=>"4"}
  [1m[36mFlat Load (0.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (1.3ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 4], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
Completed 200 OK in 13ms (Views: 0.3ms | ActiveRecord: 1.6ms)


Started POST "/flats/4/bookings" for 127.0.0.1 at 2018-08-17 16:34:30 +0300
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"JzFRtQhrwwCGEd0azYvToKnTgiaNq/wjja4hbfYZqbkgMve732GPNnkGi0VxXE9O183PkN1/egul6Jf7vs3iVQ==", "booking"=>{"notice"=>"", "start_date"=>"2018-08-07", "end_date"=>"2018-08-08"}, "commit"=>"Book this flat", "flat_id"=>"4"}
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/bookings_controller.rb:25
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:25
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE (("bookings"."flat_id" = $1 AND (end_date >= '2018-08-07' AND end_date <= '2018-08-08') OR (start_date >= '2018-08-07' AND start_date <= '2018-08-08')) OR (start_date <= '2018-08-07' AND end_date >= '2018-08-08'))[0m  [["flat_id", 4]]
  ↳ app/queries/flats_query.rb:53
  [1m[36mBooking Create (0.5ms)[0m  [1m[32mINSERT INTO "bookings" ("user_id", "flat_id", "created_at", "updated_at", "notice", "start_date", "end_date") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 2], ["flat_id", 4], ["created_at", "2018-08-17 13:34:30.872338"], ["updated_at", "2018-08-17 13:34:30.872338"], ["notice", ""], ["start_date", "2018-08-07"], ["end_date", "2018-08-08"]]
  ↳ app/controllers/bookings_controller.rb:25
  [1m[35m (4.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/bookings_controller.rb:25
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:26
  Rendering create_booking_mailer/new_booking.html.erb within layouts/mailer
  Rendered create_booking_mailer/new_booking.html.erb within layouts/mailer (1.2ms)
  Rendering create_booking_mailer/new_booking.text.erb within layouts/mailer
  Rendered create_booking_mailer/new_booking.text.erb within layouts/mailer (0.9ms)
CreateBookingMailer#new_booking: processed outbound mail in 42.6ms
Sent mail to bestvendor@gmail.com (94.4ms)
Date: Fri, 17 Aug 2018 16:34:30 +0300
From: yorkqw@gmail.com
To: bestvendor@gmail.com
Message-ID: <5b76cee6e4e2c_48fc2af2ee34d120349f2@york-HP-250-G5-Notebook-PC.mail>
Subject: Your flat booked
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5b76cee6dfe68_48fc2af2ee34d120348ec";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5b76cee6dfe68_48fc2af2ee34d120348ec
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hello Best_vendor

Pork booked your flat Hostel Gulliveer from 2018-08-07 to 2018-08-08 and say:



----==_mimepart_5b76cee6dfe68_48fc2af2ee34d120348ec
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <h1> Hello Best_vendor</h1>

Pork booked your flat Hostel Gulliveer from 2018-08-07 to 2018-08-08 and say:



  </body>
</html>

----==_mimepart_5b76cee6dfe68_48fc2af2ee34d120348ec--

  [1m[35m (3.9ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/booking_service.rb:11
  [1m[36mFlat Update (5.7ms)[0m  [1m[33mUPDATE "flats" SET "reserved_date" = $1, "updated_at" = $2 WHERE "flats"."id" = $3[0m  [["reserved_date", "{2018-08-29,2018-08-30,2018-08-31,2018-08-26,2018-08-27,2018-08-07}"], ["updated_at", "2018-08-17 13:34:31.030760"], ["id", 4]]
  ↳ app/services/booking_service.rb:11
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/booking_service.rb:11
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/booking_service.rb:11
  [1m[36mFlat Update (0.5ms)[0m  [1m[33mUPDATE "flats" SET "reserved_date" = $1, "updated_at" = $2 WHERE "flats"."id" = $3[0m  [["reserved_date", "{2018-08-29,2018-08-30,2018-08-31,2018-08-26,2018-08-27,2018-08-07,2018-08-08}"], ["updated_at", "2018-08-17 13:34:31.058188"], ["id", 4]]
  ↳ app/services/booking_service.rb:11
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/booking_service.rb:11
Redirected to http://localhost:3000/
Completed 302 Found in 225ms (ActiveRecord: 21.3ms)


Started GET "/" for 127.0.0.1 at 2018-08-17 16:34:31 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (67.7ms)
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (1.0ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (132.3ms)
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 734ms (Views: 710.5ms | ActiveRecord: 8.8ms)


Started GET "/flats/4" for 127.0.0.1 at 2018-08-17 16:34:39 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mFlat Load (3.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (1.1ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 4], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (3.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (20.0ms)
  Rendered flats/show.html.erb within layouts/application (34.1ms)
Completed 200 OK in 329ms (Views: 308.2ms | ActiveRecord: 8.2ms)


Started GET "/flats/4.json?start=2018-07-29&end=2018-09-09&_=1534512872115" for 127.0.0.1 at 2018-08-17 16:34:39 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534512872115", "id"=>"4"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (0.4ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 4], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.7ms)


Started GET "/" for 127.0.0.1 at 2018-08-17 16:34:44 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (72.7ms)
  [1m[35m (3.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (1.1ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (121.6ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 421ms (Views: 405.9ms | ActiveRecord: 7.5ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=popularity&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=&filter%5Bend_date%5D=" for 127.0.0.1 at 2018-08-17 16:34:46 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"popularity", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"", "end_date"=>""}}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (3.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" LEFT OUTER JOIN "bookings" ON "bookings"."flat_id" = "flats"."id" GROUP BY flats.id ORDER BY bookings.count ASC NULLS LAST LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (4.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (2.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (69.4ms)
  [1m[35m (3.2ms)[0m  [1m[34mSELECT COUNT(*) AS count_all, flats.id AS flats_id FROM "flats" LEFT OUTER JOIN "bookings" ON "bookings"."flat_id" = "flats"."id" GROUP BY flats.id[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (1.7ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (136.4ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 567ms (Views: 545.6ms | ActiveRecord: 15.8ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=popularity&filter%5Bdirection%5D=DESC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=&filter%5Bend_date%5D=" for 127.0.0.1 at 2018-08-17 16:34:49 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"popularity", "direction"=>"DESC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"", "end_date"=>""}}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" LEFT OUTER JOIN "bookings" ON "bookings"."flat_id" = "flats"."id" GROUP BY flats.id ORDER BY bookings.count DESC NULLS LAST LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (2.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (57.7ms)
  [1m[35m (1.7ms)[0m  [1m[34mSELECT COUNT(*) AS count_all, flats.id AS flats_id FROM "flats" LEFT OUTER JOIN "bookings" ON "bookings"."flat_id" = "flats"."id" GROUP BY flats.id[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (1.4ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (114.9ms)
  [1m[36mUser Load (2.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 516ms (Views: 500.4ms | ActiveRecord: 12.0ms)


Started GET "/flats/4" for 127.0.0.1 at 2018-08-17 16:34:53 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (5.1ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 4], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (9.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (20.4ms)
  Rendered flats/show.html.erb within layouts/application (33.3ms)
Completed 200 OK in 345ms (Views: 312.9ms | ActiveRecord: 16.0ms)


Started GET "/flats/4.json?start=2018-07-29&end=2018-09-09&_=1534512890514" for 127.0.0.1 at 2018-08-17 16:34:54 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534512890514", "id"=>"4"}
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (3.7ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 4], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
Completed 200 OK in 27ms (Views: 0.5ms | ActiveRecord: 4.1ms)


Started POST "/flats/4/bookings" for 127.0.0.1 at 2018-08-17 16:35:05 +0300
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"24sIy1qBiiLNoZTV0GlXdm9Nyi27BbGqSzuYhp+wVJyuDNseo+uN0G5Angw7pUd85sZpOZZ7Qb/2Ev6c03/Uzw==", "booking"=>{"notice"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-17"}, "commit"=>"Book this flat", "flat_id"=>"4"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/bookings_controller.rb:25
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:25
  [1m[35m (3.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE (("bookings"."flat_id" = $1 AND (end_date >= '2018-08-15' AND end_date <= '2018-08-17') OR (start_date >= '2018-08-15' AND start_date <= '2018-08-17')) OR (start_date <= '2018-08-15' AND end_date >= '2018-08-17'))[0m  [["flat_id", 4]]
  ↳ app/queries/flats_query.rb:53
  [1m[35m (1.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/bookings_controller.rb:25
Redirected to http://localhost:3000/flats/4
Completed 302 Found in 24ms (ActiveRecord: 5.5ms)


Started GET "/flats/4" for 127.0.0.1 at 2018-08-17 16:35:05 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mFlat Load (3.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (1.0ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 4], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (11.1ms)
  Rendered flats/show.html.erb within layouts/application (37.6ms)
Completed 200 OK in 549ms (Views: 531.6ms | ActiveRecord: 6.6ms)


Started GET "/flats/4.json?start=2018-07-29&end=2018-09-09&_=1534512906632" for 127.0.0.1 at 2018-08-17 16:35:06 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534512906632", "id"=>"4"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (0.4ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 4], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.7ms)


  [1m[36mBooking Load (0.4ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mBooking Load (1.1ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 LIMIT $2[0m  [["flat_id", 4], ["LIMIT", 11]]
Started POST "/flats/4/bookings" for 127.0.0.1 at 2018-08-17 16:39:01 +0300
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"0Ghlr/DN3nBWE8iAr9A+5R7Y+9vwMmLlN9aZ1kzwonfXa8OhJ8eSRqkEnt8TB6ILYMa2baDm5M0fkC9ABCTpmw==", "booking"=>{"notice"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-17"}, "commit"=>"Book this flat", "flat_id"=>"4"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/bookings_controller.rb:25
  [1m[36mFlat Load (1.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:25
  [1m[35m (4.8ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/bookings_controller.rb:25
Completed 500 Internal Server Error in 13161ms (ActiveRecord: 30.2ms)


  
SystemExit (exit):
  
(byebug):1:in `exit'
(byebug):1:in `is_date_reserved?'
app/queries/flats_query.rb:55:in `is_date_reserved?'
app/validators/booking_validator.rb:15:in `validate'
app/controllers/bookings_controller.rb:25:in `create'
Started GET "/flats/4/bookings" for 127.0.0.1 at 2018-08-17 16:39:22 +0300
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by BookingsController#index as HTML
  Parameters: {"flat_id"=>"4"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:6
  Rendering bookings/index.html.erb within layouts/application
  [1m[36mBooking Load (0.9ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/views/bookings/index.html.erb:4
  [1m[36mFlat Load (1.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:2
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:6
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:2
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:6
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:2
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:6
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:2
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:6
  Rendered collection of bookings/_booking.html.erb [4 times] (99.4ms)
  Rendered bookings/index.html.erb within layouts/application (119.5ms)
Completed 200 OK in 1561ms (Views: 1434.0ms | ActiveRecord: 31.5ms)


Started GET "/" for 127.0.0.1 at 2018-08-17 16:39:26 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (41.5ms)
  [1m[35m (1.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (101.2ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 395ms (Views: 376.5ms | ActiveRecord: 7.4ms)


Started GET "/flats/4" for 127.0.0.1 at 2018-08-17 16:39:31 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mFlat Load (1.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (0.8ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 4], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:64
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (20.8ms)
  Rendered flats/show.html.erb within layouts/application (42.9ms)
Completed 200 OK in 376ms (Views: 353.7ms | ActiveRecord: 5.6ms)


Started GET "/flats/4.json?start=2018-07-29&end=2018-09-09&_=1534513164685" for 127.0.0.1 at 2018-08-17 16:39:31 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534513164685", "id"=>"4"}
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 4], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:64
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.7ms)


Started POST "/flats/4/bookings" for 127.0.0.1 at 2018-08-17 16:39:38 +0300
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"vFsdHxSDXWxRLsqK0AkvyawMt9XyUwlpiL0kn7JL58PJ3M7K7elanvLPwFM7xT/DJYcUwd8t+Xw1lEKF/oRnkA==", "booking"=>{"notice"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-17"}, "commit"=>"Book this flat", "flat_id"=>"4"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/bookings_controller.rb:25
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:25
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."flat_id" = $1 AND (((end_date >= '2018-08-15' AND end_date <= '2018-08-17') OR (start_date >= '2018-08-15' AND start_date <= '2018-08-17')) OR (start_date <= '2018-08-15' AND end_date >= '2018-08-17'))[0m  [["flat_id", 4]]
  ↳ app/queries/flats_query.rb:55
  [1m[36mBooking Create (0.7ms)[0m  [1m[32mINSERT INTO "bookings" ("user_id", "flat_id", "created_at", "updated_at", "notice", "start_date", "end_date") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 2], ["flat_id", 4], ["created_at", "2018-08-17 13:39:38.263459"], ["updated_at", "2018-08-17 13:39:38.263459"], ["notice", ""], ["start_date", "2018-08-15"], ["end_date", "2018-08-17"]]
  ↳ app/controllers/bookings_controller.rb:25
  [1m[35m (7.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/bookings_controller.rb:25
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:26
  Rendering create_booking_mailer/new_booking.html.erb within layouts/mailer
  Rendered create_booking_mailer/new_booking.html.erb within layouts/mailer (3.5ms)
  Rendering create_booking_mailer/new_booking.text.erb within layouts/mailer
  Rendered create_booking_mailer/new_booking.text.erb within layouts/mailer (2.0ms)
CreateBookingMailer#new_booking: processed outbound mail in 49.5ms
Sent mail to bestvendor@gmail.com (80.7ms)
Date: Fri, 17 Aug 2018 16:39:38 +0300
From: yorkqw@gmail.com
To: bestvendor@gmail.com
Message-ID: <5b76d01a8b05f_53392aad2b05836015749@york-HP-250-G5-Notebook-PC.mail>
Subject: Your flat booked
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5b76d01a872f3_53392aad2b0583601561c";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5b76d01a872f3_53392aad2b0583601561c
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hello Best_vendor

Pork booked your flat Hostel Gulliveer from 2018-08-15 to 2018-08-17 and say:



----==_mimepart_5b76d01a872f3_53392aad2b0583601561c
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <h1> Hello Best_vendor</h1>

Pork booked your flat Hostel Gulliveer from 2018-08-15 to 2018-08-17 and say:



  </body>
</html>

----==_mimepart_5b76d01a872f3_53392aad2b0583601561c--

  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/booking_service.rb:11
  [1m[36mFlat Update (0.5ms)[0m  [1m[33mUPDATE "flats" SET "reserved_date" = $1, "updated_at" = $2 WHERE "flats"."id" = $3[0m  [["reserved_date", "{2018-08-29,2018-08-30,2018-08-31,2018-08-26,2018-08-27,2018-08-07,2018-08-08,2018-08-15}"], ["updated_at", "2018-08-17 13:39:38.649191"], ["id", 4]]
  ↳ app/services/booking_service.rb:11
  [1m[35m (2.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/booking_service.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/booking_service.rb:11
  [1m[36mFlat Update (1.5ms)[0m  [1m[33mUPDATE "flats" SET "reserved_date" = $1, "updated_at" = $2 WHERE "flats"."id" = $3[0m  [["reserved_date", "{2018-08-29,2018-08-30,2018-08-31,2018-08-26,2018-08-27,2018-08-07,2018-08-08,2018-08-15,2018-08-16}"], ["updated_at", "2018-08-17 13:39:38.660189"], ["id", 4]]
  ↳ app/services/booking_service.rb:11
  [1m[35m (3.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/booking_service.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/booking_service.rb:11
  [1m[36mFlat Update (0.6ms)[0m  [1m[33mUPDATE "flats" SET "reserved_date" = $1, "updated_at" = $2 WHERE "flats"."id" = $3[0m  [["reserved_date", "{2018-08-29,2018-08-30,2018-08-31,2018-08-26,2018-08-27,2018-08-07,2018-08-08,2018-08-15,2018-08-16,2018-08-17}"], ["updated_at", "2018-08-17 13:39:38.679526"], ["id", 4]]
  ↳ app/services/booking_service.rb:11
  [1m[35m (5.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/booking_service.rb:11
Redirected to http://localhost:3000/
Completed 302 Found in 452ms (ActiveRecord: 26.4ms)


Started GET "/" for 127.0.0.1 at 2018-08-17 16:39:38 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (4.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (7.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (44.9ms)
  [1m[35m (1.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (156.1ms)
  [1m[36mUser Load (2.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 685ms (Views: 665.1ms | ActiveRecord: 17.1ms)


Started GET "/flats/4" for 127.0.0.1 at 2018-08-17 16:39:44 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mFlat Load (1.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (1.3ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 4], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:64
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (13.8ms)
  Rendered flats/show.html.erb within layouts/application (38.9ms)
Completed 200 OK in 335ms (Views: 315.1ms | ActiveRecord: 5.7ms)


Started GET "/flats/4.json?start=2018-07-29&end=2018-09-09&_=1534513179609" for 127.0.0.1 at 2018-08-17 16:39:45 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534513179609", "id"=>"4"}
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (0.4ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 4], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:64
Completed 200 OK in 8ms (Views: 0.4ms | ActiveRecord: 0.9ms)


Started GET "/" for 127.0.0.1 at 2018-08-17 16:41:02 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.9ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (40.3ms)
  [1m[35m (2.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (1.8ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (78.0ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 409ms (Views: 397.1ms | ActiveRecord: 7.4ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-17 16:44:31 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (1.3ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:64
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (4.1ms)
  Rendered flats/show.html.erb within layouts/application (42.8ms)
Completed 200 OK in 689ms (Views: 614.6ms | ActiveRecord: 16.5ms)


Started GET "/flats/1.json?start=2018-07-29&end=2018-09-09&_=1534513179610" for 127.0.0.1 at 2018-08-17 16:44:32 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534513179610", "id"=>"1"}
  [1m[36mFlat Load (0.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:64
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.5ms)


Started POST "/flats/1/bookings" for 127.0.0.1 at 2018-08-17 16:44:40 +0300
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"zyRfSg5l0IrsvlZp46kwd1LYiMDXiu2AkFYDsYeBRdIlNQBuh2uuECS0Bu7Ta5qW/HBvGZb1U3WdCxrWm86pTg==", "booking"=>{"notice"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-23"}, "commit"=>"Book this flat", "flat_id"=>"1"}
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (1.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/bookings_controller.rb:25
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:25
  [1m[35m (6.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."flat_id" = $1 AND (((end_date >= '2018-08-15' AND end_date <= '2018-08-23') OR (start_date >= '2018-08-15' AND start_date <= '2018-08-23')) OR (start_date <= '2018-08-15' AND end_date >= '2018-08-23'))[0m  [["flat_id", 1]]
  ↳ app/queries/flats_query.rb:55
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/bookings_controller.rb:25
Redirected to http://localhost:3000/flats/1
Completed 302 Found in 38ms (ActiveRecord: 10.0ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-17 16:44:40 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (1.3ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:64
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (6.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (20.3ms)
  Rendered flats/show.html.erb within layouts/application (28.5ms)
Completed 200 OK in 472ms (Views: 448.2ms | ActiveRecord: 8.3ms)


Started GET "/flats/1.json?start=2018-07-29&end=2018-09-09&_=1534513480908" for 127.0.0.1 at 2018-08-17 16:44:41 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534513480908", "id"=>"1"}
  [1m[36mFlat Load (1.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (0.4ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:64
Completed 200 OK in 16ms (Views: 0.8ms | ActiveRecord: 1.4ms)


Started GET "/" for 127.0.0.1 at 2018-08-17 16:44:49 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (31.0ms)
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (1.6ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (67.1ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 427ms (Views: 419.9ms | ActiveRecord: 5.0ms)


Started GET "/" for 127.0.0.1 at 2018-08-17 16:47:23 +0300
Processing by FlatsController#index as HTML
  [1m[36mFlat Load (0.9ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" LIMIT $1[0m  [["LIMIT", 11]]
  ↳ /home/york/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:8
Completed 500 Internal Server Error in 92ms (ActiveRecord: 0.0ms)


  
  [1m[36mCACHE Flat Load (0.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" LIMIT $1[0m  [["LIMIT", 11]]
  ↳ /home/york/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:8
NoMethodError (undefined method `order_by' for #<Flat::ActiveRecord_Relation:0x00007f98215b1128>
Did you mean?  order):
  
app/queries/flats_query.rb:9:in `filter'
app/controllers/flats_controller.rb:6:in `index'
Started GET "/" for 127.0.0.1 at 2018-08-17 16:48:49 +0300
Processing by FlatsController#index as HTML
  [1m[36mFlat Load (2.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" LIMIT $1[0m  [["LIMIT", 11]]
  ↳ /home/york/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:8
Completed 500 Internal Server Error in 34ms (ActiveRecord: 0.0ms)


  
  [1m[36mCACHE Flat Load (0.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" LIMIT $1[0m  [["LIMIT", 11]]
  ↳ /home/york/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:8
NoMethodError (undefined method `order_by' for #<Flat::ActiveRecord_Relation:0x00007f982285e578>
Did you mean?  order):
  
app/queries/flats_query.rb:9:in `filter'
app/controllers/flats_controller.rb:6:in `index'
Started GET "/" for 127.0.0.1 at 2018-08-17 16:49:09 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (124.8ms)
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (2.5ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (233.9ms)
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 703ms (Views: 659.0ms | ActiveRecord: 25.7ms)


Started GET "/messages" for 127.0.0.1 at 2018-08-17 16:52:38 +0300
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:3
  Rendering messages/index.html.erb within layouts/application
  [1m[36mMessage Load (1.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient" = $1[0m  [["recipient", 2]]
  ↳ app/views/messages/index.html.erb:2
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/messages/index.html.erb:4
  Rendered messages/index.html.erb within layouts/application (27.7ms)
Completed 200 OK in 679ms (Views: 638.0ms | ActiveRecord: 8.3ms)


Started GET "/bookings" for 127.0.0.1 at 2018-08-17 16:52:47 +0300
Processing by BookingsController#index as HTML
  [1m[36mUser Load (3.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:6
  Rendering bookings/index.html.erb within layouts/application
  [1m[36mBooking Load (1.9ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/views/bookings/index.html.erb:4
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:2
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:6
  [1m[36mFlat Load (0.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:2
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:6
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:2
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:6
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:2
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:6
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:2
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:6
  Rendered collection of bookings/_booking.html.erb [5 times] (70.3ms)
  Rendered bookings/index.html.erb within layouts/application (125.6ms)
Completed 200 OK in 481ms (Views: 419.5ms | ActiveRecord: 35.8ms)


Started GET "/bookings" for 127.0.0.1 at 2018-08-17 16:55:52 +0300
Processing by BookingsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:6
  Rendering bookings/index.html.erb within layouts/application
  [1m[36mBooking Load (1.8ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/views/bookings/index.html.erb:4
  [1m[36mFlat Load (0.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:2
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:6
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:2
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:6
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:2
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:6
  [1m[36mCACHE Flat Load (0.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:2
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:6
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:2
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_booking.html.erb:6
  Rendered collection of bookings/_booking.html.erb [5 times] (131.7ms)
  Rendered bookings/index.html.erb within layouts/application (173.2ms)
Completed 200 OK in 700ms (Views: 629.4ms | ActiveRecord: 23.9ms)


Started GET "/" for 127.0.0.1 at 2018-08-17 16:55:54 +0300
Processing by FlatsController#index as HTML
  [1m[36mFlat Load (1.9ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" LIMIT $1[0m  [["LIMIT", 11]]
  ↳ /home/york/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:8
Completed 500 Internal Server Error in 30ms (ActiveRecord: 0.0ms)


  
  [1m[36mCACHE Flat Load (0.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" LIMIT $1[0m  [["LIMIT", 11]]
  ↳ /home/york/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:8
NoMethodError (undefined method `order_by' for #<Flat::ActiveRecord_Relation:0x00007f98226ec820>
Did you mean?  order):
  
app/queries/flats_query.rb:9:in `filter'
app/controllers/flats_controller.rb:6:in `index'
Started GET "/" for 127.0.0.1 at 2018-08-17 16:56:36 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.9ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (88.7ms)
  [1m[35m (1.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (167.5ms)
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 727ms (Views: 701.4ms | ActiveRecord: 17.8ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=price&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=&filter%5Bend_date%5D=" for 127.0.0.1 at 2018-08-17 16:56:40 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"price", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"", "end_date"=>""}}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (58.2ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (93.1ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 571ms (Views: 565.5ms | ActiveRecord: 3.0ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=price&filter%5Bdirection%5D=DESC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=&filter%5Bend_date%5D=" for 127.0.0.1 at 2018-08-17 16:56:45 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"price", "direction"=>"DESC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"", "end_date"=>""}}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (50.2ms)
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (119.8ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 547ms (Views: 533.7ms | ActiveRecord: 4.8ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=price&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=&filter%5Bend_date%5D=" for 127.0.0.1 at 2018-08-17 16:56:49 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"price", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"", "end_date"=>""}}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (65.1ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (1.3ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (114.0ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 531ms (Views: 516.1ms | ActiveRecord: 5.5ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=price&filter%5Bdirection%5D=DESC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=&filter%5Bend_date%5D=" for 127.0.0.1 at 2018-08-17 16:56:51 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"price", "direction"=>"DESC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"", "end_date"=>""}}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (3.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (77.6ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (116.1ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 593ms (Views: 581.4ms | ActiveRecord: 6.7ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=capacity&filter%5Bdirection%5D=DESC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=&filter%5Bend_date%5D=" for 127.0.0.1 at 2018-08-17 16:56:55 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"capacity", "direction"=>"DESC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"", "end_date"=>""}}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (34.2ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (1.9ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (84.8ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 668ms (Views: 661.4ms | ActiveRecord: 5.4ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=DESC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=&filter%5Bend_date%5D=" for 127.0.0.1 at 2018-08-17 16:56:59 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"DESC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"", "end_date"=>""}}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (54.9ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (2.1ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (91.6ms)
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 533ms (Views: 522.7ms | ActiveRecord: 7.6ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=capacity&filter%5Bdirection%5D=DESC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=&filter%5Bend_date%5D=" for 127.0.0.1 at 2018-08-17 16:58:45 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"capacity", "direction"=>"DESC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"", "end_date"=>""}}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (48.7ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (95.3ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 607ms (Views: 592.2ms | ActiveRecord: 5.9ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=popularity&filter%5Bdirection%5D=DESC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=&filter%5Bend_date%5D=" for 127.0.0.1 at 2018-08-17 16:58:47 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"popularity", "direction"=>"DESC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"", "end_date"=>""}}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (28.5ms)
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (2.2ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (63.4ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 455ms (Views: 448.4ms | ActiveRecord: 5.2ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=price&filter%5Bdirection%5D=DESC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=&filter%5Bend_date%5D=" for 127.0.0.1 at 2018-08-17 16:58:50 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"price", "direction"=>"DESC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"", "end_date"=>""}}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.9ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (77.5ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (1.2ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (120.0ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 559ms (Views: 548.0ms | ActiveRecord: 4.4ms)


Started GET "/" for 127.0.0.1 at 2018-08-17 16:59:23 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (43.0ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (1.2ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (79.4ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 477ms (Views: 457.8ms | ActiveRecord: 13.3ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-17 16:59:25 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:59
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (7.1ms)
  Rendered flats/show.html.erb within layouts/application (28.9ms)
Completed 200 OK in 318ms (Views: 293.4ms | ActiveRecord: 4.9ms)


Started GET "/flats/1.json?start=2018-07-29&end=2018-09-09&_=1534514331246" for 127.0.0.1 at 2018-08-17 16:59:25 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534514331246", "id"=>"1"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (0.6ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:59
Completed 200 OK in 14ms (Views: 2.7ms | ActiveRecord: 0.9ms)


Started GET "/" for 127.0.0.1 at 2018-08-17 16:59:32 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.9ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (56.7ms)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (2.7ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (112.6ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 410ms (Views: 393.5ms | ActiveRecord: 7.9ms)


Started GET "/" for 127.0.0.1 at 2018-08-17 16:59:47 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (97.2ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.8ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (205.7ms)
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 815ms (Views: 758.7ms | ActiveRecord: 31.2ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=popularity&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=&filter%5Bend_date%5D=" for 127.0.0.1 at 2018-08-17 16:59:51 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"popularity", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"", "end_date"=>""}}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" LEFT OUTER JOIN "bookings" ON "bookings"."flat_id" = "flats"."id" GROUP BY flats.id ORDER BY bookings.count ASC NULLS LAST LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (52.2ms)
  [1m[35m (1.6ms)[0m  [1m[34mSELECT COUNT(*) AS count_all, flats.id AS flats_id FROM "flats" LEFT OUTER JOIN "bookings" ON "bookings"."flat_id" = "flats"."id" GROUP BY flats.id[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (1.6ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (117.9ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 563ms (Views: 554.1ms | ActiveRecord: 7.3ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=popularity&filter%5Bdirection%5D=DESC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=&filter%5Bend_date%5D=" for 127.0.0.1 at 2018-08-17 16:59:53 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"popularity", "direction"=>"DESC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"", "end_date"=>""}}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (8.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" LEFT OUTER JOIN "bookings" ON "bookings"."flat_id" = "flats"."id" GROUP BY flats.id ORDER BY bookings.count DESC NULLS LAST LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (57.6ms)
  [1m[35m (2.4ms)[0m  [1m[34mSELECT COUNT(*) AS count_all, flats.id AS flats_id FROM "flats" LEFT OUTER JOIN "bookings" ON "bookings"."flat_id" = "flats"."id" GROUP BY flats.id[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (103.8ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 548ms (Views: 531.6ms | ActiveRecord: 13.6ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=popularity&filter%5Bdirection%5D=DESC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=&filter%5Bend_date%5D=" for 127.0.0.1 at 2018-08-17 17:08:26 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"popularity", "direction"=>"DESC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"", "end_date"=>""}}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (5.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" LEFT OUTER JOIN "bookings" ON "bookings"."flat_id" = "flats"."id" GROUP BY flats.id ORDER BY bookings.count DESC NULLS LAST LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (3.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (59.0ms)
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) AS count_all, flats.id AS flats_id FROM "flats" LEFT OUTER JOIN "bookings" ON "bookings"."flat_id" = "flats"."id" GROUP BY flats.id[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (3.6ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (116.3ms)
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 762ms (Views: 739.4ms | ActiveRecord: 15.6ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=popularity&filter%5Bdirection%5D=DESC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=&filter%5Bend_date%5D=" for 127.0.0.1 at 2018-08-17 17:10:47 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"popularity", "direction"=>"DESC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"", "end_date"=>""}}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.9ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" LEFT OUTER JOIN "bookings" ON "bookings"."flat_id" = "flats"."id" GROUP BY flats.id ORDER BY bookings.count DESC NULLS LAST LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (46.7ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) AS count_all, flats.id AS flats_id FROM "flats" LEFT OUTER JOIN "bookings" ON "bookings"."flat_id" = "flats"."id" GROUP BY flats.id[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (154.8ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 545ms (Views: 503.6ms | ActiveRecord: 31.2ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=price&filter%5Bdirection%5D=DESC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=&filter%5Bend_date%5D=" for 127.0.0.1 at 2018-08-17 17:10:51 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"price", "direction"=>"DESC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"", "end_date"=>""}}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.price DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (43.6ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (1.7ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (83.7ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 480ms (Views: 473.0ms | ActiveRecord: 4.7ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=price&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=&filter%5Bend_date%5D=" for 127.0.0.1 at 2018-08-17 17:10:54 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"price", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"", "end_date"=>""}}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.price ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (67.6ms)
  [1m[35m (1.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (119.3ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 610ms (Views: 595.6ms | ActiveRecord: 8.0ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=&filter%5Bend_date%5D=" for 127.0.0.1 at 2018-08-17 17:11:00 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"", "end_date"=>""}}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (2.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (49.1ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.8ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (90.9ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 488ms (Views: 478.4ms | ActiveRecord: 8.1ms)


Started GET "/" for 127.0.0.1 at 2018-08-17 17:12:13 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (40.4ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (83.4ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 306ms (Views: 291.0ms | ActiveRecord: 9.4ms)


Started GET "/" for 127.0.0.1 at 2018-08-17 17:12:14 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (44.7ms)
  [1m[35m (1.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (83.5ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 378ms (Views: 369.3ms | ActiveRecord: 7.0ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=DESC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=&filter%5Bend_date%5D=" for 127.0.0.1 at 2018-08-17 17:12:17 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"DESC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"", "end_date"=>""}}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (43.6ms)
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (1.8ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (98.1ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 505ms (Views: 493.9ms | ActiveRecord: 7.8ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=&filter%5Bend_date%5D=" for 127.0.0.1 at 2018-08-17 17:12:21 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"", "end_date"=>""}}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (5.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (59.4ms)
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (1.3ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (110.4ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 555ms (Views: 540.9ms | ActiveRecord: 10.0ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=price&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=&filter%5Bend_date%5D=" for 127.0.0.1 at 2018-08-17 17:12:23 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"price", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"", "end_date"=>""}}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.price ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (60.0ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (97.0ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 552ms (Views: 543.5ms | ActiveRecord: 3.3ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=price&filter%5Bdirection%5D=DESC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=&filter%5Bend_date%5D=" for 127.0.0.1 at 2018-08-17 17:12:26 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"price", "direction"=>"DESC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"", "end_date"=>""}}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.price DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (63.7ms)
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (100.9ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 512ms (Views: 504.6ms | ActiveRecord: 5.8ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=DESC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=&filter%5Bend_date%5D=" for 127.0.0.1 at 2018-08-17 17:12:28 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"DESC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"", "end_date"=>""}}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (3.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (58.7ms)
  [1m[35m (1.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (1.7ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (128.2ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 576ms (Views: 559.6ms | ActiveRecord: 11.9ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=&filter%5Bend_date%5D=" for 127.0.0.1 at 2018-08-17 17:12:32 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"", "end_date"=>""}}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (4.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (67.0ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (1.4ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (116.2ms)
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 539ms (Views: 522.6ms | ActiveRecord: 11.1ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=&filter%5Bend_date%5D=" for 127.0.0.1 at 2018-08-17 17:15:15 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"", "end_date"=>""}}
  Rendering flats/index.html.erb within layouts/application
  Rendered flats/index.html.erb within layouts/application (1.8ms)
Completed 500 Internal Server Error in 36ms (ActiveRecord: 0.0ms)


  
SyntaxError (/home/york/Документы/Projects/FlatBooking/app/views/flats/index.html.erb:36: syntax error, unexpected tLABEL
...lter][:capacity] : nil), class: "form-control mr-sm-2" );@ou...
...                         ^~~~~~
/home/york/Документы/Projects/FlatBooking/app/views/flats/index.html.erb:36: syntax error, unexpected ')', expecting keyword_end
...class: "form-control mr-sm-2" );@output_buffer.safe_append='
...                              ^
/home/york/Документы/Projects/FlatBooking/app/views/flats/index.html.erb:50: syntax error, unexpected keyword_ensure, expecting end-of-input
          ensure
          ^~~~~~):
  
app/views/flats/index.html.erb:36: syntax error, unexpected tLABEL
app/views/flats/index.html.erb:36: syntax error, unexpected ')', expecting keyword_end
app/views/flats/index.html.erb:50: syntax error, unexpected keyword_ensure, expecting end-of-input
Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=&filter%5Bend_date%5D=" for 127.0.0.1 at 2018-08-17 17:15:38 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"", "end_date"=>""}}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (135.5ms)
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (1.7ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (282.5ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 853ms (Views: 825.2ms | ActiveRecord: 25.9ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bstart_date%5D=&filter%5Bend_date%5D=" for 127.0.0.1 at 2018-08-17 17:17:44 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "start_date"=>"", "end_date"=>""}}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (68.8ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (182.7ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 611ms (Views: 572.8ms | ActiveRecord: 17.1ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bcapacity%5D=5&filter%5Bstart_date%5D=&filter%5Bend_date%5D=&commit=Search" for 127.0.0.1 at 2018-08-17 17:17:51 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "capacity"=>"5", "start_date"=>"", "end_date"=>""}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."capacity" = $1 ORDER BY flats.created_at ASC LIMIT $2 OFFSET $3[0m  [["capacity", 5], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [1 times] (10.5ms)
  [1m[36mFlat Load (1.9ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (36.2ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 495ms (Views: 485.7ms | ActiveRecord: 4.3ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bcapacity%5D=2&filter%5Bstart_date%5D=&filter%5Bend_date%5D=&commit=Search" for 127.0.0.1 at 2018-08-17 17:17:57 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "capacity"=>"2", "start_date"=>"", "end_date"=>""}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."capacity" = $1 ORDER BY flats.created_at ASC LIMIT $2 OFFSET $3[0m  [["capacity", 2], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (5.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (70.7ms)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."capacity" = $1[0m  [["capacity", 2]]
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (1.5ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (94.1ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 508ms (Views: 494.7ms | ActiveRecord: 9.7ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2018-08-17 17:19:52 +0300
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"Zk1TAhIFDwjjbysmGIMWuB28ChuEF9mvttiHci6+KbBhTvUMxQ9DPhx4fXmkVIpWY6JHrdTDX4eenjHkZmpiXA=="}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 82ms (ActiveRecord: 12.2ms)


Started GET "/" for 127.0.0.1 at 2018-08-17 17:19:53 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (39.4ms)
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (122.2ms)
Completed 200 OK in 548ms (Views: 533.6ms | ActiveRecord: 8.3ms)


Started GET "/secret" for 127.0.0.1 at 2018-08-17 17:19:59 +0300
Processing by UsersController#secret as HTML
Completed 500 Internal Server Error in 35ms (ActiveRecord: 4.7ms)


  
NoMethodError (undefined method `admin' for nil:NilClass):
  
app/policies/flat_policy.rb:34:in `secret?'
app/controllers/users_controller.rb:14:in `secret'
Started GET "/" for 127.0.0.1 at 2018-08-17 17:20:07 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (51.6ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (98.5ms)
Completed 200 OK in 679ms (Views: 671.2ms | ActiveRecord: 5.8ms)


Started GET "/secret" for 127.0.0.1 at 2018-08-17 17:21:23 +0300
Processing by UsersController#secret as HTML
Completed 401 Unauthorized in 19ms (ActiveRecord: 5.5ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2018-08-17 17:21:23 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.4ms)
  Rendered devise/sessions/new.html.erb within layouts/application (11.2ms)
Completed 200 OK in 368ms (Views: 333.4ms | ActiveRecord: 2.9ms)


Started GET "/flats/new" for 127.0.0.1 at 2018-08-17 17:21:29 +0300
Processing by FlatsController#new as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2018-08-17 17:21:29 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.5ms)
  Rendered devise/sessions/new.html.erb within layouts/application (6.1ms)
Completed 200 OK in 303ms (Views: 300.0ms | ActiveRecord: 0.0ms)


Started GET "/users" for 127.0.0.1 at 2018-08-17 17:21:32 +0300
Processing by UsersController#index as HTML
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."vendor" = $1[0m  [["vendor", true]]
  ↳ app/views/users/index.html.erb:12
  [1m[35m (5.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."user_id" = $1[0m  [["user_id", 3]]
  ↳ app/views/users/index.html.erb:16
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE "flats"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/users/index.html.erb:16
  Rendered users/index.html.erb within layouts/application (20.8ms)
Completed 200 OK in 312ms (Views: 301.8ms | ActiveRecord: 7.9ms)


Started GET "/" for 127.0.0.1 at 2018-08-17 17:21:37 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (43.9ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (2.0ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (155.9ms)
Completed 200 OK in 445ms (Views: 423.5ms | ActiveRecord: 11.9ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-17 17:23:33 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (2.0ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  Rendered bookings/_form.html.erb (4.3ms)
  Rendered flats/show.html.erb within layouts/application (14.0ms)
Completed 200 OK in 335ms (Views: 290.5ms | ActiveRecord: 5.5ms)


Started GET "/flats/1.json?start=2018-07-29&end=2018-09-09&_=1534515608923" for 127.0.0.1 at 2018-08-17 17:23:33 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534515608923", "id"=>"1"}
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (1.3ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
Completed 200 OK in 14ms (Views: 2.2ms | ActiveRecord: 1.7ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2018-08-17 17:23:40 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (6.9ms)
  Rendered devise/sessions/new.html.erb within layouts/application (23.6ms)
Completed 200 OK in 316ms (Views: 311.2ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-08-17 17:23:47 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"m5moWDQZ1/IO59IwPOeIvp76ED9ub/6eprNu78i0aPzpc6/A5JmIPGFNKVjCljM4EOXOf4+V9z2/zColOTOINw==", "user"=>{"email"=>"Pork@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "pork@gmail.com"], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = $1, "last_sign_in_at" = $2, "sign_in_count" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["current_sign_in_at", "2018-08-17 14:23:47.228540"], ["last_sign_in_at", "2018-08-17 11:46:02.306890"], ["sign_in_count", 12], ["updated_at", "2018-08-17 14:23:47.229759"], ["id", 2]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/flats/new
Completed 302 Found in 224ms (ActiveRecord: 2.8ms)


Started GET "/flats/new" for 127.0.0.1 at 2018-08-17 17:23:47 +0300
Processing by FlatsController#new as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 10ms (ActiveRecord: 0.8ms)


Started GET "/" for 127.0.0.1 at 2018-08-17 17:23:47 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (38.3ms)
  [1m[35m (1.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (70.2ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 546ms (Views: 539.3ms | ActiveRecord: 5.3ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-17 17:23:53 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (1.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (1.0ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (10.5ms)
  Rendered flats/show.html.erb within layouts/application (28.7ms)
Completed 200 OK in 347ms (Views: 329.3ms | ActiveRecord: 4.6ms)


Started GET "/flats/1.json?start=2018-07-29&end=2018-09-09&_=1534515827989" for 127.0.0.1 at 2018-08-17 17:23:53 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534515827989", "id"=>"1"}
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (1.9ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
Completed 200 OK in 16ms (Views: 1.5ms | ActiveRecord: 2.3ms)


Started GET "/" for 127.0.0.1 at 2018-08-17 17:24:00 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (4.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (26.1ms)
  [1m[35m (1.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (66.7ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 399ms (Views: 385.0ms | ActiveRecord: 8.5ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bcapacity%5D=&filter%5Bstart_date%5D=2018-08-22&filter%5Bend_date%5D=2018-08-25&commit=Search" for 127.0.0.1 at 2018-08-17 17:24:57 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "capacity"=>"", "start_date"=>"2018-08-22", "end_date"=>"2018-08-25"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (8.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE (id NOT IN (SELECT "bookings"."flat_id" FROM "bookings" WHERE (((end_date >= '2018-08-22' AND end_date <= '2018-08-25') OR (start_date >= '2018-08-22' AND start_date <= '2018-08-25')) OR (start_date <= '2018-08-22' AND end_date >= '2018-08-25')))) ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (55.0ms)
  [1m[35m (1.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE (id NOT IN (SELECT "bookings"."flat_id" FROM "bookings" WHERE (((end_date >= '2018-08-22' AND end_date <= '2018-08-25') OR (start_date >= '2018-08-22' AND start_date <= '2018-08-25')) OR (start_date <= '2018-08-22' AND end_date >= '2018-08-25'))))[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (2.2ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (116.0ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 550ms (Views: 530.3ms | ActiveRecord: 15.8ms)


Started GET "/?filter%5Bcapacity%5D=&filter%5Bcategory%5D=created_at&filter%5Bcity%5D=&filter%5Bdirection%5D=ASC&filter%5Bend_date%5D=2018-08-25&filter%5Bname%5D=&filter%5Bstart_date%5D=2018-08-22&filter%5Bvendor%5D=&page=2" for 127.0.0.1 at 2018-08-17 17:25:02 +0300
Processing by FlatsController#index as HTML
  Parameters: {"filter"=>{"capacity"=>"", "category"=>"created_at", "city"=>"", "direction"=>"ASC", "end_date"=>"2018-08-25", "name"=>"", "start_date"=>"2018-08-22", "vendor"=>""}, "page"=>"2"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE (id NOT IN (SELECT "bookings"."flat_id" FROM "bookings" WHERE (((end_date >= '2018-08-22' AND end_date <= '2018-08-25') OR (start_date >= '2018-08-22' AND start_date <= '2018-08-25')) OR (start_date <= '2018-08-22' AND end_date >= '2018-08-25')))) ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 5]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [2 times] (27.1ms)
  [1m[36mFlat Load (1.5ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (75.0ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 377ms (Views: 365.4ms | ActiveRecord: 5.9ms)


Started GET "/?filter%5Bcapacity%5D=&filter%5Bcategory%5D=created_at&filter%5Bcity%5D=&filter%5Bdirection%5D=ASC&filter%5Bend_date%5D=2018-08-25&filter%5Bname%5D=&filter%5Bstart_date%5D=2018-08-22&filter%5Bvendor%5D=" for 127.0.0.1 at 2018-08-17 17:25:03 +0300
Processing by FlatsController#index as HTML
  Parameters: {"filter"=>{"capacity"=>"", "category"=>"created_at", "city"=>"", "direction"=>"ASC", "end_date"=>"2018-08-25", "name"=>"", "start_date"=>"2018-08-22", "vendor"=>""}}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE (id NOT IN (SELECT "bookings"."flat_id" FROM "bookings" WHERE (((end_date >= '2018-08-22' AND end_date <= '2018-08-25') OR (start_date >= '2018-08-22' AND start_date <= '2018-08-25')) OR (start_date <= '2018-08-22' AND end_date >= '2018-08-25')))) ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (55.2ms)
  [1m[35m (2.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE (id NOT IN (SELECT "bookings"."flat_id" FROM "bookings" WHERE (((end_date >= '2018-08-22' AND end_date <= '2018-08-25') OR (start_date >= '2018-08-22' AND start_date <= '2018-08-25')) OR (start_date <= '2018-08-22' AND end_date >= '2018-08-25'))))[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (84.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 363ms (Views: 350.2ms | ActiveRecord: 6.6ms)


Started GET "/flats/4" for 127.0.0.1 at 2018-08-17 17:25:06 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mFlat Load (3.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (1.1ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 4], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (15.3ms)
  Rendered flats/show.html.erb within layouts/application (44.1ms)
Completed 200 OK in 355ms (Views: 330.0ms | ActiveRecord: 8.1ms)


Started GET "/flats/4.json?start=2018-07-29&end=2018-09-09&_=1534515898540" for 127.0.0.1 at 2018-08-17 17:25:07 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534515898540", "id"=>"4"}
  [1m[36mFlat Load (2.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (1.0ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 4], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
Completed 200 OK in 14ms (Views: 1.5ms | ActiveRecord: 3.1ms)


Started GET "/" for 127.0.0.1 at 2018-08-17 17:25:13 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (57.0ms)
  [1m[35m (1.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (101.7ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 380ms (Views: 367.8ms | ActiveRecord: 6.9ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bcapacity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-17&commit=Search" for 127.0.0.1 at 2018-08-17 17:25:19 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "capacity"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-17"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE (id NOT IN (SELECT "bookings"."flat_id" FROM "bookings" WHERE (((end_date >= '2018-08-15' AND end_date <= '2018-08-17') OR (start_date >= '2018-08-15' AND start_date <= '2018-08-17')) OR (start_date <= '2018-08-15' AND end_date >= '2018-08-17')))) ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (4.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (69.4ms)
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE (id NOT IN (SELECT "bookings"."flat_id" FROM "bookings" WHERE (((end_date >= '2018-08-15' AND end_date <= '2018-08-17') OR (start_date >= '2018-08-15' AND start_date <= '2018-08-17')) OR (start_date <= '2018-08-15' AND end_date >= '2018-08-17'))))[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (1.7ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (101.1ms)
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 529ms (Views: 511.7ms | ActiveRecord: 12.6ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-17 17:25:26 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (5.1ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (13.6ms)
  Rendered flats/show.html.erb within layouts/application (40.4ms)
Completed 200 OK in 352ms (Views: 331.2ms | ActiveRecord: 8.3ms)


Started GET "/flats/1.json?start=2018-07-29&end=2018-09-09&_=1534515919726" for 127.0.0.1 at 2018-08-17 17:25:26 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534515919726", "id"=>"1"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (1.0ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:62
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 1.2ms)


Started GET "/" for 127.0.0.1 at 2018-08-17 17:25:31 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.9ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (7.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (66.5ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (115.8ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 402ms (Views: 385.9ms | ActiveRecord: 11.5ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bcapacity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-17&commit=Search" for 127.0.0.1 at 2018-08-17 17:25:44 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "capacity"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-17"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (4.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE (id NOT IN (SELECT "bookings"."flat_id" FROM "bookings" WHERE (((end_date >= '2018-08-15' AND end_date <= '2018-08-17') OR (start_date >= '2018-08-15' AND start_date <= '2018-08-17')) OR (start_date <= '2018-08-15' AND end_date >= '2018-08-17')))) ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (3.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (2.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (77.4ms)
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE (id NOT IN (SELECT "bookings"."flat_id" FROM "bookings" WHERE (((end_date >= '2018-08-15' AND end_date <= '2018-08-17') OR (start_date >= '2018-08-15' AND start_date <= '2018-08-17')) OR (start_date <= '2018-08-15' AND end_date >= '2018-08-17'))))[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (115.6ms)
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 642ms (Views: 618.2ms | ActiveRecord: 12.5ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=capacity&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bcapacity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-17" for 127.0.0.1 at 2018-08-17 17:25:46 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"capacity", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "capacity"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-17"}}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE (id NOT IN (SELECT "bookings"."flat_id" FROM "bookings" WHERE (((end_date >= '2018-08-15' AND end_date <= '2018-08-17') OR (start_date >= '2018-08-15' AND start_date <= '2018-08-17')) OR (start_date <= '2018-08-15' AND end_date >= '2018-08-17')))) ORDER BY flats.capacity ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (59.3ms)
  [1m[35m (1.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE (id NOT IN (SELECT "bookings"."flat_id" FROM "bookings" WHERE (((end_date >= '2018-08-15' AND end_date <= '2018-08-17') OR (start_date >= '2018-08-15' AND start_date <= '2018-08-17')) OR (start_date <= '2018-08-15' AND end_date >= '2018-08-17'))))[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (77.2ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 657ms (Views: 646.7ms | ActiveRecord: 6.8ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=capacity&filter%5Bdirection%5D=DESC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bcapacity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-17" for 127.0.0.1 at 2018-08-17 17:25:49 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"capacity", "direction"=>"DESC", "name"=>"", "vendor"=>"", "city"=>"", "capacity"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-17"}}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (4.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE (id NOT IN (SELECT "bookings"."flat_id" FROM "bookings" WHERE (((end_date >= '2018-08-15' AND end_date <= '2018-08-17') OR (start_date >= '2018-08-15' AND start_date <= '2018-08-17')) OR (start_date <= '2018-08-15' AND end_date >= '2018-08-17')))) ORDER BY flats.capacity DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (74.7ms)
  [1m[35m (4.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE (id NOT IN (SELECT "bookings"."flat_id" FROM "bookings" WHERE (((end_date >= '2018-08-15' AND end_date <= '2018-08-17') OR (start_date >= '2018-08-15' AND start_date <= '2018-08-17')) OR (start_date <= '2018-08-15' AND end_date >= '2018-08-17'))))[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (116.3ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 585ms (Views: 564.4ms | ActiveRecord: 12.7ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=price&filter%5Bdirection%5D=DESC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bcapacity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-17" for 127.0.0.1 at 2018-08-17 17:25:53 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"price", "direction"=>"DESC", "name"=>"", "vendor"=>"", "city"=>"", "capacity"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-17"}}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE (id NOT IN (SELECT "bookings"."flat_id" FROM "bookings" WHERE (((end_date >= '2018-08-15' AND end_date <= '2018-08-17') OR (start_date >= '2018-08-15' AND start_date <= '2018-08-17')) OR (start_date <= '2018-08-15' AND end_date >= '2018-08-17')))) ORDER BY flats.price DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (6.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (68.4ms)
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE (id NOT IN (SELECT "bookings"."flat_id" FROM "bookings" WHERE (((end_date >= '2018-08-15' AND end_date <= '2018-08-17') OR (start_date >= '2018-08-15' AND start_date <= '2018-08-17')) OR (start_date <= '2018-08-15' AND end_date >= '2018-08-17'))))[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (1.9ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (100.5ms)
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 618ms (Views: 600.5ms | ActiveRecord: 13.9ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=Tork&filter%5Bcity%5D=&filter%5Bcapacity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-17&commit=Search" for 127.0.0.1 at 2018-08-17 17:26:08 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"Tork", "city"=>"", "capacity"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-17"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (5.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" INNER JOIN "users" ON "users"."id" = "flats"."user_id" WHERE "users"."name" = $1 AND (id NOT IN (SELECT "bookings"."flat_id" FROM "bookings" WHERE (((end_date >= '2018-08-15' AND end_date <= '2018-08-17') OR (start_date >= '2018-08-15' AND start_date <= '2018-08-17')) OR (start_date <= '2018-08-15' AND end_date >= '2018-08-17')))) ORDER BY flats.created_at ASC LIMIT $2 OFFSET $3[0m  [["name", "Tork"], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  Rendered flats/index.html.erb within layouts/application (22.8ms)
Completed 500 Internal Server Error in 46ms (ActiveRecord: 5.7ms)


  
ActionView::Template::Error (PG::AmbiguousColumn: ОШИБКА:  неоднозначная ссылка на столбец "id"
LINE 1: ... "flats"."user_id" WHERE "users"."name" = $1 AND (id NOT IN ...
                                                             ^
: SELECT  "flats".* FROM "flats" INNER JOIN "users" ON "users"."id" = "flats"."user_id" WHERE "users"."name" = $1 AND (id NOT IN (SELECT "bookings"."flat_id" FROM "bookings" WHERE (((end_date >= '2018-08-15' AND end_date <= '2018-08-17') OR (start_date >= '2018-08-15' AND start_date <= '2018-08-17')) OR (start_date <= '2018-08-15' AND end_date >= '2018-08-17')))) ORDER BY flats.created_at ASC LIMIT $2 OFFSET $3):
     8:     onchange: "submitOnChange()", class: 'submit-on-change'  %>
     9:   <h1>Flats</h1>
    10: 
    11:   <%= render @flats %>
    12: 
    13:   <%= paginate @flats %>
    14: </div>
  
app/views/flats/index.html.erb:11:in `_app_views_flats_index_html_erb__3127381738948607878_70145546846460'
Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=Tork&filter%5Bcity%5D=&filter%5Bcapacity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-17&commit=Search" for 127.0.0.1 at 2018-08-17 17:26:46 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"Tork", "city"=>"", "capacity"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-17"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" INNER JOIN "users" ON "users"."id" = "flats"."user_id" WHERE "users"."name" = $1 AND (flats.id NOT IN (SELECT "bookings"."flat_id" FROM "bookings" WHERE (((end_date >= '2018-08-15' AND end_date <= '2018-08-17') OR (start_date >= '2018-08-15' AND start_date <= '2018-08-17')) OR (start_date <= '2018-08-15' AND end_date >= '2018-08-17')))) ORDER BY flats.created_at ASC LIMIT $2 OFFSET $3[0m  [["name", "Tork"], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [2 times] (63.5ms)
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (135.9ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 604ms (Views: 541.1ms | ActiveRecord: 20.7ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=Tork&filter%5Bcity%5D=Mukacheve&filter%5Bcapacity%5D=2&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-17&commit=Search" for 127.0.0.1 at 2018-08-17 17:27:03 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"Tork", "city"=>"Mukacheve", "capacity"=>"2", "start_date"=>"2018-08-15", "end_date"=>"2018-08-17"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" INNER JOIN "users" ON "users"."id" = "flats"."user_id" WHERE "users"."name" = $1 AND "flats"."city" = $2 AND "flats"."capacity" = $3 AND (flats.id NOT IN (SELECT "bookings"."flat_id" FROM "bookings" WHERE (((end_date >= '2018-08-15' AND end_date <= '2018-08-17') OR (start_date >= '2018-08-15' AND start_date <= '2018-08-17')) OR (start_date <= '2018-08-15' AND end_date >= '2018-08-17')))) ORDER BY flats.created_at ASC LIMIT $4 OFFSET $5[0m  [["name", "Tork"], ["city", "Mukacheve"], ["capacity", 2], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [1 times] (18.9ms)
  [1m[36mFlat Load (2.0ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (56.4ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 564ms (Views: 551.8ms | ActiveRecord: 7.3ms)


Started GET "/" for 127.0.0.1 at 2018-08-17 17:27:06 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (5.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (52.5ms)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (96.7ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 524ms (Views: 506.0ms | ActiveRecord: 10.0ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=Modern&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bcapacity%5D=&filter%5Bstart_date%5D=&filter%5Bend_date%5D=&commit=Search" for 127.0.0.1 at 2018-08-17 17:27:59 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"Modern", "vendor"=>"", "city"=>"", "capacity"=>"", "start_date"=>"", "end_date"=>""}, "commit"=>"Search"}
Completed 500 Internal Server Error in 20ms (ActiveRecord: 0.0ms)


  
SyntaxError (/home/york/Документы/Projects/FlatBooking/app/queries/flats_query.rb:10: syntax error, unexpected '}', expecting =>
...LIKE ?', {params_filter[:name]}) if params_filter[:name].pre...
...                              ^):
  
app/queries/flats_query.rb:10: syntax error, unexpected '}', expecting =>
app/controllers/flats_controller.rb:6:in `index'
Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=Modern&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bcapacity%5D=&filter%5Bstart_date%5D=&filter%5Bend_date%5D=&commit=Search" for 127.0.0.1 at 2018-08-17 17:28:14 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"Modern", "vendor"=>"", "city"=>"", "capacity"=>"", "start_date"=>"", "end_date"=>""}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE (name ILIKE '%Modern%') ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [1 times] (59.2ms)
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (114.6ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 576ms (Views: 530.3ms | ActiveRecord: 19.1ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bcapacity%5D=&filter%5Bstart_date%5D=&filter%5Bend_date%5D=&commit=Search" for 127.0.0.1 at 2018-08-17 17:28:22 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "capacity"=>"", "start_date"=>"", "end_date"=>""}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (68.0ms)
  [1m[35m (1.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (1.3ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (131.3ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 625ms (Views: 610.4ms | ActiveRecord: 8.9ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bcapacity%5D=&filter%5Bstart_date%5D=&filter%5Bend_date%5D=&commit=Search" for 127.0.0.1 at 2018-08-17 17:37:51 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "capacity"=>"", "start_date"=>"", "end_date"=>""}, "commit"=>"Search"}
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.0ms)


  
SyntaxError (/home/york/Документы/Projects/FlatBooking/app/queries/flats_query.rb:44: syntax error, unexpected tCONSTANT, expecting ')'
...ngs.end_date >= :start_date AND bookings.end_date <= :end_da...
...                            ^~~
/home/york/Документы/Projects/FlatBooking/app/queries/flats_query.rb:44: syntax error, unexpected tCONSTANT, expecting ')'
...kings.end_date <= :end_date) OR
...                             ^~
/home/york/Документы/Projects/FlatBooking/app/queries/flats_query.rb:45: syntax error, unexpected tCONSTANT, expecting ')'
...s.start_date >= :start_date AND bookings.start_date <= :end_...
...                            ^~~
/home/york/Документы/Projects/FlatBooking/app/queries/flats_query.rb:45: syntax error, unexpected tCONSTANT, expecting keyword_end
...ngs.start_date <= :end_date) OR
...                             ^~
/home/york/Документы/Projects/FlatBooking/app/queries/flats_query.rb:46: syntax error, unexpected tCONSTANT, expecting ')'
...s.start_date <= :start_date AND bookings.end_date >= :end_da...
...                            ^~~
/home/york/Документы/Projects/FlatBooking/app/queries/flats_query.rb:46: syntax error, unexpected ')', expecting keyword_end
...ookings.end_date >= :end_date))
...                              ^):
  
app/queries/flats_query.rb:44: syntax error, unexpected tCONSTANT, expecting ')'
app/queries/flats_query.rb:44: syntax error, unexpected tCONSTANT, expecting ')'
app/queries/flats_query.rb:45: syntax error, unexpected tCONSTANT, expecting ')'
app/queries/flats_query.rb:45: syntax error, unexpected tCONSTANT, expecting keyword_end
app/queries/flats_query.rb:46: syntax error, unexpected tCONSTANT, expecting ')'
app/queries/flats_query.rb:46: syntax error, unexpected ')', expecting keyword_end
app/controllers/flats_controller.rb:6:in `index'
Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bcapacity%5D=&filter%5Bstart_date%5D=&filter%5Bend_date%5D=&commit=Search" for 127.0.0.1 at 2018-08-17 17:39:02 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "capacity"=>"", "start_date"=>"", "end_date"=>""}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (2.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (137.9ms)
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.8ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (250.1ms)
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 728ms (Views: 664.5ms | ActiveRecord: 40.3ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bcapacity%5D=&filter%5Bstart_date%5D=&filter%5Bend_date%5D=&commit=Search" for 127.0.0.1 at 2018-08-17 17:39:05 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "capacity"=>"", "start_date"=>"", "end_date"=>""}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (31.8ms)
  [1m[35m (1.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (80.9ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 438ms (Views: 431.9ms | ActiveRecord: 4.2ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bcapacity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-16&commit=Search" for 127.0.0.1 at 2018-08-17 17:39:13 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "capacity"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-16"}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE (flats.id NOT IN (SELECT "flats".* FROM "flats" INNER JOIN "bookings" ON "bookings"."flat_id" = "flats"."id" WHERE ((bookings.end_date >= '2018-08-15' AND bookings.end_date <= '2018-08-16') OR
      (bookings.start_date >= '2018-08-15' AND bookings.start_date <= '2018-08-16') OR
      (bookings.start_date <= '2018-08-15' AND bookings.end_date >= '2018-08-16')))) ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  Rendered flats/index.html.erb within layouts/application (8.8ms)
Completed 500 Internal Server Error in 42ms (ActiveRecord: 1.8ms)


  
ActionView::Template::Error (PG::SyntaxError: ОШИБКА:  в подзапросе слишком много столбцов
LINE 1: SELECT  "flats".* FROM "flats" WHERE (flats.id NOT IN (SELEC...
                                                       ^
: SELECT  "flats".* FROM "flats" WHERE (flats.id NOT IN (SELECT "flats".* FROM "flats" INNER JOIN "bookings" ON "bookings"."flat_id" = "flats"."id" WHERE ((bookings.end_date >= '2018-08-15' AND bookings.end_date <= '2018-08-16') OR
      (bookings.start_date >= '2018-08-15' AND bookings.start_date <= '2018-08-16') OR
      (bookings.start_date <= '2018-08-15' AND bookings.end_date >= '2018-08-16')))) ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2):
     8:     onchange: "submitOnChange()", class: 'submit-on-change'  %>
     9:   <h1>Flats</h1>
    10: 
    11:   <%= render @flats %>
    12: 
    13:   <%= paginate @flats %>
    14: </div>
  
app/views/flats/index.html.erb:11:in `_app_views_flats_index_html_erb__3127381738948607878_70145549643300'
Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bcapacity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-16&commit=Search" for 127.0.0.1 at 2018-08-17 17:42:00 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "capacity"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-16"}, "commit"=>"Search"}
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "flats"."id" FROM "flats" INNER JOIN "bookings" ON "bookings"."flat_id" = "flats"."id" WHERE ((bookings.end_date >= '2018-08-15' AND bookings.end_date <= '2018-08-16') OR
      (bookings.start_date >= '2018-08-15' AND bookings.start_date <= '2018-08-16') OR
      (bookings.start_date <= '2018-08-15' AND bookings.end_date >= '2018-08-16'))[0m
  ↳ app/queries/flats_query.rb:47
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (8.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE (flats.id NOT IN (3,4)) ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (122.4ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE (flats.id NOT IN (3,4))[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (209.2ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 737ms (Views: 663.1ms | ActiveRecord: 27.1ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bcapacity%5D=&filter%5Bstart_date%5D=2018-08-15&filter%5Bend_date%5D=2018-08-16&commit=Search" for 127.0.0.1 at 2018-08-17 17:42:09 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "capacity"=>"", "start_date"=>"2018-08-15", "end_date"=>"2018-08-16"}, "commit"=>"Search"}
  [1m[35m (1.7ms)[0m  [1m[34mSELECT "flats"."id" FROM "flats" INNER JOIN "bookings" ON "bookings"."flat_id" = "flats"."id" WHERE ((bookings.end_date >= '2018-08-15' AND bookings.end_date <= '2018-08-16') OR
      (bookings.start_date >= '2018-08-15' AND bookings.start_date <= '2018-08-16') OR
      (bookings.start_date <= '2018-08-15' AND bookings.end_date >= '2018-08-16'))[0m
  ↳ app/queries/flats_query.rb:47
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE (flats.id NOT IN (3,4)) ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (63.5ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE (flats.id NOT IN (3,4))[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (2.0ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (89.9ms)
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 523ms (Views: 504.2ms | ActiveRecord: 8.7ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bcapacity%5D=&filter%5Bstart_date%5D=2018-08-01&filter%5Bend_date%5D=2018-08-29&commit=Search" for 127.0.0.1 at 2018-08-17 17:42:15 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "capacity"=>"", "start_date"=>"2018-08-01", "end_date"=>"2018-08-29"}, "commit"=>"Search"}
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "flats"."id" FROM "flats" INNER JOIN "bookings" ON "bookings"."flat_id" = "flats"."id" WHERE ((bookings.end_date >= '2018-08-01' AND bookings.end_date <= '2018-08-29') OR
      (bookings.start_date >= '2018-08-01' AND bookings.start_date <= '2018-08-29') OR
      (bookings.start_date <= '2018-08-01' AND bookings.end_date >= '2018-08-29'))[0m
  ↳ app/queries/flats_query.rb:47
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE (flats.id NOT IN (3,1,1,4,4,4,4)) ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [4 times] (47.7ms)
  [1m[36mFlat Load (2.0ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (76.7ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 591ms (Views: 573.5ms | ActiveRecord: 8.1ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=Tork&filter%5Bcity%5D=Mukacheve&filter%5Bcapacity%5D=2&filter%5Bstart_date%5D=2018-08-01&filter%5Bend_date%5D=2018-08-29&commit=Search" for 127.0.0.1 at 2018-08-17 17:42:31 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"Tork", "city"=>"Mukacheve", "capacity"=>"2", "start_date"=>"2018-08-01", "end_date"=>"2018-08-29"}, "commit"=>"Search"}
  [1m[35m (5.0ms)[0m  [1m[34mSELECT "flats"."id" FROM "flats" INNER JOIN "users" ON "users"."id" = "flats"."user_id" INNER JOIN "bookings" ON "bookings"."flat_id" = "flats"."id" WHERE "users"."name" = $1 AND "flats"."city" = $2 AND "flats"."capacity" = $3 AND ((bookings.end_date >= '2018-08-01' AND bookings.end_date <= '2018-08-29') OR
      (bookings.start_date >= '2018-08-01' AND bookings.start_date <= '2018-08-29') OR
      (bookings.start_date <= '2018-08-01' AND bookings.end_date >= '2018-08-29'))[0m  [["name", "Tork"], ["city", "Mukacheve"], ["capacity", 2]]
  ↳ app/queries/flats_query.rb:47
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.9ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" INNER JOIN "users" ON "users"."id" = "flats"."user_id" WHERE "users"."name" = $1 AND "flats"."city" = $2 AND "flats"."capacity" = $3 AND (flats.id NOT IN (NULL)) ORDER BY flats.created_at ASC LIMIT $4 OFFSET $5[0m  [["name", "Tork"], ["city", "Mukacheve"], ["capacity", 2], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (24.8ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 513ms (Views: 493.3ms | ActiveRecord: 7.9ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=Tork&filter%5Bcity%5D=Mukacheve&filter%5Bcapacity%5D=&filter%5Bstart_date%5D=2018-08-01&filter%5Bend_date%5D=2018-08-29&commit=Search" for 127.0.0.1 at 2018-08-17 17:42:42 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"Tork", "city"=>"Mukacheve", "capacity"=>"", "start_date"=>"2018-08-01", "end_date"=>"2018-08-29"}, "commit"=>"Search"}
  [1m[35m (2.8ms)[0m  [1m[34mSELECT "flats"."id" FROM "flats" INNER JOIN "users" ON "users"."id" = "flats"."user_id" INNER JOIN "bookings" ON "bookings"."flat_id" = "flats"."id" WHERE "users"."name" = $1 AND "flats"."city" = $2 AND ((bookings.end_date >= '2018-08-01' AND bookings.end_date <= '2018-08-29') OR
      (bookings.start_date >= '2018-08-01' AND bookings.start_date <= '2018-08-29') OR
      (bookings.start_date <= '2018-08-01' AND bookings.end_date >= '2018-08-29'))[0m  [["name", "Tork"], ["city", "Mukacheve"]]
  ↳ app/queries/flats_query.rb:47
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" INNER JOIN "users" ON "users"."id" = "flats"."user_id" WHERE "users"."name" = $1 AND "flats"."city" = $2 AND (flats.id NOT IN (NULL)) ORDER BY flats.created_at ASC LIMIT $3 OFFSET $4[0m  [["name", "Tork"], ["city", "Mukacheve"], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (15.3ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 454ms (Views: 441.3ms | ActiveRecord: 6.0ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=Tork&filter%5Bcity%5D=Mukacheve&filter%5Bcapacity%5D=&filter%5Bstart_date%5D=&filter%5Bend_date%5D=&commit=Search" for 127.0.0.1 at 2018-08-17 17:42:47 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"Tork", "city"=>"Mukacheve", "capacity"=>"", "start_date"=>"", "end_date"=>""}, "commit"=>"Search"}
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" INNER JOIN "users" ON "users"."id" = "flats"."user_id" WHERE "users"."name" = $1 AND "flats"."city" = $2 ORDER BY flats.created_at ASC LIMIT $3 OFFSET $4[0m  [["name", "Tork"], ["city", "Mukacheve"], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [1 times] (14.1ms)
  [1m[36mFlat Load (5.0ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (43.6ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 510ms (Views: 498.9ms | ActiveRecord: 7.7ms)


Started GET "/flats/2" for 127.0.0.1 at 2018-08-17 17:42:52 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (3.2ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 2], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:67
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (28.0ms)
  Rendered flats/show.html.erb within layouts/application (40.4ms)
Completed 200 OK in 362ms (Views: 347.2ms | ActiveRecord: 8.6ms)


Started GET "/flats/2.json?start=2018-07-29&end=2018-09-09&_=1534516968445" for 127.0.0.1 at 2018-08-17 17:42:52 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534516968445", "id"=>"2"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 2], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:67
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.6ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=Tork&filter%5Bcity%5D=Mukacheve&filter%5Bcapacity%5D=&filter%5Bstart_date%5D=2018-08-14&filter%5Bend_date%5D=2018-08-22&commit=Search" for 127.0.0.1 at 2018-08-17 17:44:16 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"Tork", "city"=>"Mukacheve", "capacity"=>"", "start_date"=>"2018-08-14", "end_date"=>"2018-08-22"}, "commit"=>"Search"}
  [1m[35m (0.8ms)[0m  [1m[34mSELECT flat.id FROM "flats" INNER JOIN "users" ON "users"."id" = "flats"."user_id" INNER JOIN "bookings" ON "bookings"."flat_id" = "flats"."id" WHERE "users"."name" = $1 AND "flats"."city" = $2 AND ((bookings.end_date >= '2018-08-14' AND bookings.end_date <= '2018-08-22') OR
      (bookings.start_date >= '2018-08-14' AND bookings.start_date <= '2018-08-22') OR
      (bookings.start_date <= '2018-08-14' AND bookings.end_date >= '2018-08-22'))[0m  [["name", "Tork"], ["city", "Mukacheve"]]
  ↳ app/queries/flats_query.rb:47
Completed 500 Internal Server Error in 46ms (ActiveRecord: 15.0ms)


  
ActiveRecord::StatementInvalid (PG::UndefinedTable: ОШИБКА:  таблица "flat" отсутствует в предложении FROM
LINE 1: SELECT flat.id FROM "flats" INNER JOIN "users" ON "users"."i...
               ^
: SELECT flat.id FROM "flats" INNER JOIN "users" ON "users"."id" = "flats"."user_id" INNER JOIN "bookings" ON "bookings"."flat_id" = "flats"."id" WHERE "users"."name" = $1 AND "flats"."city" = $2 AND ((bookings.end_date >= '2018-08-14' AND bookings.end_date <= '2018-08-22') OR
      (bookings.start_date >= '2018-08-14' AND bookings.start_date <= '2018-08-22') OR
      (bookings.start_date <= '2018-08-14' AND bookings.end_date >= '2018-08-22'))):
  
app/queries/flats_query.rb:47:in `reserved_date'
app/queries/flats_query.rb:30:in `filter'
app/controllers/flats_controller.rb:6:in `index'
Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=Tork&filter%5Bcity%5D=Mukacheve&filter%5Bcapacity%5D=&filter%5Bstart_date%5D=2018-08-14&filter%5Bend_date%5D=2018-08-22&commit=Search" for 127.0.0.1 at 2018-08-17 17:44:33 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"Tork", "city"=>"Mukacheve", "capacity"=>"", "start_date"=>"2018-08-14", "end_date"=>"2018-08-22"}, "commit"=>"Search"}
  [1m[35m (0.7ms)[0m  [1m[34mSELECT flats.id FROM "flats" INNER JOIN "users" ON "users"."id" = "flats"."user_id" INNER JOIN "bookings" ON "bookings"."flat_id" = "flats"."id" WHERE "users"."name" = $1 AND "flats"."city" = $2 AND ((bookings.end_date >= '2018-08-14' AND bookings.end_date <= '2018-08-22') OR
      (bookings.start_date >= '2018-08-14' AND bookings.start_date <= '2018-08-22') OR
      (bookings.start_date <= '2018-08-14' AND bookings.end_date >= '2018-08-22'))[0m  [["name", "Tork"], ["city", "Mukacheve"]]
  ↳ app/queries/flats_query.rb:47
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" INNER JOIN "users" ON "users"."id" = "flats"."user_id" WHERE "users"."name" = $1 AND "flats"."city" = $2 AND NOT (flats.id IN (NULL)) ORDER BY flats.created_at ASC LIMIT $3 OFFSET $4[0m  [["name", "Tork"], ["city", "Mukacheve"], ["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  Rendered collection of templates [0 times] (0.0ms)
  [1m[36mFlat Load (1.8ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (64.9ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 577ms (Views: 529.5ms | ActiveRecord: 15.0ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bcapacity%5D=&filter%5Bstart_date%5D=2018-08-14&filter%5Bend_date%5D=2018-08-22&commit=Search" for 127.0.0.1 at 2018-08-17 17:44:42 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "capacity"=>"", "start_date"=>"2018-08-14", "end_date"=>"2018-08-22"}, "commit"=>"Search"}
  [1m[35m (1.0ms)[0m  [1m[34mSELECT flats.id FROM "flats" INNER JOIN "bookings" ON "bookings"."flat_id" = "flats"."id" WHERE ((bookings.end_date >= '2018-08-14' AND bookings.end_date <= '2018-08-22') OR
      (bookings.start_date >= '2018-08-14' AND bookings.start_date <= '2018-08-22') OR
      (bookings.start_date <= '2018-08-14' AND bookings.end_date >= '2018-08-22'))[0m
  ↳ app/queries/flats_query.rb:47
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE NOT (flats.id IN (3,1,1,4)) ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [4 times] (50.1ms)
  [1m[36mFlat Load (1.7ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (80.7ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 631ms (Views: 619.6ms | ActiveRecord: 6.4ms)


Started GET "/flats?utf8=%E2%9C%93&filter%5Bcategory%5D=created_at&filter%5Bdirection%5D=ASC&filter%5Bname%5D=&filter%5Bvendor%5D=&filter%5Bcity%5D=&filter%5Bcapacity%5D=&filter%5Bstart_date%5D=2018-08-26&filter%5Bend_date%5D=2018-08-30&commit=Search" for 127.0.0.1 at 2018-08-17 17:44:56 +0300
Processing by FlatsController#index as HTML
  Parameters: {"utf8"=>"✓", "filter"=>{"category"=>"created_at", "direction"=>"ASC", "name"=>"", "vendor"=>"", "city"=>"", "capacity"=>"", "start_date"=>"2018-08-26", "end_date"=>"2018-08-30"}, "commit"=>"Search"}
  [1m[35m (2.9ms)[0m  [1m[34mSELECT flats.id FROM "flats" INNER JOIN "bookings" ON "bookings"."flat_id" = "flats"."id" WHERE ((bookings.end_date >= '2018-08-26' AND bookings.end_date <= '2018-08-30') OR
      (bookings.start_date >= '2018-08-26' AND bookings.start_date <= '2018-08-30') OR
      (bookings.start_date <= '2018-08-26' AND bookings.end_date >= '2018-08-30'))[0m
  ↳ app/queries/flats_query.rb:47
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (2.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE NOT (flats.id IN (4,4)) ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (53.5ms)
  [1m[35m (1.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE NOT (flats.id IN (4,4))[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (5.1ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (120.0ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 639ms (Views: 610.2ms | ActiveRecord: 14.3ms)


Started GET "/?filter%5Bcapacity%5D=&filter%5Bcategory%5D=created_at&filter%5Bcity%5D=&filter%5Bdirection%5D=ASC&filter%5Bend_date%5D=2018-08-30&filter%5Bname%5D=&filter%5Bstart_date%5D=2018-08-26&filter%5Bvendor%5D=&page=2" for 127.0.0.1 at 2018-08-17 17:45:02 +0300
Processing by FlatsController#index as HTML
  Parameters: {"filter"=>{"capacity"=>"", "category"=>"created_at", "city"=>"", "direction"=>"ASC", "end_date"=>"2018-08-30", "name"=>"", "start_date"=>"2018-08-26", "vendor"=>""}, "page"=>"2"}
  [1m[35m (2.7ms)[0m  [1m[34mSELECT flats.id FROM "flats" INNER JOIN "bookings" ON "bookings"."flat_id" = "flats"."id" WHERE ((bookings.end_date >= '2018-08-26' AND bookings.end_date <= '2018-08-30') OR
      (bookings.start_date >= '2018-08-26' AND bookings.start_date <= '2018-08-30') OR
      (bookings.start_date <= '2018-08-26' AND bookings.end_date >= '2018-08-30'))[0m
  ↳ app/queries/flats_query.rb:47
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE NOT (flats.id IN (4,4)) ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 5]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [1 times] (10.8ms)
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (53.5ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 388ms (Views: 364.0ms | ActiveRecord: 5.8ms)


Started GET "/?filter%5Bcapacity%5D=&filter%5Bcategory%5D=created_at&filter%5Bcity%5D=&filter%5Bdirection%5D=ASC&filter%5Bend_date%5D=2018-08-30&filter%5Bname%5D=&filter%5Bstart_date%5D=2018-08-26&filter%5Bvendor%5D=" for 127.0.0.1 at 2018-08-17 17:45:04 +0300
Processing by FlatsController#index as HTML
  Parameters: {"filter"=>{"capacity"=>"", "category"=>"created_at", "city"=>"", "direction"=>"ASC", "end_date"=>"2018-08-30", "name"=>"", "start_date"=>"2018-08-26", "vendor"=>""}}
  [1m[35m (0.7ms)[0m  [1m[34mSELECT flats.id FROM "flats" INNER JOIN "bookings" ON "bookings"."flat_id" = "flats"."id" WHERE ((bookings.end_date >= '2018-08-26' AND bookings.end_date <= '2018-08-30') OR
      (bookings.start_date >= '2018-08-26' AND bookings.start_date <= '2018-08-30') OR
      (bookings.start_date <= '2018-08-26' AND bookings.end_date >= '2018-08-30'))[0m
  ↳ app/queries/flats_query.rb:47
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE NOT (flats.id IN (4,4)) ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (2.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (2.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (46.9ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats" WHERE NOT (flats.id IN (4,4))[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (88.0ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 376ms (Views: 365.5ms | ActiveRecord: 8.0ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-17 17:45:07 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (1.0ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:67
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (16.0ms)
  Rendered flats/show.html.erb within layouts/application (30.1ms)
Completed 200 OK in 397ms (Views: 345.2ms | ActiveRecord: 11.6ms)


Started GET "/flats/1.json?start=2018-07-29&end=2018-09-09&_=1534517097251" for 127.0.0.1 at 2018-08-17 17:45:07 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534517097251", "id"=>"1"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (0.4ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:67
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.7ms)


Started GET "/" for 127.0.0.1 at 2018-08-17 17:45:11 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (0.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (37.3ms)
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (1.0ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (81.3ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 445ms (Views: 435.6ms | ActiveRecord: 4.8ms)


Started GET "/flats/3" for 127.0.0.1 at 2018-08-17 17:45:13 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mFlat Load (1.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (1.5ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 3], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:67
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (4.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (12.2ms)
  Rendered flats/show.html.erb within layouts/application (65.1ms)
Completed 200 OK in 445ms (Views: 418.3ms | ActiveRecord: 8.2ms)


Started GET "/flats/3.json?start=2018-07-29&end=2018-09-09&_=1534517097252" for 127.0.0.1 at 2018-08-17 17:45:13 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534517097252", "id"=>"3"}
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (0.5ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 3], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:67
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.9ms)


Started GET "/" for 127.0.0.1 at 2018-08-17 17:45:19 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (7.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (82.7ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (134.3ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 549ms (Views: 530.4ms | ActiveRecord: 13.1ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-17 17:45:20 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (1.0ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:67
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (21.5ms)
  Rendered flats/show.html.erb within layouts/application (43.8ms)
Completed 200 OK in 395ms (Views: 377.2ms | ActiveRecord: 3.8ms)


Started GET "/flats/3.json?start=2018-07-29&end=2018-09-09&_=1534517097253" for 127.0.0.1 at 2018-08-17 17:45:21 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534517097253", "id"=>"3"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 3], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:67
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.6ms)


Started GET "/flats/1" for 127.0.0.1 at 2018-08-17 17:45:24 +0300
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFlat Load (0.9ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (0.9ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:67
  Rendering flats/show.html.erb within layouts/application
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/show.html.erb:7
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/_form.html.erb:3
  Rendered bookings/_form.html.erb (15.1ms)
  Rendered flats/show.html.erb within layouts/application (39.6ms)
Completed 200 OK in 585ms (Views: 562.7ms | ActiveRecord: 3.6ms)


Started GET "/flats/1.json?start=2018-07-29&end=2018-09-09&_=1534517124828" for 127.0.0.1 at 2018-08-17 17:45:25 +0300
Processing by FlatsController#show as JSON
  Parameters: {"start"=>"2018-07-29", "end"=>"2018-09-09", "_"=>"1534517124828", "id"=>"1"}
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/flats_controller.rb:64
  [1m[36mBooking Load (2.9ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."flat_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["flat_id", 1], ["LIMIT", 1000]]
  ↳ app/queries/flats_query.rb:67
Completed 200 OK in 15ms (Views: 1.6ms | ActiveRecord: 3.3ms)


Started GET "/" for 127.0.0.1 at 2018-08-17 17:45:28 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.9ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (2.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (50.5ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (98.5ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 394ms (Views: 381.9ms | ActiveRecord: 6.8ms)


Started GET "/" for 127.0.0.1 at 2018-08-17 17:54:20 +0300
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (63.6ms)
  [1m[35m (1.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (1.8ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (112.2ms)
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
Completed 200 OK in 760ms (Views: 748.4ms | ActiveRecord: 6.8ms)


Started GET "/" for 127.0.0.1 at 2018-08-19 14:03:27 +0300
  [1m[35m (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/york/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by FlatsController#index as HTML
  Rendering flats/index.html.erb within layouts/application
  [1m[36mFlat Load (1.9ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" ORDER BY flats.created_at ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  ↳ app/views/flats/index.html.erb:11
  [1m[36mUser Load (2.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flats/_flat.html.erb:10
  Rendered collection of flats/_flat.html.erb [5 times] (226.2ms)
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:13
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT DISTINCT city FROM "flats"[0m
  ↳ app/views/flats/index.html.erb:32
  Rendered flats/index.html.erb within layouts/application (323.9ms)
Completed 200 OK in 613ms (Views: 575.1ms | ActiveRecord: 13.2ms)


